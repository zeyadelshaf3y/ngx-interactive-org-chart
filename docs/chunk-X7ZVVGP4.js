import{f as tn,g as ht,h as nn,l as on,m as rn,q as gt}from"./chunk-ZA6ABTL3.js";import{c as mt,d as He,f as ve,g as qe}from"./chunk-PT2JM3JA.js";import{$ as it,$a as $,Cb as G,Db as ue,Ea as xe,Fb as De,Gb as w,Ha as Le,Hb as ne,La as Ve,Qa as fe,S as Oe,Ta as R,Ua as z,Va as jt,Wa as Fe,X as N,Xa as Ye,Y as I,Ya as B,Z as qt,Za as x,_a as M,a as E,ab as Me,b as X,bb as J,c as Ht,cb as U,d as j,db as f,e as Zo,ea as L,gb as st,hb as lt,ib as ct,jb as ee,ka as at,kb as Pe,lb as dt,mb as $t,nb as ie,ob as Ut,pb as Y,qb as te,rb as Gt,sa as Xt,sb as Qt,tb as Kt,ua as O,ub as ut,vb as Jt,wb as en,xb as Te,yb as We}from"./chunk-WCBOQNJJ.js";var sn=j((ri,Xe)=>{"use strict";Xe.exports=an;Xe.exports.addWheelListener=an;Xe.exports.removeWheelListener=Ao;function an(o,r,e){o.addEventListener("wheel",r,e)}function Ao(o,r,e){o.removeEventListener("wheel",r,e)}});var gn=j((ii,hn)=>{"use strict";var Ro=4,zo=.001,Bo=1e-7,Lo=10,Se=11,je=1/(Se-1),Vo=typeof Float32Array=="function";function ln(o,r){return 1-3*r+3*o}function cn(o,r){return 3*r-6*o}function dn(o){return 3*o}function $e(o,r,e){return((ln(r,e)*o+cn(r,e))*o+dn(r))*o}function un(o,r,e){return 3*ln(r,e)*o*o+2*cn(r,e)*o+dn(r)}function Fo(o,r,e,t,n){var i,a,l=0;do a=r+(e-r)/2,i=$e(a,t,n)-o,i>0?e=a:r=a;while(Math.abs(i)>Bo&&++l<Lo);return a}function Yo(o,r,e,t){for(var n=0;n<Ro;++n){var i=un(r,e,t);if(i===0)return r;var a=$e(r,e,t)-o;r-=a/i}return r}function Wo(o){return o}hn.exports=function(r,e,t,n){if(!(0<=r&&r<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(r===e&&t===n)return Wo;for(var i=Vo?new Float32Array(Se):new Array(Se),a=0;a<Se;++a)i[a]=$e(a*je,r,t);function l(c){for(var d=0,g=1,p=Se-1;g!==p&&i[g]<=c;++g)d+=je;--g;var _=(c-i[g])/(i[g+1]-i[g]),v=d+_*je,y=un(v,r,t);return y>=zo?Yo(c,v,r,t):y===0?v:Fo(c,d,d+je,r,t)}return function(d){return d===0?0:d===1?1:$e(l(d),e,n)}}});var vn=j((ai,Ue)=>{"use strict";var Ee=gn(),mn={ease:Ee(.25,.1,.25,1),easeIn:Ee(.42,0,1,1),easeOut:Ee(0,0,.58,1),easeInOut:Ee(.42,0,.58,1),linear:Ee(0,0,1,1)};Ue.exports=Ho;Ue.exports.makeAggregateRaf=fn;Ue.exports.sharedScheduler=fn();function Ho(o,r,e){var t=Object.create(null),n=Object.create(null);e=e||{};var i=typeof e.easing=="function"?e.easing:mn[e.easing];i||(e.easing&&console.warn("Unknown easing function in amator: "+e.easing),i=mn.ease);var a=typeof e.step=="function"?e.step:pn,l=typeof e.done=="function"?e.done:pn,c=qo(e.scheduler),d=Object.keys(r);d.forEach(function(C){t[C]=o[C],n[C]=r[C]-o[C]});var g=typeof e.duration=="number"?e.duration:400,p=Math.max(1,g*.06),_,v=0;return _=c.next(D),{cancel:y};function y(){c.cancel(_),_=0}function D(){var C=i(v/p);v+=1,S(C),v<=p?(_=c.next(D),a(o)):(_=0,setTimeout(function(){l(o)},0))}function S(C){d.forEach(function(Z){o[Z]=n[Z]*C+t[Z]})}}function pn(){}function qo(o){if(!o){var r=typeof window<"u"&&window.requestAnimationFrame;return r?Xo():jo()}if(typeof o.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof o.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return o}function Xo(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function jo(){return{next:function(o){return setTimeout(o,1e3/60)},cancel:function(o){return clearTimeout(o)}}}function fn(){var o=new Set,r=new Set,e=0;return{next:n,cancel:n,clearAll:t};function t(){o.clear(),r.clear(),cancelAnimationFrame(e),e=0}function n(c){r.add(c),i()}function i(){e||(e=requestAnimationFrame(a))}function a(){e=0;var c=r;r=o,o=c,o.forEach(function(d){d()}),o.clear()}function l(c){r.delete(c)}}});var Cn=j((si,_n)=>{"use strict";_n.exports=function(r){Uo(r);var e=$o(r);return r.on=e.on,r.off=e.off,r.fire=e.fire,r};function $o(o){var r=Object.create(null);return{on:function(e,t,n){if(typeof t!="function")throw new Error("callback is expected to be a function");var i=r[e];return i||(i=r[e]=[]),i.push({callback:t,ctx:n}),o},off:function(e,t){var n=typeof e>"u";if(n)return r=Object.create(null),o;if(r[e]){var i=typeof t!="function";if(i)delete r[e];else for(var a=r[e],l=0;l<a.length;++l)a[l].callback===t&&a.splice(l,1)}return o},fire:function(e){var t=r[e];if(!t)return o;var n;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var i=0;i<t.length;++i){var a=t[i];a.callback.apply(a.ctx,n)}return o}}}function Uo(o){if(!o)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],e=0;e<r.length;++e)if(o.hasOwnProperty(r[e]))throw new Error("Subject cannot be eventified, since it already has property '"+r[e]+"'")}});var wn=j((li,bn)=>{"use strict";bn.exports=Go;function Go(o,r,e){typeof e!="object"&&(e={});var t=typeof e.minVelocity=="number"?e.minVelocity:5,n=typeof e.amplitude=="number"?e.amplitude:.25,i=typeof e.cancelAnimationFrame=="function"?e.cancelAnimationFrame:Qo(),a=typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame:Ko(),l,c,d=342,g,p,_,v,y,D,S,C;return{start:Q,stop:he,cancel:Z};function Z(){i(g),i(C)}function Q(){l=o(),v=S=p=y=0,c=new Date,i(g),i(C),g=a(se)}function se(){var H=Date.now(),re=H-c;c=H;var V=o(),F=V.x-l.x,le=V.y-l.y;l=V;var A=1e3/(1+re);p=.8*F*A+.2*p,y=.8*le*A+.2*y,g=a(se)}function he(){i(g),i(C);var H=o();_=H.x,D=H.y,c=Date.now(),(p<-t||p>t)&&(v=n*p,_+=v),(y<-t||y>t)&&(S=n*y,D+=S),C=a(oe)}function oe(){var H=Date.now()-c,re=!1,V=0,F=0;v&&(V=-v*Math.exp(-H/d),V>.5||V<-.5?re=!0:V=v=0),S&&(F=-S*Math.exp(-H/d),F>.5||F<-.5?re=!0:F=S=0),re&&(r(_+V,D+F),C=a(oe))}}function Qo(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Ko(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(o){return setTimeout(o,16)}}});var Mn=j((ci,xn)=>{"use strict";xn.exports=Jo;function Jo(o){if(o)return{capture:On,release:On};var r,e,t,n=!1;return{capture:i,release:a};function i(l){n=!0,e=window.document.onselectstart,t=window.document.ondragstart,window.document.onselectstart=yn,r=l,r.ondragstart=yn}function a(){n&&(n=!1,window.document.onselectstart=e,r&&(r.ondragstart=t))}}function yn(o){return o.stopPropagation(),!1}function On(){}});var Tn=j((di,Pn)=>{"use strict";Pn.exports=er;function er(){this.x=0,this.y=0,this.scale=1}});var Sn=j((ui,pt)=>{"use strict";pt.exports=tr;pt.exports.canAttach=Dn;function tr(o,r){if(!Dn(o))throw new Error("svg element is required for svg.panzoom to work");var e=o.ownerSVGElement;if(!e)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");r.disableKeyboardInteraction||e.setAttribute("tabindex",0);var t={getBBox:i,getScreenCTM:a,getOwner:n,applyTransform:c,initTransform:l};return t;function n(){return e}function i(){var d=o.getBBox();return{left:d.x,top:d.y,width:d.width,height:d.height}}function a(){var d=e.getCTM();return d||e.getScreenCTM()}function l(d){var g=o.getCTM();g===null&&(g=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),d.x=g.e,d.y=g.f,d.scale=g.a,e.removeAttributeNS(null,"viewBox")}function c(d){o.setAttribute("transform","matrix("+d.scale+" 0 0 "+d.scale+" "+d.x+" "+d.y+")")}}function Dn(o){return o&&o.ownerSVGElement&&o.getCTM}});var Nn=j((hi,ft)=>{"use strict";ft.exports=nr;ft.exports.canAttach=En;function nr(o,r){var e=En(o);if(!e)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var t=o.parentElement;o.scrollTop=0,r.disableKeyboardInteraction||t.setAttribute("tabindex",0);var n={getBBox:a,getOwner:i,applyTransform:l};return n;function i(){return t}function a(){return{left:0,top:0,width:o.clientWidth,height:o.clientHeight}}function l(c){o.style.transformOrigin="0 0 0",o.style.transform="matrix("+c.scale+", 0, 0, "+c.scale+", "+c.x+", "+c.y+")"}}function En(o){return o&&o.parentElement&&o.style}});var Yn=j((gi,Fn)=>{"use strict";var In=sn(),vt=vn(),or=Cn(),rr=wn(),Ln=Mn(),ir=Ln(),ar=Ln(!0),sr=Tn(),kn=Sn(),Zn=Nn(),lr=1,cr=1.75,An=300,Rn=200;Fn.exports=Vn;function Vn(o,r){r=r||{};var e=r.controller;if(e||(kn.canAttach(o)?e=kn(o,r):Zn.canAttach(o)&&(e=Zn(o,r))),!e)throw new Error("Cannot create panzoom for the current type of dom element");var t=e.getOwner(),n={x:0,y:0},i=!1,a=new sr;e.initTransform&&e.initTransform(a);var l=typeof r.filterKey=="function"?r.filterKey:Ce,c=typeof r.pinchSpeed=="number"?r.pinchSpeed:1,d=r.bounds,g=typeof r.maxZoom=="number"?r.maxZoom:Number.POSITIVE_INFINITY,p=typeof r.minZoom=="number"?r.minZoom:0,_=typeof r.boundsPadding=="number"?r.boundsPadding:.05,v=typeof r.zoomDoubleClickSpeed=="number"?r.zoomDoubleClickSpeed:cr,y=r.beforeWheel||Ce,D=r.beforeMouseDown||Ce,S=typeof r.zoomSpeed=="number"?r.zoomSpeed:lr,C=zn(r.transformOrigin),Z=r.enableTextSelection?ar:ir;dr(d),r.autocenter&&lo();var Q,se=0,he=0,oe=0,H=null,re=new Date,V,F=!1,le=!1,A,W,Qe,Ke,Je,q;"smoothScroll"in r&&!r.smoothScroll?q=ur():q=rr(Co,xo,r.smoothScroll);var et,be,Ne,Ie=!1;Mt();var ke={dispose:Mo,moveBy:ge,moveTo:tt,smoothMoveTo:Oo,centerOn:yo,zoomTo:ze,zoomAbs:Ze,smoothZoom:Re,smoothZoomAbs:Io,showRectangle:so,pause:ro,resume:io,isPaused:ao,getTransform:co,getMinZoom:uo,setMinZoom:ho,getMaxZoom:go,setMaxZoom:mo,getTransformOrigin:po,setTransformOrigin:fo,getZoomSpeed:vo,setZoomSpeed:_o};or(ke);var Ct=typeof r.initialX=="number"?r.initialX:a.x,bt=typeof r.initialY=="number"?r.initialY:a.y,wt=typeof r.initialZoom=="number"?r.initialZoom:a.scale;return(Ct!=a.x||bt!=a.y||wt!=a.scale)&&Ze(Ct,bt,wt),ke;function ro(){Pt(),Ie=!0}function io(){Ie&&(Mt(),Ie=!1)}function ao(){return Ie}function so(s){var u=t.getBoundingClientRect(),h=ce(u.width,u.height),m=s.right-s.left,b=s.bottom-s.top;if(!Number.isFinite(m)||!Number.isFinite(b))throw new Error("Invalid rectangle");var P=h.x/m,T=h.y/b,k=Math.min(P,T);a.x=-(s.left+m/2)*k+h.x/2,a.y=-(s.top+b/2)*k+h.y/2,a.scale=k}function ce(s,u){if(e.getScreenCTM){var h=e.getScreenCTM(),m=h.a,b=h.d,P=h.e,T=h.f;n.x=s*m-P,n.y=u*b-T}else n.x=s,n.y=u;return n}function lo(){var s,u,h=0,m=0,b=Ot();if(b)h=b.left,m=b.top,s=b.right-b.left,u=b.bottom-b.top;else{var P=t.getBoundingClientRect();s=P.width,u=P.height}var T=e.getBBox();if(!(T.width===0||T.height===0)){var k=u/T.height,pe=s/T.width,de=Math.min(pe,k);a.x=-(T.left+T.width/2)*de+s/2+h,a.y=-(T.top+T.height/2)*de+u/2+m,a.scale=de}}function co(){return a}function uo(){return p}function ho(s){p=s}function go(){return g}function mo(s){g=s}function po(){return C}function fo(s){C=zn(s)}function vo(){return S}function _o(s){if(!Number.isFinite(s))throw new Error("Zoom speed should be a number");S=s}function Co(){return{x:a.x,y:a.y}}function tt(s,u){a.x=s,a.y=u,nt(),me("pan"),ot()}function yt(s,u){tt(a.x+s,a.y+u)}function nt(){var s=Ot();if(s){var u=!1,h=bo(),m=s.left-h.right;return m>0&&(a.x+=m,u=!0),m=s.right-h.left,m<0&&(a.x+=m,u=!0),m=s.top-h.bottom,m>0&&(a.y+=m,u=!0),m=s.bottom-h.top,m<0&&(a.y+=m,u=!0),u}}function Ot(){if(d){if(typeof d=="boolean"){var s=t.getBoundingClientRect(),u=s.width,h=s.height;return{left:u*_,top:h*_,right:u*(1-_),bottom:h*(1-_)}}return d}}function bo(){var s=e.getBBox(),u=wo(s.left,s.top);return{left:u.x,top:u.y,right:s.width*a.scale+u.x,bottom:s.height*a.scale+u.y}}function wo(s,u){return{x:s*a.scale+a.x,y:u*a.scale+a.y}}function ot(){i=!0,Q=window.requestAnimationFrame(Po)}function xt(s,u,h){if(_t(s)||_t(u)||_t(h))throw new Error("zoom requires valid numbers");var m=a.scale*h;if(m<p){if(a.scale===p)return;h=p/a.scale}if(m>g){if(a.scale===g)return;h=g/a.scale}var b=ce(s,u);if(a.x=b.x-h*(b.x-a.x),a.y=b.y-h*(b.y-a.y),d&&_===1&&p===1)a.scale*=h,nt();else{var P=nt();P||(a.scale*=h)}me("zoom"),ot()}function Ze(s,u,h){var m=h/a.scale;xt(s,u,m)}function yo(s){var u=s.ownerSVGElement;if(!u)throw new Error("ui element is required to be within the scene");var h=s.getBoundingClientRect(),m=h.left+h.width/2,b=h.top+h.height/2,P=u.getBoundingClientRect(),T=P.width/2-m,k=P.height/2-b;ge(T,k,!0)}function Oo(s,u){ge(s-a.x,u-a.y,!0)}function ge(s,u,h){if(!h)return yt(s,u);et&&et.cancel();var m={x:0,y:0},b={x:s,y:u},P=0,T=0;et=vt(m,b,{step:function(k){yt(k.x-P,k.y-T),P=k.x,T=k.y}})}function xo(s,u){Be(),tt(s,u)}function Mo(){Pt()}function Mt(){t.addEventListener("mousedown",Zt,{passive:!1}),t.addEventListener("dblclick",kt,{passive:!1}),t.addEventListener("touchstart",Dt,{passive:!1}),t.addEventListener("keydown",Tt,{passive:!1}),In.addWheelListener(t,Lt,{passive:!1}),ot()}function Pt(){In.removeWheelListener(t,Lt),t.removeEventListener("mousedown",Zt),t.removeEventListener("keydown",Tt),t.removeEventListener("dblclick",kt),t.removeEventListener("touchstart",Dt),Q&&(window.cancelAnimationFrame(Q),Q=0),q.cancel(),zt(),Bt(),Z.release(),rt()}function Po(){i&&To()}function To(){i=!1,e.applyTransform(a),me("transform"),Q=0}function Tt(s){var u=0,h=0,m=0;if(s.keyCode===38?h=1:s.keyCode===40?h=-1:s.keyCode===37?u=1:s.keyCode===39?u=-1:s.keyCode===189||s.keyCode===109?m=1:(s.keyCode===187||s.keyCode===107)&&(m=-1),!l(s,u,h,m)){if(u||h){s.preventDefault(),s.stopPropagation();var b=t.getBoundingClientRect(),P=Math.min(b.width,b.height),T=.05,k=P*T*u,pe=P*T*h;ge(k,pe)}if(m){var de=Vt(m*100),P=C?ye():Do();ze(P.x,P.y,de)}}}function Do(){var s=t.getBoundingClientRect();return{x:s.width/2,y:s.height/2}}function Dt(s){if(So(s),we(),s.touches.length===1)return No(s,s.touches[0]);s.touches.length===2&&(Je=It(s.touches[0],s.touches[1]),Ne=!0,St())}function So(s){r.onTouch&&!r.onTouch(s)||(s.stopPropagation(),s.preventDefault())}function Eo(s){we(),!(r.onDoubleClick&&!r.onDoubleClick(s))&&(s.preventDefault(),s.stopPropagation())}function No(s){he=new Date;var u=s.touches[0],h=K(u);V=h;var m=ce(h.x,h.y);A=m.x,W=m.y,Qe=A,Ke=W,q.cancel(),St()}function St(){F||(F=!0,document.addEventListener("touchmove",Et),document.addEventListener("touchend",Ae),document.addEventListener("touchcancel",Ae))}function Et(s){if(s.touches.length===1){s.stopPropagation();var u=s.touches[0],h=K(u),m=ce(h.x,h.y),b=m.x-A,P=m.y-W;b!==0&&P!==0&&Ft(),A=m.x,W=m.y,ge(b,P)}else if(s.touches.length===2){Ne=!0;var T=s.touches[0],k=s.touches[1],pe=It(T,k),de=1+(pe/Je-1)*c,Yt=K(T),Wt=K(k);if(A=(Yt.x+Wt.x)/2,W=(Yt.y+Wt.y)/2,C){var h=ye();A=h.x,W=h.y}ze(A,W,de),Je=pe,s.stopPropagation(),s.preventDefault()}}function we(){oe&&(clearTimeout(oe),oe=0)}function Nt(s){if(r.onClick){we();var u=A-Qe,h=W-Ke,m=Math.sqrt(u*u+h*h);m>5||(oe=setTimeout(function(){oe=0,r.onClick(s)},An))}}function Ae(s){if(we(),s.touches.length>0){var u=K(s.touches[0]),h=ce(u.x,u.y);A=h.x,W=h.y}else{var m=new Date;if(m-se<An)if(C){var u=ye();Re(u.x,u.y,v)}else Re(V.x,V.y,v);else m-he<Rn&&Nt(s);se=m,rt(),Bt()}}function It(s,u){var h=s.clientX-u.clientX,m=s.clientY-u.clientY;return Math.sqrt(h*h+m*m)}function kt(s){Eo(s);var u=K(s);C&&(u=ye()),Re(u.x,u.y,v)}function Zt(s){if(we(),!D(s)){if(H=s,re=new Date,F)return s.stopPropagation(),!1;var u=s.button===1&&window.event!==null||s.button===0;if(u){q.cancel();var h=K(s),m=ce(h.x,h.y);return Qe=A=m.x,Ke=W=m.y,document.addEventListener("mousemove",At),document.addEventListener("mouseup",Rt),Z.capture(s.target||s.srcElement),!1}}}function At(s){if(!F){Ft();var u=K(s),h=ce(u.x,u.y),m=h.x-A,b=h.y-W;A=h.x,W=h.y,ge(m,b)}}function Rt(){var s=new Date;s-re<Rn&&Nt(H),Z.release(),rt(),zt()}function zt(){document.removeEventListener("mousemove",At),document.removeEventListener("mouseup",Rt),le=!1}function Bt(){document.removeEventListener("touchmove",Et),document.removeEventListener("touchend",Ae),document.removeEventListener("touchcancel",Ae),le=!1,Ne=!1,F=!1}function Lt(s){if(!y(s)){q.cancel();var u=s.deltaY;s.deltaMode>0&&(u*=100);var h=Vt(u);if(h!==1){var m=C?ye():K(s);ze(m.x,m.y,h),s.preventDefault()}}}function K(s){var u,h,m=t.getBoundingClientRect();return u=s.clientX-m.left,h=s.clientY-m.top,{x:u,y:h}}function Re(s,u,h){var m=a.scale,b={scale:m},P={scale:h*m};q.cancel(),Be(),be=vt(b,P,{step:function(T){Ze(s,u,T.scale)},done:ko})}function Io(s,u,h){var m=a.scale,b={scale:m},P={scale:h};q.cancel(),Be(),be=vt(b,P,{step:function(T){Ze(s,u,T.scale)}})}function ye(){var s=t.getBoundingClientRect();return{x:s.width*C.x,y:s.height*C.y}}function ze(s,u,h){return q.cancel(),Be(),xt(s,u,h)}function Be(){be&&(be.cancel(),be=null)}function Vt(s){var u=Math.sign(s),h=Math.min(.25,Math.abs(S*s/128));return 1-u*h}function Ft(){le||(me("panstart"),le=!0,q.start())}function rt(){le&&(Ne||q.stop(),me("panend"))}function ko(){me("zoomend")}function me(s){ke.fire(s,ke)}}function zn(o){if(o){if(typeof o=="object")return(!_e(o.x)||!_e(o.y))&&Bn(o),o;Bn()}}function Bn(o){throw console.error(o),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Ce(){}function dr(o){var r=typeof o;if(!(r==="undefined"||r==="boolean")){var e=_e(o.left)&&_e(o.top)&&_e(o.bottom)&&_e(o.right);if(!e)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function _e(o){return Number.isFinite(o)}function _t(o){return Number.isNaN?Number.isNaN(o):o!==o}function ur(){return{start:Ce,stop:Ce,cancel:Ce}}function hr(){if(typeof document>"u")return;var o=document.getElementsByTagName("script");if(!o)return;for(var r,e=0;e<o.length;++e){var t=o[e];if(t.src&&t.src.match(/\bpanzoom(\.min)?\.js/)){r=t;break}}if(!r)return;var n=r.getAttribute("query");if(!n)return;var i=r.getAttribute("name")||"pz",a=Date.now();l();function l(){var g=document.querySelector(n);if(!g){var p=Date.now(),_=p-a;if(_<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",i);return}var v=c(r);console.log(v),window[i]=Vn(g,v)}function c(g){for(var p=g.attributes,_={},v=0;v<p.length;++v){var y=p[v],D=d(y);D&&(_[D.name]=D.value)}return _}function d(g){if(g.name){var p=g.name[0]==="p"&&g.name[1]==="z"&&g.name[2]==="-";if(p){var _=g.name.substr(3),v=JSON.parse(g.value);return{name:_,value:v}}}}}hr()});var qn=Zo(Yn(),1);var mr=["miniMapCanvas"],pr=["viewport"];function fr(o,r){if(o&1){let e=J();x(0,"div",3),U("mousedown",function(n){N(e);let i=f();return I(i.onMouseDown(n))}),$(1,"canvas",4,0)(3,"div",5,1),M()}if(o&2){let e=f();Ut("position-"+e.position()),B("ngStyle",e.miniMapStyle()),O(3),B("ngStyle",e.viewportIndicatorStyle())}}var vr=["nodeTemplate"],_r=["dragHandleTemplate"],Cr=["panZoomContainer"],br=["orgChartContainer"],wr=["container"],yr=o=>({node:o}),Or=(o,r)=>[o,r,"node-content"],Xn=(o,r)=>({$implicit:o,node:r}),xr=(o,r)=>({node:o,nodeTemplate:r}),Mr=(o,r)=>r.id;function Pr(o,r){if(o&1&&(x(0,"ul",6),Me(1,8),M()),o&2){let e=f(),t=dt(7);O(),B("ngTemplateOutlet",t)("ngTemplateOutletContext",en(2,yr,e.nodes()))}}function Tr(o,r){if(o&1&&$(0,"ngx-org-chart-mini-map",7),o&2){let e=f();B("panZoomInstance",e.panZoomInstance)("chartContainer",e.containerElement())("position",e.miniMapPosition())("width",e.miniMapWidth())("height",e.miniMapHeight())("themeOptions",e.finalThemeOptions().miniMap)}}function Dr(o,r){if(o&1&&Me(0,8),o&2){let e=f().node,t=f();B("ngTemplateOutlet",t.customNodeTemplate)("ngTemplateOutletContext",Te(2,Xn,e,e))}}function Sr(o,r){if(o&1&&(x(0,"span"),Y(1),M()),o&2){let e=f().node;O(),te(e.name)}}function Er(o,r){if(o&1){let e=J();x(0,"span",15),U("dragstart",function(n){N(e);let i=f().node,a=f();return I(a.onDragStart(n,i))})("dragend",function(n){N(e);let i=f().node,a=f();return I(a.onDragEnd(n,i))})("touchstart",function(n){N(e);let i=f().node,a=f();return I(a.onTouchStart(n,i))}),Me(1,8),M()}if(o&2){let e=f().node,t=f();fe("draggable",!0),O(),B("ngTemplateOutlet",t.customDragHandleTemplate)("ngTemplateOutletContext",Te(3,Xn,e,e))}}function Nr(o,r){if(o&1&&(x(0,"small",17),Y(1),M()),o&2){let e=f(2).node;O(),te(e.descendantsCount)}}function Ir(o,r){if(o&1){let e=J();x(0,"button",16),U("click",function(){N(e);let n=f().node,i=f();return I(i.onToggleCollapse({node:n,highlightNode:i.focusOnCollapseOrExpand()}))})("mouseenter",function(){N(e);let n=f(2);return I(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("mousewheel",function(){N(e);let n=f(2);return I(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("mouseleave",function(){N(e);let n=f(2);return I(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("pointerenter",function(){N(e);let n=f(2);return I(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("pointerleave",function(){N(e);let n=f(2);return I(n.panZoomInstance==null?null:n.panZoomInstance.resume())}),R(1,Nr,2,1,"small",17),qt(),x(2,"svg",18),$(3,"path",19),M()()}if(o&2){let e=f().node,t=f();ie("collapsed",e.collapsed),fe("aria-label",(e.collapsed?"Expand":"Collapse")+" "+e.name),O(),z(t.displayChildrenCount()?1:-1)}}function kr(o,r){if(o&1&&Me(0,8),o&2){let e=f().$implicit;f(3);let t=dt(7);B("ngTemplateOutlet",t)("ngTemplateOutletContext",Te(2,xr,e,t))}}function Zr(o,r){if(o&1&&R(0,kr,1,5,"ng-container",8),o&2){let e=r.$implicit;z(e.hidden?-1:0)}}function Ar(o,r){if(o&1&&(x(0,"ul",20),Fe(1,Zr,1,1,null,null,Mr),M()),o&2){let e=f().node,t=f();ie("collapsed",e.collapsed)("instant-animation",!0),B("id",t.getNodeChildrenId(e.id))("@toggleNode",void 0),fe("aria-hidden",e.collapsed),O(),Ye(e.children)}}function Rr(o,r){if(o&1){let e=J();x(0,"li",9,3)(2,"a",10),U("dragstart",function(n){let i=N(e).node,a=f();return I(a.customDragHandleTemplate?null:a.onDragStart(n,i))})("dragend",function(n){let i=N(e).node,a=f();return I(a.customDragHandleTemplate?null:a.onDragEnd(n,i))})("dragover",function(n){let i=N(e).node,a=f();return I(a.onDragOver(n,i))})("dragenter",function(n){let i=N(e).node,a=f();return I(a.onDragEnter(n,i))})("dragleave",function(n){N(e);let i=f();return I(i.onDragLeave(n))})("drop",function(n){let i=N(e).node,a=f();return I(a.onDrop(n,i))})("touchstart",function(n){let i=N(e).node,a=f();return I(a.customDragHandleTemplate?null:a.onTouchStart(n,i))}),x(3,"div",11),R(4,Dr,1,5,"ng-container",8)(5,Sr,2,1,"span"),M(),R(6,Er,2,6,"span",12),R(7,Ir,4,4,"button",13),M(),R(8,Ar,3,7,"ul",14),M()}if(o&2){let e=r.node,t=f();ie("collapsed",e.collapsed),O(2),B("ngClass",Te(12,Or,(e==null?null:e.nodeClass)??"",t.nodeClass()??""))("ngStyle",e.style)("id",t.getNodeId(e.id)),fe("aria-expanded",e.children!=null&&e.children.length?!e.collapsed:null)("aria-label",e.name+(e.children!=null&&e.children.length?e.collapsed?" (collapsed)":" (expanded)":""))("draggable",t.draggable()&&!t.customDragHandleTemplate?!0:null),O(2),z(t.customNodeTemplate?4:5),O(2),z(t.customDragHandleTemplate&&t.draggable()?6:-1),O(),z(t.collapsible()&&(e.children!=null&&e.children.length)?7:-1),O(),z(e.children!=null&&e.children.length&&!e.hidden&&!e.collapsed?8:-1)}}function jn({node:o,targetNode:r,collapse:e}){if(o.id===r){let t=e??!o.collapsed;return X(E({},o),{collapsed:t,children:o.children?.map(n=>$n(n,t))})}return o.children?.length?X(E({},o),{children:o.children.map(t=>jn({node:t,targetNode:r,collapse:e}))}):o}function $n(o,r){return X(E({},o),{collapsed:r,children:o.children?.map(e=>$n(e,r))})}function Un(o,r){let e=o.children?.map(n=>Un(n,r))||[],t=e.reduce((n,i)=>n+1+(i.descendantsCount??0),0);return X(E({},o),{id:o.id??crypto.randomUUID(),collapsed:r??o.collapsed??!1,hidden:o.hidden??!1,children:e,descendantsCount:t})}var Wn=["background","background-color","background-image","background-size","background-position","background-repeat","color","font-family","font-size","font-weight","line-height","text-align","border","border-radius","border-color","border-width","border-style","padding","box-sizing","display","flex-direction","align-items","justify-content","gap","outline","outline-color","outline-width"];function Gn(o){let r=o.cloneNode(!0);r.removeAttribute("id"),r.removeAttribute("draggable");let e=r.querySelector(".collapse-btn");e&&e.remove();let t=r.querySelector(".drag-handle");t&&t.remove();let n=window.getComputedStyle(o);Wn.forEach(l=>{let c=n.getPropertyValue(l);c&&r.style.setProperty(l,c,"important")});let i=o.querySelectorAll("*"),a=r.querySelectorAll("*");return i.forEach((l,c)=>{if(a[c]){let d=window.getComputedStyle(l),g=a[c];Wn.forEach(p=>{let _=d.getPropertyValue(p);_&&g.style.setProperty(p,_,"important")})}}),r}function zr(o){let{nodeElement:r,currentScale:e,touchX:t,touchY:n}=o,i=r.offsetWidth,a=r.offsetHeight,l=Gn(r),c=e*1.05,d=i*c,g=a*c,p=document.createElement("div");return p.className="touch-drag-ghost-wrapper",p.style.position="fixed",p.style.pointerEvents="none",p.style.zIndex="10000",p.style.left=t-d/2+"px",p.style.top=n-g/2+"px",l.style.setProperty("position","relative","important"),l.style.setProperty("width",i+"px","important"),l.style.setProperty("height",a+"px","important"),l.style.setProperty("margin","0","important"),l.style.setProperty("opacity","0.9","important"),l.style.setProperty("transform-origin","top left","important"),l.style.setProperty("transform",`scale(${c})`,"important"),l.style.setProperty("box-shadow","0 15px 40px rgba(0, 0, 0, 0.4)","important"),l.style.setProperty("cursor","grabbing","important"),p.appendChild(l),document.body.appendChild(p),{wrapper:p,scaledWidth:d,scaledHeight:g}}function Br(o,r,e,t,n){o.style.left=r-t/2+"px",o.style.top=e-n/2+"px"}function Lr(o,r){if(!o.dataTransfer)return;let e=Gn(r);e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0.8",document.body.appendChild(e);let t=r.getBoundingClientRect(),n=o.clientX-t.left,i=o.clientY-t.top;o.dataTransfer.setDragImage(e,n,i),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},0)}var ae={background:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(0, 0, 0, 0.15)",borderRadius:"8px",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",nodeColor:"rgba(0, 0, 0, 0.6)",viewportBackground:"rgba(59, 130, 246, 0.2)",viewportBorderColor:"rgb(59, 130, 246)",viewportBorderWidth:"2px"},Vr=100,Fr=.9,Yr=/var\((--[^)]+)\)/,Wr=(()=>{class o{#e=Oe(it);#i=Oe(at);panZoomInstance=w.required();chartContainer=w.required();position=w("bottom-right");width=w(200);height=w(150);visible=w(!0);themeOptions=w();navigate=De();canvasRef=ne("miniMapCanvas");viewportRef=ne("viewport");viewportStyle=L({});miniMapStyle=G(()=>{let e=this.themeOptions();return{width:`${this.width()}px`,height:`${this.height()}px`,backgroundColor:e?.background??ae.background,borderColor:e?.borderColor??ae.borderColor,borderRadius:e?.borderRadius??ae.borderRadius,boxShadow:e?.shadow??ae.shadow}});viewportIndicatorStyle=G(()=>{let e=this.themeOptions();return X(E({},this.viewportStyle()),{backgroundColor:e?.viewportBackground??ae.viewportBackground,borderColor:e?.viewportBorderColor??ae.viewportBorderColor,borderWidth:e?.viewportBorderWidth??ae.viewportBorderWidth})});nodeColor=G(()=>this.themeOptions()?.nodeColor??ae.nodeColor);#n=null;#a=!1;#o=null;#r=null;#t=null;constructor(){this.#m(),this.#p()}ngOnDestroy(){this.#O()}onMouseDown(e){e.preventDefault(),this.#a=!0;let t=i=>{this.#a&&this.#w(i)},n=()=>{this.#a=!1,document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}#m(){ue(()=>{this.panZoomInstance()?this.#_():this.#u()},{injector:this.#e}),ue(()=>{let e=this.chartContainer();e?(this.#v(e),this.#h()):this.#s()},{injector:this.#e}),ue(()=>{this.themeOptions(),this.#l()},{injector:this.#e})}#p(){this.#r=new MutationObserver(()=>this.#l()),[document.documentElement,document.body].forEach(e=>{this.#r.observe(e,{attributes:!0,attributeFilter:["class","data-theme","data-mode"]})})}#f(){this.#r?.disconnect(),this.#r=null}#v(e){this.#s(),this.#o=new MutationObserver(()=>this.#l()),this.#o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]})}#s(){this.#o?.disconnect(),this.#o=null}#l(){this.#t!==null&&clearTimeout(this.#t),this.#t=setTimeout(()=>{this.#h(),this.#t=null},Vr)}#_(){if(this.#n!==null)return;let e=()=>{this.#b(),this.#n=requestAnimationFrame(e)};this.#n=requestAnimationFrame(e)}#u(){this.#n!==null&&(cancelAnimationFrame(this.#n),this.#n=null)}#h(){let e=this.canvasRef()?.nativeElement,t=this.chartContainer();if(!e||!t)return;let n=e.getContext("2d");if(!n)return;e.width=this.width(),e.height=this.height(),n.clearRect(0,0,e.width,e.height);let i=this.#c(t);if(!i)return;let{scale:a,offsetX:l,offsetY:c}=this.#d(e,i),d=this.#g();this.#C(n,t,i,a,l,c,d)}#c(e){let t=e.querySelectorAll(".node-content");if(t.length===0)return null;let n=this.#g(),i=e.getBoundingClientRect(),a=1/0,l=1/0,c=-1/0,d=-1/0;return t.forEach(g=>{let p=g.getBoundingClientRect(),_=(p.left-i.left-n.x)/n.scale,v=(p.top-i.top-n.y)/n.scale,y=p.width/n.scale,D=p.height/n.scale;a=Math.min(a,_),l=Math.min(l,v),c=Math.max(c,_+y),d=Math.max(d,v+D)}),{left:a,top:l,width:c-a,height:d-l}}#d(e,t){let n=e.width/t.width,i=e.height/t.height,a=Math.min(n,i)*Fr,l=(e.width-t.width*a)/2,c=(e.height-t.height*a)/2;return{scale:a,offsetX:l,offsetY:c}}#C(e,t,n,i,a,l,c){let d=this.#y(this.nodeColor());e.fillStyle=d,e.strokeStyle=d,e.lineWidth=1;let g=t.querySelectorAll(".node-content"),p=t.getBoundingClientRect();g.forEach(_=>{let v=_.getBoundingClientRect(),y=(v.left-p.left-c.x)/c.scale,D=(v.top-p.top-c.y)/c.scale,S=v.width/c.scale,C=v.height/c.scale,Z=(y-n.left)*i+a,Q=(D-n.top)*i+l,se=S*i,he=C*i;e.fillRect(Z,Q,se,he)})}#b(){let e=this.panZoomInstance(),t=this.chartContainer(),n=this.canvasRef()?.nativeElement;if(!e||!t||!n)return;let i=e.getTransform(),a=this.#c(t);if(!a)return;let{scale:l,offsetX:c,offsetY:d}=this.#d(n,a),g=t.getBoundingClientRect(),p=g.width/i.scale,_=g.height/i.scale,v=-i.x/i.scale-a.left,y=-i.y/i.scale-a.top,D=v*l+c,S=y*l+d,C=p*l,Z=_*l;this.viewportStyle.set({left:`${D}px`,top:`${S}px`,width:`${C}px`,height:`${Z}px`})}#w(e){let t=this.canvasRef()?.nativeElement,n=this.chartContainer(),i=this.panZoomInstance();if(!t||!n||!i)return;let a=t.getBoundingClientRect(),l=e.clientX-a.left,c=e.clientY-a.top,d=this.#c(n);if(!d)return;let{scale:g,offsetX:p,offsetY:_}=this.#d(t,d),v=(l-p)/g+d.left,y=(c-_)/g+d.top,D=i.getTransform(),S=n.getBoundingClientRect(),C=-(v*D.scale-S.width/2),Z=-(y*D.scale-S.height/2);i.moveTo(C,Z),this.navigate.emit({x:C,y:Z})}#y(e){if(!e.includes("var("))return e;let t=getComputedStyle(this.#i.nativeElement),n=e.match(Yr);if(n){let i=n[1];return t.getPropertyValue(i).trim()||e}return e}#g(){return this.panZoomInstance()?.getTransform()??{scale:1,x:0,y:0}}#O(){this.#u(),this.#s(),this.#f(),this.#t!==null&&(clearTimeout(this.#t),this.#t=null)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=xe({type:o,selectors:[["ngx-org-chart-mini-map"]],viewQuery:function(t,n){t&1&&(ee(n.canvasRef,mr,5),ee(n.viewportRef,pr,5)),t&2&&Pe(2)},inputs:{panZoomInstance:[1,"panZoomInstance"],chartContainer:[1,"chartContainer"],position:[1,"position"],width:[1,"width"],height:[1,"height"],visible:[1,"visible"],themeOptions:[1,"themeOptions"]},outputs:{navigate:"navigate"},decls:1,vars:1,consts:[["miniMapCanvas",""],["viewport",""],[1,"mini-map-container",3,"class","ngStyle"],[1,"mini-map-container",3,"mousedown","ngStyle"],[1,"mini-map-canvas"],[1,"viewport-indicator",3,"ngStyle"]],template:function(t,n){t&1&&R(0,fr,5,4,"div",2),t&2&&z(n.visible()?0:-1)},dependencies:[ht],styles:["[_nghost-%COMP%]{display:contents}.mini-map-container[_ngcontent-%COMP%]{position:absolute;z-index:1000;border:2px solid;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:opacity .3s ease}.mini-map-container[_ngcontent-%COMP%]:hover{opacity:1!important}.mini-map-container.position-top-left[_ngcontent-%COMP%]{top:16px;left:16px}.mini-map-container.position-top-right[_ngcontent-%COMP%]{top:16px;right:16px}.mini-map-container.position-bottom-left[_ngcontent-%COMP%]{bottom:16px;left:16px}.mini-map-container.position-bottom-right[_ngcontent-%COMP%]{bottom:16px;right:16px}.mini-map-canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.viewport-indicator[_ngcontent-%COMP%]{position:absolute;border:2px solid;pointer-events:none;border-radius:2px;transition:all .1s ease-out;box-sizing:border-box}"]})}return o})(),Hr={node:{background:"#ffffff",color:"#4a4a4a",activeOutlineColor:"#3b82f6",outlineWidth:"2px",shadow:"0 2px 10px rgba(0, 0, 0, 0.1)",outlineColor:"#d1d5db",highlightShadowColor:"rgba(121, 59, 246, 0)",padding:"12px 16px",borderRadius:"8px",containerSpacing:"20px",activeColor:"#3b82f6",maxWidth:"auto",minWidth:"auto",maxHeight:"auto",minHeight:"auto",dragOverOutlineColor:"#3b82f6"},connector:{color:"#d1d5db",activeColor:"#3b82f6",borderRadius:"10px",width:"1.5px"},collapseButton:{size:"20px",borderColor:"#d1d5db",borderRadius:"0.25rem",color:"#4a4a4a",background:"#ffffff",hoverColor:"#3b82f6",hoverBackground:"#f3f4f6",hoverShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",hoverTransformScale:"1.05",focusOutline:"2px solid #3b82f6",countFontSize:"0.75rem"},container:{background:"transparent",border:"none"},miniMap:{background:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(0, 0, 0, 0.15)",borderRadius:"8px",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",nodeColor:"rgba(0, 0, 0, 0.6)",viewportBackground:"rgba(59, 130, 246, 0.2)",viewportBorderColor:"rgb(59, 130, 246)",viewportBorderWidth:"2px"}},qr=300,Hn=10,Xr=.1,jr=15,Ge=(()=>{class o{#e=Oe(at);#i=Oe(it);customNodeTemplate;customDragHandleTemplate;panZoomContainer=ne.required("panZoomContainer");orgChartContainer=ne.required("orgChartContainer");container=ne.required("container");data=w.required();initialZoom=w();minZoom=w(.1);maxZoom=w(5);zoomSpeed=w(1);zoomDoubleClickSpeed=w(2);collapsible=w(!0);nodeClass=w();initialCollapsed=w();isRtl=w();layout=w("vertical");focusOnCollapseOrExpand=w(!1);displayChildrenCount=w(!0);highlightZoomNodeWidthRatio=w(.3);highlightZoomNodeHeightRatio=w(.4);draggable=w(!1);canDragNode=w();canDropNode=w();dragEdgeThreshold=w(Xr);dragAutoPanSpeed=w(jr);highlightZoomMinimum=w(.8);themeOptions=w();showMiniMap=w(!1);miniMapPosition=w("bottom-right");miniMapWidth=w(200);miniMapHeight=w(150);nodeDrop=De();nodeDragStart=De();nodeDragEnd=De();defaultThemeOptions=Hr;finalThemeOptions=G(()=>{let e=this.themeOptions();return{node:E(E({},this.defaultThemeOptions.node),e?.node),connector:E(E({},this.defaultThemeOptions.connector),e?.connector),collapseButton:E(E({},this.defaultThemeOptions.collapseButton),e?.collapseButton),container:E(E({},this.defaultThemeOptions.container),e?.container),miniMap:E(E({},this.defaultThemeOptions.miniMap),e?.miniMap)}});nodes=L(null);scale=L(0);draggedNode=L(null);dragOverNode=L(null);currentDragOverElement=L(null);autoPanInterval=null;keyboardListener=null;touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Hn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0};panZoomInstance=null;containerElement=G(()=>this.container()?.nativeElement||null);getScale=G(()=>this.scale());flattenedNodes=G(()=>{let e=this.nodes();if(!e)return[];let t=n=>{let i=n.children?.flatMap(t)||[];return[n,...i]};return e?t(e):[]});setNodes=ue(()=>{let e=this.data(),t=this.initialCollapsed();e&&this.nodes.set(Un(e,t))});ngAfterViewInit(){this.initiatePanZoom(),this.disableChildDragging()}initiatePanZoom(){this.panZoomInstance&&this.panZoomInstance.dispose();let e=this.panZoomContainer()?.nativeElement;this.panZoomInstance=(0,qn.default)(e,{initialZoom:this.getFitScale(),initialX:e.offsetWidth/2,initialY:e.offsetHeight/2,enableTextSelection:!1,minZoom:this.minZoom(),maxZoom:this.maxZoom(),zoomSpeed:this.zoomSpeed(),smoothScroll:!0,zoomDoubleClickSpeed:this.zoomDoubleClickSpeed()}),this.calculateScale(),this.panZoomInstance?.on("zoom",t=>{this.calculateScale()})}zoomIn({by:e,relative:t}={relative:!0}){this.zoom({type:"in",by:e,relative:t})}zoomOut({by:e,relative:t}={relative:!0}){this.zoom({type:"out",by:e,relative:t})}highlightNode(e){this.toggleCollapseAll(!1),setTimeout(()=>{let t=this.#e?.nativeElement.querySelector(`#${this.getNodeId(e)}`);this.panZoomToNode({nodeElement:t})},200)}pan(e,t,n){let i=this.orgChartContainer()?.nativeElement;if(!i||!this.panZoomInstance)return;let a=i.getBoundingClientRect(),l=this.panZoomContainer()?.nativeElement.getBoundingClientRect(),c=e-a.x+l.x,d=t-a.y+l.y;n?this.panZoomInstance.smoothMoveTo(c,d):this.panZoomInstance.moveTo(c,d)}resetPan(){let e=this.panZoomContainer()?.nativeElement;if(!e||!this.panZoomInstance)return;let t=e.getBoundingClientRect(),n=this.#e.nativeElement,i=n.getBoundingClientRect().width,a=n.getBoundingClientRect().height,l=-1*t.width/2+i/2;this.layout()==="horizontal"&&(this.isRtl()?l=i-t.width:l=0);let c=-1*t.height/2+a/2;this.panZoomInstance?.smoothMoveTo(l,c)}resetZoom(e=20){!this.panZoomInstance||!this.panZoomContainer()?.nativeElement||this.zoomOut({by:this.getFitScale(e)})}resetPanAndZoom(e=20){this.resetPan(),setTimeout(()=>{this.resetZoom(e)},qr)}toggleCollapseAll(e){let t=this.nodes();t?.children?.length&&this.collapsible()&&this.onToggleCollapse({node:t,collapse:e})}onToggleCollapse({node:e,collapse:t,highlightNode:n=!1,playAnimation:i=!1}){if(!this.collapsible())return;let a=e.id,l=e.collapsed,c=jn({node:this.nodes(),targetNode:a,collapse:t});this.nodes.set(c),this.panZoomInstance?.resume(),n&&setTimeout(()=>{let d=this.#e?.nativeElement.querySelector(`#${l?this.getNodeChildrenId(a):this.getNodeId(a)}`);this.panZoomToNode({nodeElement:d,skipZoom:!0,playAnimation:i})},200)}zoom({type:e,by:t=10,relative:n}){let a=(this.panZoomContainer()?.nativeElement).getBoundingClientRect(),c=(this.#e?.nativeElement).getBoundingClientRect(),{scale:d}=this.panZoomInstance?.getTransform()??{scale:1},g=a.width/2+a.x-c.x,p=a.height/2+a.y-c.y;this.layout()==="horizontal"&&(this.isRtl()?g=a.width+a.x-c.x:g=0);let _=n?e==="in"?d*(1+t/100):d/(1+t/100):t;this.panZoomInstance?.smoothZoomAbs(g,p,_)}panZoomToNode({nodeElement:e,skipZoom:t,playAnimation:n=!0}){let i=this.panZoomContainer()?.nativeElement;if(!i||!e||!this.panZoomInstance)return;i.querySelectorAll(".highlighted").forEach(l=>{l.classList.remove("highlighted")}),this.panZoomInstance?.pause(),this.panZoomInstance?.resume(),setTimeout(()=>{let l=this.#e.nativeElement.getBoundingClientRect(),c=e.getBoundingClientRect(),d=c.x-c.width/2-l.x,g=c.y-c.height/2-l.y;if(!t){let p=this.calculateOptimalZoom(e);this.panZoomInstance?.smoothZoomAbs(d,g,p)}},10),setTimeout(()=>{let l=i.getBoundingClientRect(),c=e.getBoundingClientRect(),d=this.#e.nativeElement,g=d.getBoundingClientRect().width,p=d.getBoundingClientRect().height,_=-1*(c.x-l.x),v=-1*(c.y-l.y),y=g/2,D=p/2,S=_+y-c.width/2,C=v+D-c.height/2;this.panZoomInstance?.smoothMoveTo(S,C),n&&(e.classList.add("highlighted"),setTimeout(()=>{e.classList.remove("highlighted")},2300))},200)}getNodeId(e){return`node-${e}`}getNodeChildrenId(e){return`node-children-${e}`}onDragStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t)){e.preventDefault();return}this.draggedNode.set(t),this.nodeDragStart.emit(t),this.panZoomInstance?.pause();let a=e.target.closest(".node-content");e.dataTransfer&&a&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id?.toString()||""),Lr(e,a)),a&&setTimeout(()=>{a.classList.add("dragging")},0),this.setupKeyboardListener()}setupKeyboardListener(){this.removeKeyboardListener(),this.keyboardListener=e=>{e.key==="Escape"&&this.draggedNode()&&this.cancelDrag()},document.addEventListener("keydown",this.keyboardListener)}removeKeyboardListener(){this.keyboardListener&&(document.removeEventListener("keydown",this.keyboardListener),this.keyboardListener=null)}cancelDrag(){if(!this.draggedNode())return;this.stopAutoPan(),this.panZoomInstance?.resume(),this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("dragging"),t.classList.remove("drag-not-allowed")}),this.draggedNode.set(null),this.dragOverNode.set(null),this.removeKeyboardListener(),this.touchDragState.active&&(this.removeTouchGhostElement(),this.removeTouchListeners(),this.resetTouchDragState())}onDragEnd(e,t){if(!this.draggable())return;this.nodeDragEnd.emit(t),this.draggedNode.set(null),this.dragOverNode.set(null),this.currentDragOverElement.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume();let i=e.target.closest(".node-content");i&&i.classList.remove("dragging"),this.#e.nativeElement.querySelectorAll(".node-content").forEach(l=>l.classList.remove("drag-over"))}onDragOver(e,t){if(!this.draggable()||!this.draggedNode())return;e.preventDefault();let n=this.draggedNode();if(!n)return;if(this.isNodeDescendant(t,n)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}let i=this.canDropNode();if(i&&!i(n,t)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.dragOverNode.set(t)}onContainerDragOver(e){!this.draggable()||!this.draggedNode()||(e.preventDefault(),this.handleAutoPan(e))}onDragEnter(e,t){if(!this.draggable()||!this.draggedNode())return;let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let i=this.canDropNode();if(i&&!i(n,t))return;let l=e.target.closest(".node-content");l&&(this.currentDragOverElement()&&this.currentDragOverElement()!==l&&this.currentDragOverElement()?.classList.remove("drag-over"),l.classList.add("drag-over"),this.currentDragOverElement.set(l))}onDragLeave(e){if(!this.draggable())return;let n=e.target.closest(".node-content");if(n&&this.currentDragOverElement()===n){let i=n.getBoundingClientRect();(e.clientX<i.left||e.clientX>i.right||e.clientY<i.top||e.clientY>i.bottom)&&(n.classList.remove("drag-over"),this.currentDragOverElement.set(null))}}onDrop(e,t){if(!this.draggable())return;e.preventDefault(),e.stopPropagation();let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let i=this.canDropNode();if(i&&!i(n,t))return;this.nodeDrop.emit({draggedNode:n,targetNode:t});let l=e.target.closest(".node-content");l&&l.classList.remove("drag-over"),this.currentDragOverElement.set(null),this.dragOverNode.set(null),this.stopAutoPan(),this.panZoomInstance?.resume(),Ve(()=>{this.disableChildDragging()},{injector:this.#i})}isNodeDescendant(e,t){return e.id===t.id?!0:t.children?.length?t.children.some(n=>this.isNodeDescendant(e,n)):!1}onTouchStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t))return;let i=e.touches[0];i&&(this.touchDragState.node=t,this.touchDragState.startX=i.clientX,this.touchDragState.startY=i.clientY,this.touchDragState.currentX=i.clientX,this.touchDragState.currentY=i.clientY,this.touchDragState.active=!1,document.addEventListener("touchmove",this.onTouchMoveDocument,{passive:!1}),document.addEventListener("touchend",this.onTouchEndDocument),document.addEventListener("touchcancel",this.onTouchEndDocument))}onTouchMoveDocument=e=>{if(!this.touchDragState.node)return;let t=e.touches[0];if(t){if(this.touchDragState.currentX=t.clientX,this.touchDragState.currentY=t.clientY,!this.touchDragState.active){let n=Math.abs(t.clientX-this.touchDragState.startX),i=Math.abs(t.clientY-this.touchDragState.startY);if(Math.sqrt(n*n+i*i)>=this.touchDragState.dragThreshold){this.touchDragState.active=!0,this.draggedNode.set(this.touchDragState.node),this.nodeDragStart.emit(this.touchDragState.node),this.setupKeyboardListener(),this.panZoomInstance?.pause(),this.createTouchGhostElement(this.touchDragState.node);let l=this.getNodeElement(this.touchDragState.node);l&&l.classList.add("dragging")}}if(this.touchDragState.active){e.preventDefault(),this.updateTouchGhostPosition(t.clientX,t.clientY),this.handleTouchAutoPan(t.clientX,t.clientY);let n=this.getElementUnderTouch(t.clientX,t.clientY);if(n){let i=n.closest(".node-content");if(i&&i.id){let a=this.getNodeIdFromElement(i),l=this.findNodeById(a);l?this.handleTouchDragOver(l):this.clearDragOverState()}else this.clearDragOverState()}else this.clearDragOverState()}}};onTouchEndDocument=e=>{if(this.touchDragState.node){if(this.touchDragState.active){let t=null,n=e.changedTouches[0]||(e.touches.length>0?e.touches[0]:null);if(n){let l=this.getElementUnderTouch(n.clientX,n.clientY);if(l){let c=l.closest(".node-content");if(c&&c.id){let d=this.getNodeIdFromElement(c);t=this.findNodeById(d)}}}let i=this.draggedNode();if(t&&i&&t.id!==i.id){let l=this.isNodeDescendant(t,i),c=this.canDropNode();!l&&(!c||c(i,t))&&this.nodeDrop.emit({draggedNode:i,targetNode:t})}this.removeTouchGhostElement(),this.nodeDragEnd.emit(this.touchDragState.node);let a=this.getNodeElement(this.touchDragState.node);a&&a.classList.remove("dragging"),this.clearDragOverState(),this.draggedNode.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume()}this.resetTouchDragState(),this.removeTouchListeners()}};resetTouchDragState(){this.touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Hn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0}}removeTouchListeners(){document.removeEventListener("touchmove",this.onTouchMoveDocument),document.removeEventListener("touchend",this.onTouchEndDocument),document.removeEventListener("touchcancel",this.onTouchEndDocument)}createTouchGhostElement(e){let t=this.getNodeElement(e);if(!t)return;let n=this.panZoomInstance?.getTransform()?.scale??1,i=zr({nodeElement:t,currentScale:n,touchX:this.touchDragState.currentX,touchY:this.touchDragState.currentY});this.touchDragState.ghostElement=i.wrapper,this.touchDragState.ghostScaledWidth=i.scaledWidth,this.touchDragState.ghostScaledHeight=i.scaledHeight}updateTouchGhostPosition(e,t){this.touchDragState.ghostElement&&Br(this.touchDragState.ghostElement,e,t,this.touchDragState.ghostScaledWidth,this.touchDragState.ghostScaledHeight)}removeTouchGhostElement(){this.touchDragState.ghostElement&&(this.touchDragState.ghostElement.remove(),this.touchDragState.ghostElement=null)}getElementUnderTouch(e,t){let n=this.touchDragState.ghostElement,i=n?n.style.display:"";n&&(n.style.display="none");let a=document.elementFromPoint(e,t);return n&&(n.style.display=i),a}handleTouchDragOver(e){let t=this.draggedNode();if(!t)return;if(e.id===t.id){this.clearDragOverState();return}if(this.isNodeDescendant(e,t)){this.clearDragOverState();let i=this.getNodeElement(e);i&&i.classList.add("drag-not-allowed");return}let n=this.canDropNode();if(n&&!n(t,e)){this.clearDragOverState();let i=this.getNodeElement(e);i&&i.classList.add("drag-not-allowed");return}if(this.dragOverNode()!==e){this.clearDragOverState(),this.dragOverNode.set(e);let i=this.getNodeElement(e);i&&i.classList.add("drag-over")}}clearDragOverState(){this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("drag-not-allowed")}),this.dragOverNode.set(null)}getNodeElement(e){if(!e.id)return null;let t=this.getNodeId(e.id);return this.#e.nativeElement.querySelector(`#${t}`)}getNodeIdFromElement(e){let t=e.id.replace("node-",""),n=parseInt(t,10);return isNaN(n)?t:n}findNodeById(e){let t=this.nodes();if(!t)return null;let n=i=>{if(i.id===e||i.id?.toString()===e.toString())return i;if(i.children)for(let a of i.children){let l=n(a);if(l)return l}return null};return n(t)}handleTouchAutoPan(e,t){let i=this.#e.nativeElement.getBoundingClientRect(),a=e-i.left,l=t-i.top,c=i.width*this.dragEdgeThreshold(),d=i.height*this.dragEdgeThreshold(),g=0,p=0;a<c?g=this.dragAutoPanSpeed():a>i.width-c&&(g=-this.dragAutoPanSpeed()),l<d?p=this.dragAutoPanSpeed():l>i.height-d&&(p=-this.dragAutoPanSpeed()),g!==0||p!==0?this.startAutoPan(g,p):this.stopAutoPan()}handleAutoPan(e){let n=this.#e.nativeElement.getBoundingClientRect(),i=e.clientX-n.left,a=e.clientY-n.top,l=n.width*this.dragEdgeThreshold(),c=n.height*this.dragEdgeThreshold(),d=0,g=0;i<l?d=this.dragAutoPanSpeed():i>n.width-l&&(d=-this.dragAutoPanSpeed()),a<c?g=this.dragAutoPanSpeed():a>n.height-c&&(g=-this.dragAutoPanSpeed()),d!==0||g!==0?this.startAutoPan(d,g):this.stopAutoPan()}startAutoPan(e,t){this.stopAutoPan(),this.autoPanInterval=window.setInterval(()=>{if(!this.panZoomInstance)return;let n=this.panZoomInstance.getTransform(),i=n.x+e,a=n.y+t;this.panZoomInstance.moveTo(i,a)},16)}stopAutoPan(){this.autoPanInterval!==null&&(clearInterval(this.autoPanInterval),this.autoPanInterval=null)}calculateScale(){let t=this.panZoomInstance?.getTransform()?.scale??0,n=this.minZoom(),i=this.maxZoom();if(n===i){this.scale.set(0);return}let a=(t-n)/(i-n),l=Math.round(a*1e4)/100;this.scale.set(l)}getFitScale(e=20){let t=this.#e?.nativeElement,n=this.orgChartContainer()?.nativeElement;if(!t||!n)return 1;let i=t.getBoundingClientRect(),a=i.width,l=i.height,c=n.clientWidth,d=n.clientHeight,g=a-e*2,p=l-e*2,_=g/c,v=p/d;return Math.min(_,v,1)}calculateOptimalZoom(e){let t=this.#e?.nativeElement;if(!t||!e)return 1.5;let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=this.panZoomInstance?.getTransform()?.scale||1,c=i.width/l,d=i.height/l,g=this.highlightZoomNodeWidthRatio(),p=this.highlightZoomNodeHeightRatio(),_=n.width*g/c,v=n.height*p/d,y=Math.min(_,v),D=this.minZoom(),S=this.maxZoom();y=Math.max(D,Math.min(S,y));let C=this.highlightZoomMinimum();return y=Math.max(C,y),y}ngOnDestroy(){this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.dispose()}disableChildDragging(){let e=this.#e?.nativeElement;if(!e)return;e.querySelectorAll(".node-content-wrapper img, .node-content-wrapper a, .node-content-wrapper svg").forEach(n=>{n.setAttribute("draggable","false")})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=xe({type:o,selectors:[["ngx-interactive-org-chart"]],contentQueries:function(t,n,i){if(t&1&&(st(i,vr,5),st(i,_r,5)),t&2){let a;lt(a=ct())&&(n.customNodeTemplate=a.first),lt(a=ct())&&(n.customDragHandleTemplate=a.first)}},viewQuery:function(t,n){t&1&&(ee(n.panZoomContainer,Cr,5),ee(n.orgChartContainer,br,5),ee(n.container,wr,5)),t&2&&Pe(3)},hostVars:67,hostBindings:function(t,n){t&2&&(fe("data-layout",n.layout()),$t("--node-background",n.finalThemeOptions().node.background)("--node-color",n.finalThemeOptions().node.color)("--node-shadow",n.finalThemeOptions().node.shadow)("--node-outline-color",n.finalThemeOptions().node.outlineColor)("--node-outline-width",n.finalThemeOptions().node.outlineWidth)("--node-active-outline-color",n.finalThemeOptions().node.activeOutlineColor)("--node-highlight-shadow-color",n.finalThemeOptions().node.highlightShadowColor)("--node-padding",n.finalThemeOptions().node.padding)("--node-border-radius",n.finalThemeOptions().node.borderRadius)("--node-active-color",n.finalThemeOptions().node.activeColor)("--node-max-width",n.finalThemeOptions().node.maxWidth)("--node-min-width",n.finalThemeOptions().node.minWidth)("--node-max-height",n.finalThemeOptions().node.maxHeight)("--node-min-height",n.finalThemeOptions().node.minHeight)("--node-drag-over-outline-color",n.finalThemeOptions().node.dragOverOutlineColor)("--connector-color",n.finalThemeOptions().connector.color)("--connector-active-color",n.finalThemeOptions().connector.activeColor)("--connector-border-radius",n.finalThemeOptions().connector.borderRadius)("--node-container-spacing",n.finalThemeOptions().node.containerSpacing)("--connector-width",n.finalThemeOptions().connector.width)("--collapse-button-size",n.finalThemeOptions().collapseButton.size)("--collapse-button-border-color",n.finalThemeOptions().collapseButton.borderColor)("--collapse-button-border-radius",n.finalThemeOptions().collapseButton.borderRadius)("--collapse-button-color",n.finalThemeOptions().collapseButton.color)("--collapse-button-background",n.finalThemeOptions().collapseButton.background)("--collapse-button-hover-color",n.finalThemeOptions().collapseButton.hoverColor)("--collapse-button-hover-background",n.finalThemeOptions().collapseButton.hoverBackground)("--collapse-button-hover-shadow",n.finalThemeOptions().collapseButton.hoverShadow)("--collapse-button-hover-transform-scale",n.finalThemeOptions().collapseButton.hoverTransformScale)("--collapse-button-focus-outline",n.finalThemeOptions().collapseButton.focusOutline)("--collapse-button-count-font-size",n.finalThemeOptions().collapseButton.countFontSize)("--container-background",n.finalThemeOptions().container.background)("--container-border",n.finalThemeOptions().container.border))},inputs:{data:[1,"data"],initialZoom:[1,"initialZoom"],minZoom:[1,"minZoom"],maxZoom:[1,"maxZoom"],zoomSpeed:[1,"zoomSpeed"],zoomDoubleClickSpeed:[1,"zoomDoubleClickSpeed"],collapsible:[1,"collapsible"],nodeClass:[1,"nodeClass"],initialCollapsed:[1,"initialCollapsed"],isRtl:[1,"isRtl"],layout:[1,"layout"],focusOnCollapseOrExpand:[1,"focusOnCollapseOrExpand"],displayChildrenCount:[1,"displayChildrenCount"],highlightZoomNodeWidthRatio:[1,"highlightZoomNodeWidthRatio"],highlightZoomNodeHeightRatio:[1,"highlightZoomNodeHeightRatio"],draggable:[1,"draggable"],canDragNode:[1,"canDragNode"],canDropNode:[1,"canDropNode"],dragEdgeThreshold:[1,"dragEdgeThreshold"],dragAutoPanSpeed:[1,"dragAutoPanSpeed"],highlightZoomMinimum:[1,"highlightZoomMinimum"],themeOptions:[1,"themeOptions"],showMiniMap:[1,"showMiniMap"],miniMapPosition:[1,"miniMapPosition"],miniMapWidth:[1,"miniMapWidth"],miniMapHeight:[1,"miniMapHeight"]},outputs:{nodeDrop:"nodeDrop",nodeDragStart:"nodeDragStart",nodeDragEnd:"nodeDragEnd"},decls:8,vars:4,consts:[["container",""],["panZoomContainer",""],["nodeTemplate",""],["orgChartContainer",""],[1,"org-chart-container",3,"dragover"],[1,"org-chart"],[1,"node-container"],[3,"panZoomInstance","chartContainer","position","width","height","themeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"org-node"],[3,"dragstart","dragend","dragover","dragenter","dragleave","drop","touchstart","ngClass","ngStyle","id"],[1,"node-content-wrapper"],[1,"drag-handle"],["type","button",1,"collapse-btn",3,"collapsed"],[1,"node-container",3,"id","collapsed","instant-animation"],[1,"drag-handle",3,"dragstart","dragend","touchstart"],["type","button",1,"collapse-btn",3,"click","mouseenter","mousewheel","mouseleave","pointerenter","pointerleave"],[1,"children-count"],["fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z","fill","currentColor"],[1,"node-container",3,"id"]],template:function(t,n){if(t&1){let i=J();x(0,"section",4,0),U("dragover",function(l){return N(i),I(n.onContainerDragOver(l))}),x(2,"section",5,1),R(4,Pr,2,4,"ul",6),M(),R(5,Tr,1,6,"ngx-org-chart-mini-map",7),M(),Le(6,Rr,9,15,"ng-template",null,2,We)}if(t&2){let i;ie("rtl",n.isRtl()),O(4),z((i=n.nodes())!=null&&i.id?4:-1),O(),z(n.showMiniMap()?5:-1)}},dependencies:[nn,tn,ht,Wr],styles:['[_nghost-%COMP%]{--collapse-duration: .3s;--base-delay: .1s;--animation-duration: .5s;cursor:grab}[_nghost-%COMP%]:active{cursor:grabbing}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]{min-width:100%}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child{display:flex}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .node-content[_ngcontent-%COMP%]{align-self:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .org-node[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{padding-inline-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-block-start:0;min-width:auto;margin:0;display:flex;flex-direction:column}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;margin:0;min-width:auto}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{inset-inline-start:0;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color);height:0;width:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{justify-content:flex-start;overflow:visible}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-start:0;inset-block-end:50%;border-inline-start:var(--connector-width) solid var(--connector-color);border-inline-end:0;height:50%;width:var(--node-container-spacing);animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-block-end:auto;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before{border-block-start:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-inline-start:.125rem;padding-block-start:var(--node-container-spacing)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-end-start-radius:0;border-start-start-radius:var(--connector-border-radius);border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-block-end:var(--connector-width) solid var(--connector-color);border-block-start:none;border-end-start-radius:var(--connector-border-radius);border-start-end-radius:0}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{white-space:nowrap}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-end:calc(-1 * var(--collapse-button-size) / 2);inset-block-end:unset;inset-block-start:50%;inset-inline-start:unset;transform:translateY(-50%);flex-direction:column-reverse;justify-content:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;transform:rotate(-90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:0}[data-layout=horizontal][_nghost-%COMP%]   .rtl[_ngcontent-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-start:calc(-1 * var(--collapse-button-size) / 2);inset-inline-end:unset}.org-chart[_ngcontent-%COMP%]{text-align:center;min-width:100%;width:max-content;scroll-behavior:smooth;border:var(--container-border);background:var(--container-background);cursor:grab}.org-chart[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart-container[_ngcontent-%COMP%]{display:flex;min-height:100%;max-height:100%;width:100%;overflow:hidden;position:relative}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:center;padding-block-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-inline-start:0;position:relative;opacity:1;transition:max-height var(--collapse-duration) ease,opacity var(--collapse-duration) ease,padding var(--collapse-duration) ease,width var(--collapse-duration) ease;box-sizing:border-box;margin:0 auto;min-width:0}.org-chart[_ngcontent-%COMP%]   .node-container.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;padding-block-start:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:first-child{padding-block-start:.5rem;margin-block:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset-block-start:0;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color);width:0;height:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2 + var(--connector-width));opacity:0;animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .3s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{display:inline-table;text-align:center;list-style-type:none;position:relative;padding:var(--node-container-spacing);transition:.5s;flex-shrink:0;overflow:hidden}.org-chart[_ngcontent-%COMP%]   .org-node.removing[_ngcontent-%COMP%]{opacity:0;transform:translateY(1.25rem) scale(.95);transition:.5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{content:"";position:absolute;inset-block-start:0;inset-inline-end:50%;border-block-start:var(--connector-width) solid var(--connector-color);width:51%;height:var(--node-container-spacing);opacity:0;animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .2s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-end:auto;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-block-start:.125rem}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-start-start-radius:var(--connector-border-radius);border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-inline-end:var(--connector-width) solid var(--connector-color);border-start-end-radius:var(--connector-border-radius)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{max-width:var(--node-max-width);max-height:var(--node-max-height);min-width:var(--node-min-width);min-height:var(--node-min-height);background:var(--node-background);color:var(--node-color);box-shadow:var(--node-shadow);padding:var(--node-padding);position:relative;display:inline-grid;border-radius:var(--node-border-radius);text-decoration:none;transition:.5s;outline:var(--node-outline-width) solid var(--node-outline-color);z-index:1;box-sizing:content-box}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]{display:contents}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.highlighted[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.dragging[_ngcontent-%COMP%]{opacity:.5;cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-over[_ngcontent-%COMP%]{outline:2px dashed var(--node-drag-over-outline-color);background-color:color-mix(in srgb,var(--node-drag-over-outline-color) 10%,var(--node-background))}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[draggable=true][_ngcontent-%COMP%]{cursor:move}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move;display:inline-flex;align-items:center;justify-content:center}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{all:unset;direction:ltr;display:flex;align-items:center;justify-content:center;color:var(--collapse-button-color);background:var(--collapse-button-background);border:.0625rem solid var(--collapse-button-border-color);border-radius:var(--collapse-button-border-radius);position:absolute;inset-block-end:calc(-1 * var(--collapse-button-size) / 2);inset-inline-start:50%;transform:translate(-50%);z-index:2;cursor:pointer;transition:transform var(--collapse-duration) ease,box-shadow var(--collapse-duration) ease}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;width:var(--collapse-button-size);height:var(--collapse-button-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:.25rem;font-size:var(--collapse-button-count-font-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(var(--collapse-button-hover-transform-scale));box-shadow:var(--collapse-button-hover-shadow);color:var(--collapse-button-hover-color);background:var(--collapse-button-hover-background)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:focus-visible{outline:var(--collapse-button-focus-outline);outline-offset:.0625rem}@keyframes _ngcontent-%COMP%_lineAppearX{0%{opacity:0;transform:scaleX(0)}to{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_lineAppearY{0%{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@media (prefers-reduced-motion: reduce){.org-chart[_ngcontent-%COMP%]{--base-delay: 0ms;--animation-duration: 0ms;--collapse-duration: 0ms}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{opacity:1;animation:none}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   exc-icon[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{opacity:1;transform:none;animation:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{opacity:1;animation:none}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0}70%{box-shadow:0 0 0 10px var(--node-highlight-shadow-color)}to{box-shadow:0 0 0 0 var(--node-highlight-shadow-color)}}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]{transition:none!important;animation:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none!important;-webkit-user-select:none!important;user-select:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{display:none!important}'],data:{animation:[mt("toggleNode",[qe(":enter",[ve({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}),He("300ms ease-out",ve({width:"*",height:"*",opacity:1,transform:"scale(1)"}))]),qe(":leave",[ve({width:"*",height:"*"}),He("300ms ease-out",ve({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}))])])]}})}return o})();function Qn(o,r,e){let t=Kn(o,r);if(!t||Jn(t,e))return null;let n=eo(o,r);return n?to(n,e,t):null}function Kn(o,r){if(o.id===r)return o;if(o.children)for(let e of o.children){let t=Kn(e,r);if(t)return t}return null}function Jn(o,r){return o.id===r?!0:o.children?.length?o.children.some(e=>Jn(e,r)):!1}function eo(o,r){if(o.id===r)return null;let e=X(E({},o),{children:o.children?[...o.children]:void 0});if(!e.children)return e;let t=e.children.filter(n=>n.id!==r).map(n=>eo(n,r)).filter(n=>n!==null);return X(E({},e),{children:t.length>0?t:void 0})}function to(o,r,e){if(o.id===r){let t=o.children||[];return X(E({},o),{children:[...t,E({},e)]})}if(o.children){let t=o.children.map(n=>to(n,r,e)).filter(n=>n!==null);return X(E({},o),{children:t})}return o}var no={id:1,name:"Alice Johnson",title:"Chief Executive Officer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/21.jpg",children:[{id:2,name:"Engineering Department",type:"department",children:[{id:3,name:"Bob Smith",title:"CTO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/50.jpg",children:[{id:4,name:"Carol White",title:"Frontend Lead",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/3.jpg",children:[{id:9,name:"Emily Brown",title:"Senior Frontend Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/22.jpg"},{id:10,name:"Jake Hall",title:"Junior Frontend Developer",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/23.jpg"}]},{id:5,name:"David Kim",title:"Backend Lead",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/4.jpg",children:[{id:11,name:"Megan Lee",title:"DevOps Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/33.jpg"},{id:8,name:"Chris Johnson",title:"Database Administrator",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/80.jpg"}]}]}]},{id:6,name:"Finance Department",type:"department",children:[{id:7,name:"Eva Green",title:"CFO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/5.jpg",children:[{id:12,name:"Grace White",title:"Financial Analyst",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/34.jpg",children:[{id:14,name:"Liam Brown",title:"Junior Financial Analyst",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/36.jpg"},{id:15,name:"Olivia Green",title:"Intern",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/36.jpg"}]},{id:13,name:"Henry Black",title:"Payroll Specialist",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/35.jpg",children:[{id:16,name:"Sophia Blue",title:"Payroll Assistant",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/37.jpg"},{id:17,name:"James White",title:"Payroll Intern",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/38.jpg"}]}]}]}]};var $r=["toolbar"],Ur=()=>({});function Gr(o,r){if(o&1&&(x(0,"small",11),Y(1),M()),o&2){let e=f().$implicit;O(),te(e==null?null:e.label)}}function Qr(o,r){if(o&1&&(x(0,"span",16),Y(1),M()),o&2){let e=f(2).$implicit;O(),te(e==null?null:e.label)}}function Kr(o,r){if(o&1){let e=J();x(0,"app-button",13),U("click",function(){N(e);let n=f().$implicit;return I(n==null?null:n.onClick())}),x(1,"div",14),$(2,"app-icon",15),R(3,Qr,2,1,"span",16),M()()}if(o&2){let e=f().$implicit;B("title",(e==null?null:e.title)??""),O(2),B("name",e==null?null:e.icon),O(),z(e!=null&&e.label?3:-1)}}function Jr(o,r){if(o&1&&R(0,Gr,2,1,"small",11)(1,Kr,4,3,"app-button",12),o&2){let e=r.$implicit;z(e!=null&&e.isText?0:1)}}function ei(o,r){o&1&&(x(0,"small",24),Y(1,"Contractor"),M())}function ti(o,r){if(o&1&&(x(0,"section",17)(1,"section",19),$(2,"img",20),M(),x(3,"section",21)(4,"span",22),Y(5),M(),x(6,"span",23),Y(7),M(),R(8,ei,2,0,"small",24),M()()),o&2){f();let e=ut(0),t=e.type===f().overviewDataTypeEnum.Contractor;O(2),B("src",e==null?null:e.thumbnail,Xt),O(3),te(e==null?null:e.name),O(2),te(e==null?null:e.title),O(),z(t?8:-1)}}function ni(o,r){if(o&1&&(x(0,"section",18)(1,"section",25),$(2,"app-icon",26),M(),x(3,"section",27)(4,"span",28),Y(5),M(),x(6,"span",29),Y(7),M()()()),o&2){let e=f().node,t=ut(0);O(5),te(t==null?null:t.name),O(2),Gt(" ",e==null?null:e.descendantsCount," Members ")}}function oi(o,r){if(o&1&&(Qt(0),R(1,ti,9,4,"section",17)(2,ni,8,2,"section",18)),o&2){let e,t=r.node,n=f(),i=Kt(t==null?null:t.data);O(),z((e=!0)==(i.type===n.overviewDataTypeEnum.Employee||i.type===n.overviewDataTypeEnum.Contractor)?1:e===(i.type===n.overviewDataTypeEnum.Department)?2:-1)}}var oo=class o{orgChart=ne(Ge);toolbar=ne("toolbar");data=L(null);showLeftShadow=L(!1);showRightShadow=L(!1);setData=ue(()=>{this.data.set(this.mapDataToOrgChartNode(no))});constructor(){Ve(()=>{this.checkScrollState(),this.observeToolbarResize()})}overviewDataTypeEnum=gt;themeOptions={node:{background:"var(--bg-primary)",outlineColor:"transparent",activeOutlineColor:"transparent",shadow:"0 0 0.125rem var(--node-shadow-color)",dragOverOutlineColor:"var(--text-primary)"},collapseButton:{color:"var(--text-secondary)",background:"var(--bg-primary)",borderColor:"var(--border-3)",hoverColor:"var(--text-primary)",hoverBackground:"var(--bg-secondary)",focusOutline:"0.0625rem solid var(--text-primary)"},connector:{activeColor:"var(--text-primary)",color:"var(--border-3)"},miniMap:{background:"var(--bg-primary)",borderColor:"var(--border-2)",nodeColor:"var(--surface-muted)"}};orgChartLayout=L("vertical");draggableEnabled=L(!1);miniMapEnabled=L(!0);toolbarButtons=G(()=>{let r=this.orgChartLayout()==="vertical";return[{title:"Zoom Out",icon:"zoom-out",onClick:()=>this.orgChart()?.zoomOut()},{title:"Zoom Level",isText:!0,label:`${this.orgChart()?.getScale()??0}%`},{title:"Zoom In",icon:"zoom-in",onClick:()=>this.orgChart()?.zoomIn()},{title:"Collapse All Nodes",icon:"collapse",onClick:()=>{this.orgChart()?.toggleCollapseAll(!0),setTimeout(()=>this.reset(),300)}},{title:"Expand All Nodes",icon:"expand",onClick:()=>{this.orgChart()?.toggleCollapseAll(!1),setTimeout(()=>this.reset(),300)}},{title:"Reset Zoom and Pan",icon:"center-h-v",onClick:()=>this.reset()},{label:this.draggableEnabled()?"Disable Drag & Drop":"Enable Drag & Drop",icon:"drag-drop",onClick:()=>this.draggableEnabled.update(e=>!e)},{label:this.miniMapEnabled()?"Hide Mini Map":"Show Mini Map",icon:this.miniMapEnabled()?"eye-slash":"eye",onClick:()=>this.miniMapEnabled.update(e=>!e)},{label:r?"Switch to Horizontal":"Switch to Vertical",icon:r?"logo-horizontal":"logo",onClick:()=>{this.orgChartLayout.set(r?"horizontal":"vertical")}},{title:"Highlight Engineering Department",label:"Highlight Engineering Department",icon:"target",onClick:()=>this.orgChart()?.highlightNode(2)}]});onNodeDrop(r){let e=this.data();if(!e)return;let t=Qn(e,r.draggedNode.id,r.targetNode.id);this.data.set(t)}onToolbarScroll(r){let e=r.target;this.updateScrollShadows(e)}checkScrollState(){let r=this.toolbar()?.nativeElement;r&&this.updateScrollShadows(r)}observeToolbarResize(){let r=this.toolbar()?.nativeElement;if(!r)return;new ResizeObserver(()=>{this.updateScrollShadows(r)}).observe(r)}updateScrollShadows(r){let e=r.scrollLeft,t=r.scrollWidth-r.clientWidth;this.showLeftShadow.set(e>1),this.showRightShadow.set(e<t-1)}reset(){this.orgChart()?.resetPanAndZoom()}mapDataToOrgChartNode(t){var n=t,{children:r}=n,e=Ht(n,["children"]);return{id:e.id.toString(),name:e.name,data:E({},e),children:r?.map(i=>this.mapDataToOrgChartNode(i))||[]}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=xe({type:o,selectors:[["app-overview"]],viewQuery:function(e,t){e&1&&(ee(t.orgChart,Ge,5),ee(t.toolbar,$r,5)),e&2&&Pe(2)},decls:16,vars:10,consts:[["toolbar",""],["nodeTemplate",""],[1,"overview"],[1,"overview__title"],[1,"overview__description"],[1,"overview__toolbar-wrapper"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--left"],[1,"overview__toolbar",3,"scroll"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--right"],[1,"overview__demo"],[3,"nodeDrop","data","themeOptions","layout","draggable","showMiniMap"],[1,"overview__toolbar-text"],["severity","inverted","variant","icon",3,"title"],["severity","inverted","variant","icon",3,"click","title"],[1,"overview__toolbar-button"],["size","small",3,"name"],[1,"overview__toolbar-button-label"],[1,"overview__employee"],[1,"overview__department"],[1,"overview__employee-thumbnail"],[3,"src"],[1,"overview__employee-details"],[1,"overview__employee-details-name"],[1,"overview__employee-details-position"],[1,"overview__employee-details-type"],[1,"overview__department-thumbnail"],["name","department","size","large",1,"overview__department-thumbnail-icon"],[1,"overview__department-details"],[1,"overview__department-details-name"],[1,"overview__department-details-description"]],template:function(e,t){if(e&1){let n=J();x(0,"article",2)(1,"h1",3),Y(2,"Overview"),M(),x(3,"p",4),Y(4," This section provides a brief overview of the application, highlighting its main features and functionalities. "),M(),x(5,"section",5),$(6,"div",6),x(7,"section",7,0),U("scroll",function(a){return N(n),I(t.onToolbarScroll(a))}),Fe(9,Jr,2,1,null,null,jt),M(),$(11,"div",8),M(),x(12,"section",9)(13,"ngx-interactive-org-chart",10),U("nodeDrop",function(a){return N(n),I(t.onNodeDrop(a))}),Le(14,oi,3,2,"ng-template",null,1,We),M()()()}e&2&&(O(6),ie("overview__toolbar-shadow--visible",t.showLeftShadow()),O(3),Ye(t.toolbarButtons()),O(2),ie("overview__toolbar-shadow--visible",t.showRightShadow()),O(2),B("data",t.data()??Jt(9,Ur))("themeOptions",t.themeOptions)("layout",t.orgChartLayout())("draggable",t.draggableEnabled())("showMiniMap",t.miniMapEnabled()))},dependencies:[Ge,on,rn],styles:[".overview[_ngcontent-%COMP%]{height:100%;padding:1rem 1.5rem 1.5rem;display:flex;flex-direction:column}.overview__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-block-end:1rem}.overview__description[_ngcontent-%COMP%]{font-size:1rem;margin:0;margin-block-end:1rem}.overview__demo[_ngcontent-%COMP%]{flex:1;background-color:var(--bg-secondary);border-radius:1rem;position:relative;overflow:hidden}.overview__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;gap:1rem;width:100%;scrollbar-width:none;-ms-overflow-style:none}.overview__toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.overview__toolbar-wrapper[_ngcontent-%COMP%]{position:relative;margin-block-end:.5rem;overflow:hidden}.overview__toolbar-shadow[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:4rem;pointer-events:none;opacity:0;transition:opacity .3s ease;z-index:2}.overview__toolbar-shadow--left[_ngcontent-%COMP%]{inset-inline-start:0;background:linear-gradient(to right,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset 8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--right[_ngcontent-%COMP%]{inset-inline-end:0;background:linear-gradient(to left,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset -8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--visible[_ngcontent-%COMP%]{opacity:1}.overview__toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.overview__toolbar-button-label[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}.overview__toolbar-text[_ngcontent-%COMP%]{min-width:3rem;display:flex;align-items:center;justify-content:center}.overview__employee[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__employee-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:3rem;height:3rem;object-fit:cover;box-shadow:0 0 .25rem #0000004d}.overview__employee-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__employee-details-name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:.875rem}.overview__employee-details-position[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__employee-details-type[_ngcontent-%COMP%]{font-size:.5rem;background-color:var(--surface-muted);padding:.125rem .25rem;border-radius:.25rem;color:var(--text-primary)}.overview__department[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__department-thumbnail-icon[_ngcontent-%COMP%]{background-color:var(--surface-muted);padding:.5rem;border-radius:50%}.overview__department-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__department-details-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--text-primary)}.overview__department-details-description[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__department-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}@media screen and (max-width: 768px){.overview[_ngcontent-%COMP%]{padding-inline:1rem}.overview__title[_ngcontent-%COMP%]{font-size:1.5rem}.overview__description[_ngcontent-%COMP%]{font-size:.875rem}}"]})};export{oo as OverviewComponent};
