import{f as Qt,g as Jt,h as en,l as tn,m as nn,q as st}from"./chunk-NEEBIQZB.js";import{c as dt,d as Ye,f as he,g as He}from"./chunk-PT2JM3JA.js";import{$ as Yt,$a as J,Bb as ue,Cb as Fe,Ea as ke,Eb as Ve,Fb as T,Gb as ge,Ha as Ze,La as Ae,Qa as se,S as ot,Ta as L,Ua as R,Va as qt,Wa as ze,X as D,Xa as Le,Y as S,Ya as Y,Z as Vt,Za as O,_a as w,a as E,ab as be,b as U,bb as ee,c as Ft,cb as $,d as q,db as f,e as Io,ea as V,gb as rt,hb as at,ib as it,jb as de,ka as Ht,kb as Re,lb as lt,mb as jt,nb as te,ob as B,pb as G,qb as Xt,rb as Ut,sa as Wt,sb as $t,tb as ct,ua as y,ub as Gt,vb as Kt,wb as ye,xb as Be}from"./chunk-FO5CYAWX.js";var rn=q((Xr,We)=>{"use strict";We.exports=on;We.exports.addWheelListener=on;We.exports.removeWheelListener=ko;function on(o,r,e){o.addEventListener("wheel",r,e)}function ko(o,r,e){o.removeEventListener("wheel",r,e)}});var un=q((Ur,dn)=>{"use strict";var Zo=4,Ao=.001,zo=1e-7,Lo=10,Oe=11,qe=1/(Oe-1),Ro=typeof Float32Array=="function";function an(o,r){return 1-3*r+3*o}function ln(o,r){return 3*r-6*o}function cn(o){return 3*o}function je(o,r,e){return((an(r,e)*o+ln(r,e))*o+cn(r))*o}function sn(o,r,e){return 3*an(r,e)*o*o+2*ln(r,e)*o+cn(r)}function Bo(o,r,e,t,n){var a,i,c=0;do i=r+(e-r)/2,a=je(i,t,n)-o,a>0?e=i:r=i;while(Math.abs(a)>zo&&++c<Lo);return i}function Fo(o,r,e,t){for(var n=0;n<Zo;++n){var a=sn(r,e,t);if(a===0)return r;var i=je(r,e,t)-o;r-=i/a}return r}function Vo(o){return o}dn.exports=function(r,e,t,n){if(!(0<=r&&r<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(r===e&&t===n)return Vo;for(var a=Ro?new Float32Array(Oe):new Array(Oe),i=0;i<Oe;++i)a[i]=je(i*qe,r,t);function c(u){for(var g=0,m=1,p=Oe-1;m!==p&&a[m]<=u;++m)g+=qe;--m;var v=(u-a[m])/(a[m+1]-a[m]),C=g+v*qe,P=sn(C,r,t);return P>=Ao?Fo(u,C,r,t):P===0?C:Bo(u,g,g+qe,r,t)}return function(g){return g===0?0:g===1?1:je(c(g),e,n)}}});var pn=q(($r,Xe)=>{"use strict";var we=un(),gn={ease:we(.25,.1,.25,1),easeIn:we(.42,0,1,1),easeOut:we(0,0,.58,1),easeInOut:we(.42,0,.58,1),linear:we(0,0,1,1)};Xe.exports=Yo;Xe.exports.makeAggregateRaf=mn;Xe.exports.sharedScheduler=mn();function Yo(o,r,e){var t=Object.create(null),n=Object.create(null);e=e||{};var a=typeof e.easing=="function"?e.easing:gn[e.easing];a||(e.easing&&console.warn("Unknown easing function in amator: "+e.easing),a=gn.ease);var i=typeof e.step=="function"?e.step:hn,c=typeof e.done=="function"?e.done:hn,u=Ho(e.scheduler),g=Object.keys(r);g.forEach(function(b){t[b]=o[b],n[b]=r[b]-o[b]});var m=typeof e.duration=="number"?e.duration:400,p=Math.max(1,m*.06),v,C=0;return v=u.next(I),{cancel:P};function P(){u.cancel(v),v=0}function I(){var b=a(C/p);C+=1,k(b),C<=p?(v=u.next(I),i(o)):(v=0,setTimeout(function(){c(o)},0))}function k(b){g.forEach(function(j){o[j]=n[j]*b+t[j]})}}function hn(){}function Ho(o){if(!o){var r=typeof window<"u"&&window.requestAnimationFrame;return r?Wo():qo()}if(typeof o.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof o.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return o}function Wo(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function qo(){return{next:function(o){return setTimeout(o,1e3/60)},cancel:function(o){return clearTimeout(o)}}}function mn(){var o=new Set,r=new Set,e=0;return{next:n,cancel:n,clearAll:t};function t(){o.clear(),r.clear(),cancelAnimationFrame(e),e=0}function n(u){r.add(u),a()}function a(){e||(e=requestAnimationFrame(i))}function i(){e=0;var u=r;r=o,o=u,o.forEach(function(g){g()}),o.clear()}function c(u){r.delete(u)}}});var vn=q((Gr,fn)=>{"use strict";fn.exports=function(r){Xo(r);var e=jo(r);return r.on=e.on,r.off=e.off,r.fire=e.fire,r};function jo(o){var r=Object.create(null);return{on:function(e,t,n){if(typeof t!="function")throw new Error("callback is expected to be a function");var a=r[e];return a||(a=r[e]=[]),a.push({callback:t,ctx:n}),o},off:function(e,t){var n=typeof e>"u";if(n)return r=Object.create(null),o;if(r[e]){var a=typeof t!="function";if(a)delete r[e];else for(var i=r[e],c=0;c<i.length;++c)i[c].callback===t&&i.splice(c,1)}return o},fire:function(e){var t=r[e];if(!t)return o;var n;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var a=0;a<t.length;++a){var i=t[a];i.callback.apply(i.ctx,n)}return o}}}function Xo(o){if(!o)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],e=0;e<r.length;++e)if(o.hasOwnProperty(r[e]))throw new Error("Subject cannot be eventified, since it already has property '"+r[e]+"'")}});var Cn=q((Kr,_n)=>{"use strict";_n.exports=Uo;function Uo(o,r,e){typeof e!="object"&&(e={});var t=typeof e.minVelocity=="number"?e.minVelocity:5,n=typeof e.amplitude=="number"?e.amplitude:.25,a=typeof e.cancelAnimationFrame=="function"?e.cancelAnimationFrame:$o(),i=typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame:Go(),c,u,g=342,m,p,v,C,P,I,k,b;return{start:ne,stop:xe,cancel:j};function j(){a(m),a(b)}function ne(){c=o(),C=k=p=P=0,u=new Date,a(m),a(b),m=i(fe)}function fe(){var H=Date.now(),Q=H-u;u=H;var A=o(),z=A.x-c.x,oe=A.y-c.y;c=A;var Z=1e3/(1+Q);p=.8*z*Z+.2*p,P=.8*oe*Z+.2*P,m=i(fe)}function xe(){a(m),a(b);var H=o();v=H.x,I=H.y,u=Date.now(),(p<-t||p>t)&&(C=n*p,v+=C),(P<-t||P>t)&&(k=n*P,I+=k),b=i(K)}function K(){var H=Date.now()-u,Q=!1,A=0,z=0;C&&(A=-C*Math.exp(-H/g),A>.5||A<-.5?Q=!0:A=C=0),k&&(z=-k*Math.exp(-H/g),z>.5||z<-.5?Q=!0:z=k=0),Q&&(r(v+A,I+z),b=i(K))}}function $o(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Go(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(o){return setTimeout(o,16)}}});var wn=q((Qr,On)=>{"use strict";On.exports=Ko;function Ko(o){if(o)return{capture:yn,release:yn};var r,e,t,n=!1;return{capture:a,release:i};function a(c){n=!0,e=window.document.onselectstart,t=window.document.ondragstart,window.document.onselectstart=bn,r=c,r.ondragstart=bn}function i(){n&&(n=!1,window.document.onselectstart=e,r&&(r.ondragstart=t))}}function bn(o){return o.stopPropagation(),!1}function yn(){}});var Mn=q((Jr,xn)=>{"use strict";xn.exports=Qo;function Qo(){this.x=0,this.y=0,this.scale=1}});var Tn=q((ea,ut)=>{"use strict";ut.exports=Jo;ut.exports.canAttach=Pn;function Jo(o,r){if(!Pn(o))throw new Error("svg element is required for svg.panzoom to work");var e=o.ownerSVGElement;if(!e)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");r.disableKeyboardInteraction||e.setAttribute("tabindex",0);var t={getBBox:a,getScreenCTM:i,getOwner:n,applyTransform:u,initTransform:c};return t;function n(){return e}function a(){var g=o.getBBox();return{left:g.x,top:g.y,width:g.width,height:g.height}}function i(){var g=e.getCTM();return g||e.getScreenCTM()}function c(g){var m=o.getCTM();m===null&&(m=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),g.x=m.e,g.y=m.f,g.scale=m.a,e.removeAttributeNS(null,"viewBox")}function u(g){o.setAttribute("transform","matrix("+g.scale+" 0 0 "+g.scale+" "+g.x+" "+g.y+")")}}function Pn(o){return o&&o.ownerSVGElement&&o.getCTM}});var Sn=q((ta,gt)=>{"use strict";gt.exports=er;gt.exports.canAttach=Dn;function er(o,r){var e=Dn(o);if(!e)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var t=o.parentElement;o.scrollTop=0,r.disableKeyboardInteraction||t.setAttribute("tabindex",0);var n={getBBox:i,getOwner:a,applyTransform:c};return n;function a(){return t}function i(){return{left:0,top:0,width:o.clientWidth,height:o.clientHeight}}function c(u){o.style.transformOrigin="0 0 0",o.style.transform="matrix("+u.scale+", 0, 0, "+u.scale+", "+u.x+", "+u.y+")"}}function Dn(o){return o&&o.parentElement&&o.style}});var Fn=q((na,Bn)=>{"use strict";var En=rn(),ht=pn(),tr=vn(),nr=Cn(),Ln=wn(),or=Ln(),rr=Ln(!0),ar=Mn(),Nn=Tn(),In=Sn(),ir=1,lr=1.75,kn=300,Zn=200;Bn.exports=Rn;function Rn(o,r){r=r||{};var e=r.controller;if(e||(Nn.canAttach(o)?e=Nn(o,r):In.canAttach(o)&&(e=In(o,r))),!e)throw new Error("Cannot create panzoom for the current type of dom element");var t=e.getOwner(),n={x:0,y:0},a=!1,i=new ar;e.initTransform&&e.initTransform(i);var c=typeof r.filterKey=="function"?r.filterKey:pe,u=typeof r.pinchSpeed=="number"?r.pinchSpeed:1,g=r.bounds,m=typeof r.maxZoom=="number"?r.maxZoom:Number.POSITIVE_INFINITY,p=typeof r.minZoom=="number"?r.minZoom:0,v=typeof r.boundsPadding=="number"?r.boundsPadding:.05,C=typeof r.zoomDoubleClickSpeed=="number"?r.zoomDoubleClickSpeed:lr,P=r.beforeWheel||pe,I=r.beforeMouseDown||pe,k=typeof r.zoomSpeed=="number"?r.zoomSpeed:ir,b=An(r.transformOrigin),j=r.enableTextSelection?rr:or;cr(g),r.autocenter&&io();var ne,fe=0,xe=0,K=0,H=null,Q=new Date,A,z=!1,oe=!1,Z,F,$e,Ge,Ke,W;"smoothScroll"in r&&!r.smoothScroll?W=sr():W=nr(vo,Oo,r.smoothScroll);var Qe,ve,Me,Pe=!1;yt();var Te={dispose:wo,moveBy:ie,moveTo:Je,smoothMoveTo:yo,centerOn:bo,zoomTo:Ne,zoomAbs:De,smoothZoom:Ee,smoothZoomAbs:Eo,showRectangle:ao,pause:no,resume:oo,isPaused:ro,getTransform:lo,getMinZoom:co,setMinZoom:so,getMaxZoom:uo,setMaxZoom:go,getTransformOrigin:ho,setTransformOrigin:mo,getZoomSpeed:po,setZoomSpeed:fo};tr(Te);var pt=typeof r.initialX=="number"?r.initialX:i.x,ft=typeof r.initialY=="number"?r.initialY:i.y,vt=typeof r.initialZoom=="number"?r.initialZoom:i.scale;return(pt!=i.x||ft!=i.y||vt!=i.scale)&&De(pt,ft,vt),Te;function no(){Ot(),Pe=!0}function oo(){Pe&&(yt(),Pe=!1)}function ro(){return Pe}function ao(l){var s=t.getBoundingClientRect(),d=re(s.width,s.height),h=l.right-l.left,_=l.bottom-l.top;if(!Number.isFinite(h)||!Number.isFinite(_))throw new Error("Invalid rectangle");var x=d.x/h,M=d.y/_,N=Math.min(x,M);i.x=-(l.left+h/2)*N+d.x/2,i.y=-(l.top+_/2)*N+d.y/2,i.scale=N}function re(l,s){if(e.getScreenCTM){var d=e.getScreenCTM(),h=d.a,_=d.d,x=d.e,M=d.f;n.x=l*h-x,n.y=s*_-M}else n.x=l,n.y=s;return n}function io(){var l,s,d=0,h=0,_=Ct();if(_)d=_.left,h=_.top,l=_.right-_.left,s=_.bottom-_.top;else{var x=t.getBoundingClientRect();l=x.width,s=x.height}var M=e.getBBox();if(!(M.width===0||M.height===0)){var N=s/M.height,ce=l/M.width,ae=Math.min(ce,N);i.x=-(M.left+M.width/2)*ae+l/2+d,i.y=-(M.top+M.height/2)*ae+s/2+h,i.scale=ae}}function lo(){return i}function co(){return p}function so(l){p=l}function uo(){return m}function go(l){m=l}function ho(){return b}function mo(l){b=An(l)}function po(){return k}function fo(l){if(!Number.isFinite(l))throw new Error("Zoom speed should be a number");k=l}function vo(){return{x:i.x,y:i.y}}function Je(l,s){i.x=l,i.y=s,et(),le("pan"),tt()}function _t(l,s){Je(i.x+l,i.y+s)}function et(){var l=Ct();if(l){var s=!1,d=_o(),h=l.left-d.right;return h>0&&(i.x+=h,s=!0),h=l.right-d.left,h<0&&(i.x+=h,s=!0),h=l.top-d.bottom,h>0&&(i.y+=h,s=!0),h=l.bottom-d.top,h<0&&(i.y+=h,s=!0),s}}function Ct(){if(g){if(typeof g=="boolean"){var l=t.getBoundingClientRect(),s=l.width,d=l.height;return{left:s*v,top:d*v,right:s*(1-v),bottom:d*(1-v)}}return g}}function _o(){var l=e.getBBox(),s=Co(l.left,l.top);return{left:s.x,top:s.y,right:l.width*i.scale+s.x,bottom:l.height*i.scale+s.y}}function Co(l,s){return{x:l*i.scale+i.x,y:s*i.scale+i.y}}function tt(){a=!0,ne=window.requestAnimationFrame(xo)}function bt(l,s,d){if(mt(l)||mt(s)||mt(d))throw new Error("zoom requires valid numbers");var h=i.scale*d;if(h<p){if(i.scale===p)return;d=p/i.scale}if(h>m){if(i.scale===m)return;d=m/i.scale}var _=re(l,s);if(i.x=_.x-d*(_.x-i.x),i.y=_.y-d*(_.y-i.y),g&&v===1&&p===1)i.scale*=d,et();else{var x=et();x||(i.scale*=d)}le("zoom"),tt()}function De(l,s,d){var h=d/i.scale;bt(l,s,h)}function bo(l){var s=l.ownerSVGElement;if(!s)throw new Error("ui element is required to be within the scene");var d=l.getBoundingClientRect(),h=d.left+d.width/2,_=d.top+d.height/2,x=s.getBoundingClientRect(),M=x.width/2-h,N=x.height/2-_;ie(M,N,!0)}function yo(l,s){ie(l-i.x,s-i.y,!0)}function ie(l,s,d){if(!d)return _t(l,s);Qe&&Qe.cancel();var h={x:0,y:0},_={x:l,y:s},x=0,M=0;Qe=ht(h,_,{step:function(N){_t(N.x-x,N.y-M),x=N.x,M=N.y}})}function Oo(l,s){Ie(),Je(l,s)}function wo(){Ot()}function yt(){t.addEventListener("mousedown",Et,{passive:!1}),t.addEventListener("dblclick",St,{passive:!1}),t.addEventListener("touchstart",xt,{passive:!1}),t.addEventListener("keydown",wt,{passive:!1}),En.addWheelListener(t,At,{passive:!1}),tt()}function Ot(){En.removeWheelListener(t,At),t.removeEventListener("mousedown",Et),t.removeEventListener("keydown",wt),t.removeEventListener("dblclick",St),t.removeEventListener("touchstart",xt),ne&&(window.cancelAnimationFrame(ne),ne=0),W.cancel(),kt(),Zt(),j.release(),nt()}function xo(){a&&Mo()}function Mo(){a=!1,e.applyTransform(i),le("transform"),ne=0}function wt(l){var s=0,d=0,h=0;if(l.keyCode===38?d=1:l.keyCode===40?d=-1:l.keyCode===37?s=1:l.keyCode===39?s=-1:l.keyCode===189||l.keyCode===109?h=1:(l.keyCode===187||l.keyCode===107)&&(h=-1),!c(l,s,d,h)){if(s||d){l.preventDefault(),l.stopPropagation();var _=t.getBoundingClientRect(),x=Math.min(_.width,_.height),M=.05,N=x*M*s,ce=x*M*d;ie(N,ce)}if(h){var ae=zt(h*100),x=b?Ce():Po();Ne(x.x,x.y,ae)}}}function Po(){var l=t.getBoundingClientRect();return{x:l.width/2,y:l.height/2}}function xt(l){if(To(l),_e(),l.touches.length===1)return So(l,l.touches[0]);l.touches.length===2&&(Ke=Dt(l.touches[0],l.touches[1]),Me=!0,Mt())}function To(l){r.onTouch&&!r.onTouch(l)||(l.stopPropagation(),l.preventDefault())}function Do(l){_e(),!(r.onDoubleClick&&!r.onDoubleClick(l))&&(l.preventDefault(),l.stopPropagation())}function So(l){xe=new Date;var s=l.touches[0],d=X(s);A=d;var h=re(d.x,d.y);Z=h.x,F=h.y,$e=Z,Ge=F,W.cancel(),Mt()}function Mt(){z||(z=!0,document.addEventListener("touchmove",Pt),document.addEventListener("touchend",Se),document.addEventListener("touchcancel",Se))}function Pt(l){if(l.touches.length===1){l.stopPropagation();var s=l.touches[0],d=X(s),h=re(d.x,d.y),_=h.x-Z,x=h.y-F;_!==0&&x!==0&&Lt(),Z=h.x,F=h.y,ie(_,x)}else if(l.touches.length===2){Me=!0;var M=l.touches[0],N=l.touches[1],ce=Dt(M,N),ae=1+(ce/Ke-1)*u,Rt=X(M),Bt=X(N);if(Z=(Rt.x+Bt.x)/2,F=(Rt.y+Bt.y)/2,b){var d=Ce();Z=d.x,F=d.y}Ne(Z,F,ae),Ke=ce,l.stopPropagation(),l.preventDefault()}}function _e(){K&&(clearTimeout(K),K=0)}function Tt(l){if(r.onClick){_e();var s=Z-$e,d=F-Ge,h=Math.sqrt(s*s+d*d);h>5||(K=setTimeout(function(){K=0,r.onClick(l)},kn))}}function Se(l){if(_e(),l.touches.length>0){var s=X(l.touches[0]),d=re(s.x,s.y);Z=d.x,F=d.y}else{var h=new Date;if(h-fe<kn)if(b){var s=Ce();Ee(s.x,s.y,C)}else Ee(A.x,A.y,C);else h-xe<Zn&&Tt(l);fe=h,nt(),Zt()}}function Dt(l,s){var d=l.clientX-s.clientX,h=l.clientY-s.clientY;return Math.sqrt(d*d+h*h)}function St(l){Do(l);var s=X(l);b&&(s=Ce()),Ee(s.x,s.y,C)}function Et(l){if(_e(),!I(l)){if(H=l,Q=new Date,z)return l.stopPropagation(),!1;var s=l.button===1&&window.event!==null||l.button===0;if(s){W.cancel();var d=X(l),h=re(d.x,d.y);return $e=Z=h.x,Ge=F=h.y,document.addEventListener("mousemove",Nt),document.addEventListener("mouseup",It),j.capture(l.target||l.srcElement),!1}}}function Nt(l){if(!z){Lt();var s=X(l),d=re(s.x,s.y),h=d.x-Z,_=d.y-F;Z=d.x,F=d.y,ie(h,_)}}function It(){var l=new Date;l-Q<Zn&&Tt(H),j.release(),nt(),kt()}function kt(){document.removeEventListener("mousemove",Nt),document.removeEventListener("mouseup",It),oe=!1}function Zt(){document.removeEventListener("touchmove",Pt),document.removeEventListener("touchend",Se),document.removeEventListener("touchcancel",Se),oe=!1,Me=!1,z=!1}function At(l){if(!P(l)){W.cancel();var s=l.deltaY;l.deltaMode>0&&(s*=100);var d=zt(s);if(d!==1){var h=b?Ce():X(l);Ne(h.x,h.y,d),l.preventDefault()}}}function X(l){var s,d,h=t.getBoundingClientRect();return s=l.clientX-h.left,d=l.clientY-h.top,{x:s,y:d}}function Ee(l,s,d){var h=i.scale,_={scale:h},x={scale:d*h};W.cancel(),Ie(),ve=ht(_,x,{step:function(M){De(l,s,M.scale)},done:No})}function Eo(l,s,d){var h=i.scale,_={scale:h},x={scale:d};W.cancel(),Ie(),ve=ht(_,x,{step:function(M){De(l,s,M.scale)}})}function Ce(){var l=t.getBoundingClientRect();return{x:l.width*b.x,y:l.height*b.y}}function Ne(l,s,d){return W.cancel(),Ie(),bt(l,s,d)}function Ie(){ve&&(ve.cancel(),ve=null)}function zt(l){var s=Math.sign(l),d=Math.min(.25,Math.abs(k*l/128));return 1-s*d}function Lt(){oe||(le("panstart"),oe=!0,W.start())}function nt(){oe&&(Me||W.stop(),le("panend"))}function No(){le("zoomend")}function le(l){Te.fire(l,Te)}}function An(o){if(o){if(typeof o=="object")return(!me(o.x)||!me(o.y))&&zn(o),o;zn()}}function zn(o){throw console.error(o),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function pe(){}function cr(o){var r=typeof o;if(!(r==="undefined"||r==="boolean")){var e=me(o.left)&&me(o.top)&&me(o.bottom)&&me(o.right);if(!e)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function me(o){return Number.isFinite(o)}function mt(o){return Number.isNaN?Number.isNaN(o):o!==o}function sr(){return{start:pe,stop:pe,cancel:pe}}function dr(){if(typeof document>"u")return;var o=document.getElementsByTagName("script");if(!o)return;for(var r,e=0;e<o.length;++e){var t=o[e];if(t.src&&t.src.match(/\bpanzoom(\.min)?\.js/)){r=t;break}}if(!r)return;var n=r.getAttribute("query");if(!n)return;var a=r.getAttribute("name")||"pz",i=Date.now();c();function c(){var m=document.querySelector(n);if(!m){var p=Date.now(),v=p-i;if(v<2e3){setTimeout(c,100);return}console.error("Cannot find the panzoom element",a);return}var C=u(r);console.log(C),window[a]=Rn(m,C)}function u(m){for(var p=m.attributes,v={},C=0;C<p.length;++C){var P=p[C],I=g(P);I&&(v[I.name]=I.value)}return v}function g(m){if(m.name){var p=m.name[0]==="p"&&m.name[1]==="z"&&m.name[2]==="-";if(p){var v=m.name.substr(3),C=JSON.parse(m.value);return{name:v,value:C}}}}}dr()});var Hn=Io(Fn(),1);var gr=["nodeTemplate"],hr=["dragHandleTemplate"],mr=["panZoomContainer"],pr=["orgChartContainer"],fr=o=>({node:o}),vr=(o,r)=>[o,r,"node-content"],Wn=(o,r)=>({$implicit:o,node:r}),_r=(o,r)=>({node:o,nodeTemplate:r}),Cr=(o,r)=>r.id;function br(o,r){if(o&1&&(O(0,"ul",5),be(1,6),w()),o&2){let e=f(),t=lt(5);y(),Y("ngTemplateOutlet",t)("ngTemplateOutletContext",Kt(2,fr,e.nodes()))}}function yr(o,r){if(o&1&&be(0,6),o&2){let e=f().node,t=f();Y("ngTemplateOutlet",t.customNodeTemplate)("ngTemplateOutletContext",ye(2,Wn,e,e))}}function Or(o,r){if(o&1&&(O(0,"span"),B(1),w()),o&2){let e=f().node;y(),G(e.name)}}function wr(o,r){if(o&1){let e=ee();O(0,"span",13),$("dragstart",function(n){D(e);let a=f().node,i=f();return S(i.onDragStart(n,a))})("dragend",function(n){D(e);let a=f().node,i=f();return S(i.onDragEnd(n,a))})("touchstart",function(n){D(e);let a=f().node,i=f();return S(i.onTouchStart(n,a))}),be(1,6),w()}if(o&2){let e=f().node,t=f();se("draggable",!0),y(),Y("ngTemplateOutlet",t.customDragHandleTemplate)("ngTemplateOutletContext",ye(3,Wn,e,e))}}function xr(o,r){if(o&1&&(O(0,"small",15),B(1),w()),o&2){let e=f(2).node;y(),G(e.descendantsCount)}}function Mr(o,r){if(o&1){let e=ee();O(0,"button",14),$("click",function(){D(e);let n=f().node,a=f();return S(a.onToggleCollapse({node:n,highlightNode:a.focusOnCollapseOrExpand()}))})("mouseenter",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("mousewheel",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("mouseleave",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("pointerenter",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("pointerleave",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())}),L(1,xr,2,1,"small",15),Vt(),O(2,"svg",16),J(3,"path",17),w()()}if(o&2){let e=f().node,t=f();te("collapsed",e.collapsed),se("aria-label",(e.collapsed?"Expand":"Collapse")+" "+e.name),y(),R(t.displayChildrenCount()?1:-1)}}function Pr(o,r){if(o&1&&be(0,6),o&2){let e=f().$implicit;f(3);let t=lt(5);Y("ngTemplateOutlet",t)("ngTemplateOutletContext",ye(2,_r,e,t))}}function Tr(o,r){if(o&1&&L(0,Pr,1,5,"ng-container",6),o&2){let e=r.$implicit;R(e.hidden?-1:0)}}function Dr(o,r){if(o&1&&(O(0,"ul",18),ze(1,Tr,1,1,null,null,Cr),w()),o&2){let e=f().node,t=f();te("collapsed",e.collapsed)("instant-animation",!0),Y("id",t.getNodeChildrenId(e.id))("@toggleNode",void 0),se("aria-hidden",e.collapsed),y(),Le(e.children)}}function Sr(o,r){if(o&1){let e=ee();O(0,"li",7,2)(2,"a",8),$("dragstart",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onDragStart(n,a))})("dragend",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onDragEnd(n,a))})("dragover",function(n){let a=D(e).node,i=f();return S(i.onDragOver(n,a))})("dragenter",function(n){let a=D(e).node,i=f();return S(i.onDragEnter(n,a))})("dragleave",function(n){D(e);let a=f();return S(a.onDragLeave(n))})("drop",function(n){let a=D(e).node,i=f();return S(i.onDrop(n,a))})("touchstart",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onTouchStart(n,a))}),O(3,"div",9),L(4,yr,1,5,"ng-container",6)(5,Or,2,1,"span"),w(),L(6,wr,2,6,"span",10),L(7,Mr,4,4,"button",11),w(),L(8,Dr,3,7,"ul",12),w()}if(o&2){let e=r.node,t=f();te("collapsed",e.collapsed),y(2),Y("ngClass",ye(12,vr,(e==null?null:e.nodeClass)??"",t.nodeClass()??""))("ngStyle",e.style)("id",t.getNodeId(e.id)),se("aria-expanded",e.children!=null&&e.children.length?!e.collapsed:null)("aria-label",e.name+(e.children!=null&&e.children.length?e.collapsed?" (collapsed)":" (expanded)":""))("draggable",t.draggable()&&!t.customDragHandleTemplate?!0:null),y(2),R(t.customNodeTemplate?4:5),y(2),R(t.customDragHandleTemplate&&t.draggable()?6:-1),y(),R(t.collapsible()&&(e.children!=null&&e.children.length)?7:-1),y(),R(e.children!=null&&e.children.length&&!e.hidden&&!e.collapsed?8:-1)}}function qn({node:o,targetNode:r,collapse:e}){if(o.id===r){let t=e??!o.collapsed;return U(E({},o),{collapsed:t,children:o.children?.map(n=>jn(n,t))})}return o.children?.length?U(E({},o),{children:o.children.map(t=>qn({node:t,targetNode:r,collapse:e}))}):o}function jn(o,r){return U(E({},o),{collapsed:r,children:o.children?.map(e=>jn(e,r))})}function Xn(o,r){let e=o.children?.map(n=>Xn(n,r))||[],t=e.reduce((n,a)=>n+1+(a.descendantsCount??0),0);return U(E({},o),{id:o.id??crypto.randomUUID(),collapsed:r??o.collapsed??!1,hidden:o.hidden??!1,children:e,descendantsCount:t})}var Vn=["background","background-color","background-image","background-size","background-position","background-repeat","color","font-family","font-size","font-weight","line-height","text-align","border","border-radius","border-color","border-width","border-style","padding","box-sizing","display","flex-direction","align-items","justify-content","gap","outline","outline-color","outline-width"];function Un(o){let r=o.cloneNode(!0);r.removeAttribute("id"),r.removeAttribute("draggable");let e=r.querySelector(".collapse-btn");e&&e.remove();let t=r.querySelector(".drag-handle");t&&t.remove();let n=window.getComputedStyle(o);Vn.forEach(c=>{let u=n.getPropertyValue(c);u&&r.style.setProperty(c,u,"important")});let a=o.querySelectorAll("*"),i=r.querySelectorAll("*");return a.forEach((c,u)=>{if(i[u]){let g=window.getComputedStyle(c),m=i[u];Vn.forEach(p=>{let v=g.getPropertyValue(p);v&&m.style.setProperty(p,v,"important")})}}),r}function Er(o){let{nodeElement:r,currentScale:e,touchX:t,touchY:n}=o,a=r.offsetWidth,i=r.offsetHeight,c=Un(r),u=e*1.05,g=a*u,m=i*u,p=document.createElement("div");return p.className="touch-drag-ghost-wrapper",p.style.position="fixed",p.style.pointerEvents="none",p.style.zIndex="10000",p.style.left=t-g/2+"px",p.style.top=n-m/2+"px",c.style.setProperty("position","relative","important"),c.style.setProperty("width",a+"px","important"),c.style.setProperty("height",i+"px","important"),c.style.setProperty("margin","0","important"),c.style.setProperty("opacity","0.9","important"),c.style.setProperty("transform-origin","top left","important"),c.style.setProperty("transform",`scale(${u})`,"important"),c.style.setProperty("box-shadow","0 15px 40px rgba(0, 0, 0, 0.4)","important"),c.style.setProperty("cursor","grabbing","important"),p.appendChild(c),document.body.appendChild(p),{wrapper:p,scaledWidth:g,scaledHeight:m}}function Nr(o,r,e,t,n){o.style.left=r-t/2+"px",o.style.top=e-n/2+"px"}function Ir(o,r){if(!o.dataTransfer)return;let e=Un(r);e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0.8",document.body.appendChild(e);let t=r.getBoundingClientRect(),n=o.clientX-t.left,a=o.clientY-t.top;o.dataTransfer.setDragImage(e,n,a),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},0)}var kr={node:{background:"#ffffff",color:"#4a4a4a",activeOutlineColor:"#3b82f6",outlineWidth:"2px",shadow:"0 2px 10px rgba(0, 0, 0, 0.1)",outlineColor:"#d1d5db",highlightShadowColor:"rgba(121, 59, 246, 0)",padding:"12px 16px",borderRadius:"8px",containerSpacing:"20px",activeColor:"#3b82f6",maxWidth:"auto",minWidth:"auto",maxHeight:"auto",minHeight:"auto",dragOverOutlineColor:"#3b82f6"},connector:{color:"#d1d5db",activeColor:"#3b82f6",borderRadius:"10px",width:"1.5px"},collapseButton:{size:"20px",borderColor:"#d1d5db",borderRadius:"0.25rem",color:"#4a4a4a",background:"#ffffff",hoverColor:"#3b82f6",hoverBackground:"#f3f4f6",hoverShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",hoverTransformScale:"1.05",focusOutline:"2px solid #3b82f6",countFontSize:"0.75rem"},container:{background:"transparent",border:"none"}},Zr=300,Yn=10,Ar=.1,zr=15,Ue=(()=>{class o{#e=ot(Ht);#t=ot(Yt);customNodeTemplate;customDragHandleTemplate;panZoomContainer=ge.required("panZoomContainer");orgChartContainer=ge.required("orgChartContainer");data=T.required();initialZoom=T();minZoom=T(.1);maxZoom=T(5);zoomSpeed=T(1);zoomDoubleClickSpeed=T(2);collapsible=T(!0);nodeClass=T();initialCollapsed=T();isRtl=T();layout=T("vertical");focusOnCollapseOrExpand=T(!1);displayChildrenCount=T(!0);highlightZoomNodeWidthRatio=T(.3);highlightZoomNodeHeightRatio=T(.4);draggable=T(!1);canDragNode=T();canDropNode=T();dragEdgeThreshold=T(Ar);dragAutoPanSpeed=T(zr);highlightZoomMinimum=T(.8);themeOptions=T();nodeDrop=Ve();nodeDragStart=Ve();nodeDragEnd=Ve();defaultThemeOptions=kr;finalThemeOptions=ue(()=>{let e=this.themeOptions();return{node:E(E({},this.defaultThemeOptions.node),e?.node),connector:E(E({},this.defaultThemeOptions.connector),e?.connector),collapseButton:E(E({},this.defaultThemeOptions.collapseButton),e?.collapseButton),container:E(E({},this.defaultThemeOptions.container),e?.container)}});nodes=V(null);scale=V(0);draggedNode=V(null);dragOverNode=V(null);currentDragOverElement=V(null);autoPanInterval=null;keyboardListener=null;touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Yn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0};panZoomInstance=null;getScale=ue(()=>this.scale());flattenedNodes=ue(()=>{let e=this.nodes();if(!e)return[];let t=n=>{let a=n.children?.flatMap(t)||[];return[n,...a]};return e?t(e):[]});setNodes=Fe(()=>{let e=this.data(),t=this.initialCollapsed();e&&this.nodes.set(Xn(e,t))});ngAfterViewInit(){this.initiatePanZoom(),this.disableChildDragging()}initiatePanZoom(){this.panZoomInstance&&this.panZoomInstance.dispose();let e=this.panZoomContainer()?.nativeElement;this.panZoomInstance=(0,Hn.default)(e,{initialZoom:this.getFitScale(),initialX:e.offsetWidth/2,initialY:e.offsetHeight/2,enableTextSelection:!1,minZoom:this.minZoom(),maxZoom:this.maxZoom(),zoomSpeed:this.zoomSpeed(),smoothScroll:!0,zoomDoubleClickSpeed:this.zoomDoubleClickSpeed()}),this.calculateScale(),this.panZoomInstance?.on("zoom",t=>{this.calculateScale()})}zoomIn({by:e,relative:t}={relative:!0}){this.zoom({type:"in",by:e,relative:t})}zoomOut({by:e,relative:t}={relative:!0}){this.zoom({type:"out",by:e,relative:t})}highlightNode(e){this.toggleCollapseAll(!1),setTimeout(()=>{let t=this.#e?.nativeElement.querySelector(`#${this.getNodeId(e)}`);this.panZoomToNode({nodeElement:t})},200)}pan(e,t,n){let a=this.orgChartContainer()?.nativeElement;if(!a||!this.panZoomInstance)return;let i=a.getBoundingClientRect(),c=this.panZoomContainer()?.nativeElement.getBoundingClientRect(),u=e-i.x+c.x,g=t-i.y+c.y;n?this.panZoomInstance.smoothMoveTo(u,g):this.panZoomInstance.moveTo(u,g)}resetPan(){let e=this.panZoomContainer()?.nativeElement;if(!e||!this.panZoomInstance)return;let t=e.getBoundingClientRect(),n=this.#e.nativeElement,a=n.getBoundingClientRect().width,i=n.getBoundingClientRect().height,c=-1*t.width/2+a/2;this.layout()==="horizontal"&&(this.isRtl()?c=a-t.width:c=0);let u=-1*t.height/2+i/2;this.panZoomInstance?.smoothMoveTo(c,u)}resetZoom(e=20){!this.panZoomInstance||!this.panZoomContainer()?.nativeElement||this.zoomOut({by:this.getFitScale(e)})}resetPanAndZoom(e=20){this.resetPan(),setTimeout(()=>{this.resetZoom(e)},Zr)}toggleCollapseAll(e){let t=this.nodes();t?.children?.length&&this.collapsible()&&this.onToggleCollapse({node:t,collapse:e})}onToggleCollapse({node:e,collapse:t,highlightNode:n=!1,playAnimation:a=!1}){if(!this.collapsible())return;let i=e.id,c=e.collapsed,u=qn({node:this.nodes(),targetNode:i,collapse:t});this.nodes.set(u),this.panZoomInstance?.resume(),n&&setTimeout(()=>{let g=this.#e?.nativeElement.querySelector(`#${c?this.getNodeChildrenId(i):this.getNodeId(i)}`);this.panZoomToNode({nodeElement:g,skipZoom:!0,playAnimation:a})},200)}zoom({type:e,by:t=10,relative:n}){let i=(this.panZoomContainer()?.nativeElement).getBoundingClientRect(),u=(this.#e?.nativeElement).getBoundingClientRect(),{scale:g}=this.panZoomInstance?.getTransform()??{scale:1},m=i.width/2+i.x-u.x,p=i.height/2+i.y-u.y;this.layout()==="horizontal"&&(this.isRtl()?m=i.width+i.x-u.x:m=0);let v=n?e==="in"?g*(1+t/100):g/(1+t/100):t;this.panZoomInstance?.smoothZoomAbs(m,p,v)}panZoomToNode({nodeElement:e,skipZoom:t,playAnimation:n=!0}){let a=this.panZoomContainer()?.nativeElement;if(!a||!e||!this.panZoomInstance)return;a.querySelectorAll(".highlighted").forEach(c=>{c.classList.remove("highlighted")}),this.panZoomInstance?.pause(),this.panZoomInstance?.resume(),setTimeout(()=>{let c=this.#e.nativeElement.getBoundingClientRect(),u=e.getBoundingClientRect(),g=u.x-u.width/2-c.x,m=u.y-u.height/2-c.y;if(!t){let p=this.calculateOptimalZoom(e);this.panZoomInstance?.smoothZoomAbs(g,m,p)}},10),setTimeout(()=>{let c=a.getBoundingClientRect(),u=e.getBoundingClientRect(),g=this.#e.nativeElement,m=g.getBoundingClientRect().width,p=g.getBoundingClientRect().height,v=-1*(u.x-c.x),C=-1*(u.y-c.y),P=m/2,I=p/2,k=v+P-u.width/2,b=C+I-u.height/2;this.panZoomInstance?.smoothMoveTo(k,b),n&&(e.classList.add("highlighted"),setTimeout(()=>{e.classList.remove("highlighted")},2300))},200)}getNodeId(e){return`node-${e}`}getNodeChildrenId(e){return`node-children-${e}`}onDragStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t)){e.preventDefault();return}this.draggedNode.set(t),this.nodeDragStart.emit(t),this.panZoomInstance?.pause();let i=e.target.closest(".node-content");e.dataTransfer&&i&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id?.toString()||""),Ir(e,i)),i&&setTimeout(()=>{i.classList.add("dragging")},0),this.setupKeyboardListener()}setupKeyboardListener(){this.removeKeyboardListener(),this.keyboardListener=e=>{e.key==="Escape"&&this.draggedNode()&&this.cancelDrag()},document.addEventListener("keydown",this.keyboardListener)}removeKeyboardListener(){this.keyboardListener&&(document.removeEventListener("keydown",this.keyboardListener),this.keyboardListener=null)}cancelDrag(){if(!this.draggedNode())return;this.stopAutoPan(),this.panZoomInstance?.resume(),this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("dragging"),t.classList.remove("drag-not-allowed")}),this.draggedNode.set(null),this.dragOverNode.set(null),this.removeKeyboardListener(),this.touchDragState.active&&(this.removeTouchGhostElement(),this.removeTouchListeners(),this.resetTouchDragState())}onDragEnd(e,t){if(!this.draggable())return;this.nodeDragEnd.emit(t),this.draggedNode.set(null),this.dragOverNode.set(null),this.currentDragOverElement.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume();let a=e.target.closest(".node-content");a&&a.classList.remove("dragging"),this.#e.nativeElement.querySelectorAll(".node-content").forEach(c=>c.classList.remove("drag-over"))}onDragOver(e,t){if(!this.draggable()||!this.draggedNode())return;e.preventDefault();let n=this.draggedNode();if(!n)return;if(this.isNodeDescendant(t,n)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}let a=this.canDropNode();if(a&&!a(n,t)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.dragOverNode.set(t)}onContainerDragOver(e){!this.draggable()||!this.draggedNode()||(e.preventDefault(),this.handleAutoPan(e))}onDragEnter(e,t){if(!this.draggable()||!this.draggedNode())return;let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let a=this.canDropNode();if(a&&!a(n,t))return;let c=e.target.closest(".node-content");c&&(this.currentDragOverElement()&&this.currentDragOverElement()!==c&&this.currentDragOverElement()?.classList.remove("drag-over"),c.classList.add("drag-over"),this.currentDragOverElement.set(c))}onDragLeave(e){if(!this.draggable())return;let n=e.target.closest(".node-content");if(n&&this.currentDragOverElement()===n){let a=n.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&(n.classList.remove("drag-over"),this.currentDragOverElement.set(null))}}onDrop(e,t){if(!this.draggable())return;e.preventDefault(),e.stopPropagation();let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let a=this.canDropNode();if(a&&!a(n,t))return;this.nodeDrop.emit({draggedNode:n,targetNode:t});let c=e.target.closest(".node-content");c&&c.classList.remove("drag-over"),this.currentDragOverElement.set(null),this.dragOverNode.set(null),this.stopAutoPan(),this.panZoomInstance?.resume(),Ae(()=>{this.disableChildDragging()},{injector:this.#t})}isNodeDescendant(e,t){return e.id===t.id?!0:t.children?.length?t.children.some(n=>this.isNodeDescendant(e,n)):!1}onTouchStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t))return;let a=e.touches[0];a&&(this.touchDragState.node=t,this.touchDragState.startX=a.clientX,this.touchDragState.startY=a.clientY,this.touchDragState.currentX=a.clientX,this.touchDragState.currentY=a.clientY,this.touchDragState.active=!1,document.addEventListener("touchmove",this.onTouchMoveDocument,{passive:!1}),document.addEventListener("touchend",this.onTouchEndDocument),document.addEventListener("touchcancel",this.onTouchEndDocument))}onTouchMoveDocument=e=>{if(!this.touchDragState.node)return;let t=e.touches[0];if(t){if(this.touchDragState.currentX=t.clientX,this.touchDragState.currentY=t.clientY,!this.touchDragState.active){let n=Math.abs(t.clientX-this.touchDragState.startX),a=Math.abs(t.clientY-this.touchDragState.startY);if(Math.sqrt(n*n+a*a)>=this.touchDragState.dragThreshold){this.touchDragState.active=!0,this.draggedNode.set(this.touchDragState.node),this.nodeDragStart.emit(this.touchDragState.node),this.setupKeyboardListener(),this.panZoomInstance?.pause(),this.createTouchGhostElement(this.touchDragState.node);let c=this.getNodeElement(this.touchDragState.node);c&&c.classList.add("dragging")}}if(this.touchDragState.active){e.preventDefault(),this.updateTouchGhostPosition(t.clientX,t.clientY),this.handleTouchAutoPan(t.clientX,t.clientY);let n=this.getElementUnderTouch(t.clientX,t.clientY);if(n){let a=n.closest(".node-content");if(a&&a.id){let i=this.getNodeIdFromElement(a),c=this.findNodeById(i);c?this.handleTouchDragOver(c):this.clearDragOverState()}else this.clearDragOverState()}else this.clearDragOverState()}}};onTouchEndDocument=e=>{if(this.touchDragState.node){if(this.touchDragState.active){let t=null,n=e.changedTouches[0]||(e.touches.length>0?e.touches[0]:null);if(n){let c=this.getElementUnderTouch(n.clientX,n.clientY);if(c){let u=c.closest(".node-content");if(u&&u.id){let g=this.getNodeIdFromElement(u);t=this.findNodeById(g)}}}let a=this.draggedNode();if(t&&a&&t.id!==a.id){let c=this.isNodeDescendant(t,a),u=this.canDropNode();!c&&(!u||u(a,t))&&this.nodeDrop.emit({draggedNode:a,targetNode:t})}this.removeTouchGhostElement(),this.nodeDragEnd.emit(this.touchDragState.node);let i=this.getNodeElement(this.touchDragState.node);i&&i.classList.remove("dragging"),this.clearDragOverState(),this.draggedNode.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume()}this.resetTouchDragState(),this.removeTouchListeners()}};resetTouchDragState(){this.touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Yn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0}}removeTouchListeners(){document.removeEventListener("touchmove",this.onTouchMoveDocument),document.removeEventListener("touchend",this.onTouchEndDocument),document.removeEventListener("touchcancel",this.onTouchEndDocument)}createTouchGhostElement(e){let t=this.getNodeElement(e);if(!t)return;let n=this.panZoomInstance?.getTransform()?.scale??1,a=Er({nodeElement:t,currentScale:n,touchX:this.touchDragState.currentX,touchY:this.touchDragState.currentY});this.touchDragState.ghostElement=a.wrapper,this.touchDragState.ghostScaledWidth=a.scaledWidth,this.touchDragState.ghostScaledHeight=a.scaledHeight}updateTouchGhostPosition(e,t){this.touchDragState.ghostElement&&Nr(this.touchDragState.ghostElement,e,t,this.touchDragState.ghostScaledWidth,this.touchDragState.ghostScaledHeight)}removeTouchGhostElement(){this.touchDragState.ghostElement&&(this.touchDragState.ghostElement.remove(),this.touchDragState.ghostElement=null)}getElementUnderTouch(e,t){let n=this.touchDragState.ghostElement,a=n?n.style.display:"";n&&(n.style.display="none");let i=document.elementFromPoint(e,t);return n&&(n.style.display=a),i}handleTouchDragOver(e){let t=this.draggedNode();if(!t)return;if(e.id===t.id){this.clearDragOverState();return}if(this.isNodeDescendant(e,t)){this.clearDragOverState();let a=this.getNodeElement(e);a&&a.classList.add("drag-not-allowed");return}let n=this.canDropNode();if(n&&!n(t,e)){this.clearDragOverState();let a=this.getNodeElement(e);a&&a.classList.add("drag-not-allowed");return}if(this.dragOverNode()!==e){this.clearDragOverState(),this.dragOverNode.set(e);let a=this.getNodeElement(e);a&&a.classList.add("drag-over")}}clearDragOverState(){this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("drag-not-allowed")}),this.dragOverNode.set(null)}getNodeElement(e){if(!e.id)return null;let t=this.getNodeId(e.id);return this.#e.nativeElement.querySelector(`#${t}`)}getNodeIdFromElement(e){let t=e.id.replace("node-",""),n=parseInt(t,10);return isNaN(n)?t:n}findNodeById(e){let t=this.nodes();if(!t)return null;let n=a=>{if(a.id===e||a.id?.toString()===e.toString())return a;if(a.children)for(let i of a.children){let c=n(i);if(c)return c}return null};return n(t)}handleTouchAutoPan(e,t){let a=this.#e.nativeElement.getBoundingClientRect(),i=e-a.left,c=t-a.top,u=a.width*this.dragEdgeThreshold(),g=a.height*this.dragEdgeThreshold(),m=0,p=0;i<u?m=this.dragAutoPanSpeed():i>a.width-u&&(m=-this.dragAutoPanSpeed()),c<g?p=this.dragAutoPanSpeed():c>a.height-g&&(p=-this.dragAutoPanSpeed()),m!==0||p!==0?this.startAutoPan(m,p):this.stopAutoPan()}handleAutoPan(e){let n=this.#e.nativeElement.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,c=n.width*this.dragEdgeThreshold(),u=n.height*this.dragEdgeThreshold(),g=0,m=0;a<c?g=this.dragAutoPanSpeed():a>n.width-c&&(g=-this.dragAutoPanSpeed()),i<u?m=this.dragAutoPanSpeed():i>n.height-u&&(m=-this.dragAutoPanSpeed()),g!==0||m!==0?this.startAutoPan(g,m):this.stopAutoPan()}startAutoPan(e,t){this.stopAutoPan(),this.autoPanInterval=window.setInterval(()=>{if(!this.panZoomInstance)return;let n=this.panZoomInstance.getTransform(),a=n.x+e,i=n.y+t;this.panZoomInstance.moveTo(a,i)},16)}stopAutoPan(){this.autoPanInterval!==null&&(clearInterval(this.autoPanInterval),this.autoPanInterval=null)}calculateScale(){let t=this.panZoomInstance?.getTransform()?.scale??0,n=this.minZoom(),a=this.maxZoom();if(n===a){this.scale.set(0);return}let i=(t-n)/(a-n),c=Math.round(i*1e4)/100;this.scale.set(c)}getFitScale(e=20){let t=this.#e?.nativeElement,n=this.orgChartContainer()?.nativeElement;if(!t||!n)return 1;let a=t.getBoundingClientRect(),i=a.width,c=a.height,u=n.clientWidth,g=n.clientHeight,m=i-e*2,p=c-e*2,v=m/u,C=p/g;return Math.min(v,C,1)}calculateOptimalZoom(e){let t=this.#e?.nativeElement;if(!t||!e)return 1.5;let n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),c=this.panZoomInstance?.getTransform()?.scale||1,u=a.width/c,g=a.height/c,m=this.highlightZoomNodeWidthRatio(),p=this.highlightZoomNodeHeightRatio(),v=n.width*m/u,C=n.height*p/g,P=Math.min(v,C),I=this.minZoom(),k=this.maxZoom();P=Math.max(I,Math.min(k,P));let b=this.highlightZoomMinimum();return P=Math.max(b,P),P}ngOnDestroy(){this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.dispose()}disableChildDragging(){let e=this.#e?.nativeElement;if(!e)return;e.querySelectorAll(".node-content-wrapper img, .node-content-wrapper a, .node-content-wrapper svg").forEach(n=>{n.setAttribute("draggable","false")})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=ke({type:o,selectors:[["ngx-interactive-org-chart"]],contentQueries:function(t,n,a){if(t&1&&(rt(a,gr,5),rt(a,hr,5)),t&2){let i;at(i=it())&&(n.customNodeTemplate=i.first),at(i=it())&&(n.customDragHandleTemplate=i.first)}},viewQuery:function(t,n){t&1&&(de(n.panZoomContainer,mr,5),de(n.orgChartContainer,pr,5)),t&2&&Re(2)},hostVars:67,hostBindings:function(t,n){t&2&&(se("data-layout",n.layout()),jt("--node-background",n.finalThemeOptions().node.background)("--node-color",n.finalThemeOptions().node.color)("--node-shadow",n.finalThemeOptions().node.shadow)("--node-outline-color",n.finalThemeOptions().node.outlineColor)("--node-outline-width",n.finalThemeOptions().node.outlineWidth)("--node-active-outline-color",n.finalThemeOptions().node.activeOutlineColor)("--node-highlight-shadow-color",n.finalThemeOptions().node.highlightShadowColor)("--node-padding",n.finalThemeOptions().node.padding)("--node-border-radius",n.finalThemeOptions().node.borderRadius)("--node-active-color",n.finalThemeOptions().node.activeColor)("--node-max-width",n.finalThemeOptions().node.maxWidth)("--node-min-width",n.finalThemeOptions().node.minWidth)("--node-max-height",n.finalThemeOptions().node.maxHeight)("--node-min-height",n.finalThemeOptions().node.minHeight)("--node-drag-over-outline-color",n.finalThemeOptions().node.dragOverOutlineColor)("--connector-color",n.finalThemeOptions().connector.color)("--connector-active-color",n.finalThemeOptions().connector.activeColor)("--connector-border-radius",n.finalThemeOptions().connector.borderRadius)("--node-container-spacing",n.finalThemeOptions().node.containerSpacing)("--connector-width",n.finalThemeOptions().connector.width)("--collapse-button-size",n.finalThemeOptions().collapseButton.size)("--collapse-button-border-color",n.finalThemeOptions().collapseButton.borderColor)("--collapse-button-border-radius",n.finalThemeOptions().collapseButton.borderRadius)("--collapse-button-color",n.finalThemeOptions().collapseButton.color)("--collapse-button-background",n.finalThemeOptions().collapseButton.background)("--collapse-button-hover-color",n.finalThemeOptions().collapseButton.hoverColor)("--collapse-button-hover-background",n.finalThemeOptions().collapseButton.hoverBackground)("--collapse-button-hover-shadow",n.finalThemeOptions().collapseButton.hoverShadow)("--collapse-button-hover-transform-scale",n.finalThemeOptions().collapseButton.hoverTransformScale)("--collapse-button-focus-outline",n.finalThemeOptions().collapseButton.focusOutline)("--collapse-button-count-font-size",n.finalThemeOptions().collapseButton.countFontSize)("--container-background",n.finalThemeOptions().container.background)("--container-border",n.finalThemeOptions().container.border))},inputs:{data:[1,"data"],initialZoom:[1,"initialZoom"],minZoom:[1,"minZoom"],maxZoom:[1,"maxZoom"],zoomSpeed:[1,"zoomSpeed"],zoomDoubleClickSpeed:[1,"zoomDoubleClickSpeed"],collapsible:[1,"collapsible"],nodeClass:[1,"nodeClass"],initialCollapsed:[1,"initialCollapsed"],isRtl:[1,"isRtl"],layout:[1,"layout"],focusOnCollapseOrExpand:[1,"focusOnCollapseOrExpand"],displayChildrenCount:[1,"displayChildrenCount"],highlightZoomNodeWidthRatio:[1,"highlightZoomNodeWidthRatio"],highlightZoomNodeHeightRatio:[1,"highlightZoomNodeHeightRatio"],draggable:[1,"draggable"],canDragNode:[1,"canDragNode"],canDropNode:[1,"canDropNode"],dragEdgeThreshold:[1,"dragEdgeThreshold"],dragAutoPanSpeed:[1,"dragAutoPanSpeed"],highlightZoomMinimum:[1,"highlightZoomMinimum"],themeOptions:[1,"themeOptions"]},outputs:{nodeDrop:"nodeDrop",nodeDragStart:"nodeDragStart",nodeDragEnd:"nodeDragEnd"},decls:6,vars:3,consts:[["panZoomContainer",""],["nodeTemplate",""],["orgChartContainer",""],[1,"org-chart-container",3,"dragover"],[1,"org-chart"],[1,"node-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"org-node"],[3,"dragstart","dragend","dragover","dragenter","dragleave","drop","touchstart","ngClass","ngStyle","id"],[1,"node-content-wrapper"],[1,"drag-handle"],["type","button",1,"collapse-btn",3,"collapsed"],[1,"node-container",3,"id","collapsed","instant-animation"],[1,"drag-handle",3,"dragstart","dragend","touchstart"],["type","button",1,"collapse-btn",3,"click","mouseenter","mousewheel","mouseleave","pointerenter","pointerleave"],[1,"children-count"],["fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z","fill","currentColor"],[1,"node-container",3,"id"]],template:function(t,n){if(t&1){let a=ee();O(0,"section",3),$("dragover",function(c){return D(a),S(n.onContainerDragOver(c))}),O(1,"section",4,0),L(3,br,2,4,"ul",5),w()(),Ze(4,Sr,9,15,"ng-template",null,1,Be)}if(t&2){let a;te("rtl",n.isRtl()),y(3),R((a=n.nodes())!=null&&a.id?3:-1)}},dependencies:[en,Qt,Jt],styles:['[_nghost-%COMP%]{--collapse-duration: .3s;--base-delay: .1s;--animation-duration: .5s;cursor:grab}[_nghost-%COMP%]:active{cursor:grabbing}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]{min-width:100%}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child{display:flex}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .node-content[_ngcontent-%COMP%]{align-self:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .org-node[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{padding-inline-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-block-start:0;min-width:auto;margin:0;display:flex;flex-direction:column}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;margin:0;min-width:auto}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{inset-inline-start:0;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color);height:0;width:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{justify-content:flex-start;overflow:visible}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-start:0;inset-block-end:50%;border-inline-start:var(--connector-width) solid var(--connector-color);border-inline-end:0;height:50%;width:var(--node-container-spacing);animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-block-end:auto;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before{border-block-start:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-inline-start:.125rem;padding-block-start:var(--node-container-spacing)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-end-start-radius:0;border-start-start-radius:var(--connector-border-radius);border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-block-end:var(--connector-width) solid var(--connector-color);border-block-start:none;border-end-start-radius:var(--connector-border-radius);border-start-end-radius:0}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{white-space:nowrap}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-end:calc(-1 * var(--collapse-button-size) / 2);inset-block-end:unset;inset-block-start:50%;inset-inline-start:unset;transform:translateY(-50%);flex-direction:column-reverse;justify-content:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;transform:rotate(-90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:0}[data-layout=horizontal][_nghost-%COMP%]   .rtl[_ngcontent-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-start:calc(-1 * var(--collapse-button-size) / 2);inset-inline-end:unset}.org-chart[_ngcontent-%COMP%]{text-align:center;min-width:100%;width:max-content;scroll-behavior:smooth;border:var(--container-border);background:var(--container-background);cursor:grab}.org-chart[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart-container[_ngcontent-%COMP%]{display:flex;min-height:100%;max-height:100%;width:100%;overflow:hidden}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:center;padding-block-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-inline-start:0;position:relative;opacity:1;transition:max-height var(--collapse-duration) ease,opacity var(--collapse-duration) ease,padding var(--collapse-duration) ease,width var(--collapse-duration) ease;box-sizing:border-box;margin:0 auto;min-width:0}.org-chart[_ngcontent-%COMP%]   .node-container.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;padding-block-start:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:first-child{padding-block-start:.5rem;margin-block:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset-block-start:0;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color);width:0;height:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2 + var(--connector-width));opacity:0;animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .3s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{display:inline-table;text-align:center;list-style-type:none;position:relative;padding:var(--node-container-spacing);transition:.5s;flex-shrink:0;overflow:hidden}.org-chart[_ngcontent-%COMP%]   .org-node.removing[_ngcontent-%COMP%]{opacity:0;transform:translateY(1.25rem) scale(.95);transition:.5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{content:"";position:absolute;inset-block-start:0;inset-inline-end:50%;border-block-start:var(--connector-width) solid var(--connector-color);width:51%;height:var(--node-container-spacing);opacity:0;animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .2s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-end:auto;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-block-start:.125rem}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-start-start-radius:var(--connector-border-radius);border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-inline-end:var(--connector-width) solid var(--connector-color);border-start-end-radius:var(--connector-border-radius)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{max-width:var(--node-max-width);max-height:var(--node-max-height);min-width:var(--node-min-width);min-height:var(--node-min-height);background:var(--node-background);color:var(--node-color);box-shadow:var(--node-shadow);padding:var(--node-padding);position:relative;display:inline-grid;border-radius:var(--node-border-radius);text-decoration:none;transition:.5s;outline:var(--node-outline-width) solid var(--node-outline-color);z-index:1;box-sizing:content-box}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]{display:contents}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .node-content-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.highlighted[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.dragging[_ngcontent-%COMP%]{opacity:.5;cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-over[_ngcontent-%COMP%]{outline:2px dashed var(--node-drag-over-outline-color);background-color:color-mix(in srgb,var(--node-drag-over-outline-color) 10%,var(--node-background))}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[draggable=true][_ngcontent-%COMP%]{cursor:move}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move;display:inline-flex;align-items:center;justify-content:center}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{all:unset;direction:ltr;display:flex;align-items:center;justify-content:center;color:var(--collapse-button-color);background:var(--collapse-button-background);border:.0625rem solid var(--collapse-button-border-color);border-radius:var(--collapse-button-border-radius);position:absolute;inset-block-end:calc(-1 * var(--collapse-button-size) / 2);inset-inline-start:50%;transform:translate(-50%);z-index:2;cursor:pointer;transition:transform var(--collapse-duration) ease,box-shadow var(--collapse-duration) ease}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;width:var(--collapse-button-size);height:var(--collapse-button-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:.25rem;font-size:var(--collapse-button-count-font-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(var(--collapse-button-hover-transform-scale));box-shadow:var(--collapse-button-hover-shadow);color:var(--collapse-button-hover-color);background:var(--collapse-button-hover-background)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:focus-visible{outline:var(--collapse-button-focus-outline);outline-offset:.0625rem}@keyframes _ngcontent-%COMP%_lineAppearX{0%{opacity:0;transform:scaleX(0)}to{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_lineAppearY{0%{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@media (prefers-reduced-motion: reduce){.org-chart[_ngcontent-%COMP%]{--base-delay: 0ms;--animation-duration: 0ms;--collapse-duration: 0ms}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{opacity:1;animation:none}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   exc-icon[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{opacity:1;transform:none;animation:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{opacity:1;animation:none}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0}70%{box-shadow:0 0 0 10px var(--node-highlight-shadow-color)}to{box-shadow:0 0 0 0 var(--node-highlight-shadow-color)}}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]{transition:none!important;animation:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none!important;-webkit-user-select:none!important;user-select:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{display:none!important}'],data:{animation:[dt("toggleNode",[He(":enter",[he({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}),Ye("300ms ease-out",he({width:"*",height:"*",opacity:1,transform:"scale(1)"}))]),He(":leave",[he({width:"*",height:"*"}),Ye("300ms ease-out",he({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}))])])]}})}return o})();function $n(o,r,e){let t=Gn(o,r);if(!t||Kn(t,e))return null;let n=Qn(o,r);return n?Jn(n,e,t):null}function Gn(o,r){if(o.id===r)return o;if(o.children)for(let e of o.children){let t=Gn(e,r);if(t)return t}return null}function Kn(o,r){return o.id===r?!0:o.children?.length?o.children.some(e=>Kn(e,r)):!1}function Qn(o,r){if(o.id===r)return null;let e=U(E({},o),{children:o.children?[...o.children]:void 0});if(!e.children)return e;let t=e.children.filter(n=>n.id!==r).map(n=>Qn(n,r)).filter(n=>n!==null);return U(E({},e),{children:t.length>0?t:void 0})}function Jn(o,r,e){if(o.id===r){let t=o.children||[];return U(E({},o),{children:[...t,E({},e)]})}if(o.children){let t=o.children.map(n=>Jn(n,r,e)).filter(n=>n!==null);return U(E({},o),{children:t})}return o}var eo={id:1,name:"Alice Johnson",title:"Chief Executive Officer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/21.jpg",children:[{id:2,name:"Engineering Department",type:"department",children:[{id:3,name:"Bob Smith",title:"CTO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/50.jpg",children:[{id:4,name:"Carol White",title:"Frontend Lead",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/3.jpg",children:[{id:9,name:"Emily Brown",title:"Senior Frontend Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/22.jpg"},{id:10,name:"Jake Hall",title:"Junior Frontend Developer",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/23.jpg"}]},{id:5,name:"David Kim",title:"Backend Lead",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/4.jpg",children:[{id:11,name:"Megan Lee",title:"DevOps Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/33.jpg"},{id:8,name:"Chris Johnson",title:"Database Administrator",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/80.jpg"}]}]}]},{id:6,name:"Finance Department",type:"department",children:[{id:7,name:"Eva Green",title:"CFO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/5.jpg",children:[{id:12,name:"Grace White",title:"Financial Analyst",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/34.jpg",children:[{id:14,name:"Liam Brown",title:"Junior Financial Analyst",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/36.jpg"},{id:15,name:"Olivia Green",title:"Intern",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/36.jpg"}]},{id:13,name:"Henry Black",title:"Payroll Specialist",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/35.jpg",children:[{id:16,name:"Sophia Blue",title:"Payroll Assistant",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/37.jpg"},{id:17,name:"James White",title:"Payroll Intern",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/38.jpg"}]}]}]}]};var Lr=["toolbar"],Rr=()=>({});function Br(o,r){if(o&1&&(O(0,"small",11),B(1),w()),o&2){let e=f().$implicit;y(),G(e==null?null:e.label)}}function Fr(o,r){if(o&1&&(O(0,"span",16),B(1),w()),o&2){let e=f(2).$implicit;y(),G(e==null?null:e.label)}}function Vr(o,r){if(o&1){let e=ee();O(0,"app-button",13),$("click",function(){D(e);let n=f().$implicit;return S(n==null?null:n.onClick())}),O(1,"div",14),J(2,"app-icon",15),L(3,Fr,2,1,"span",16),w()()}if(o&2){let e=f().$implicit;Y("title",(e==null?null:e.title)??""),y(2),Y("name",e==null?null:e.icon),y(),R(e!=null&&e.label?3:-1)}}function Yr(o,r){if(o&1&&L(0,Br,2,1,"small",11)(1,Vr,4,3,"app-button",12),o&2){let e=r.$implicit;R(e!=null&&e.isText?0:1)}}function Hr(o,r){o&1&&(O(0,"small",24),B(1,"Contractor"),w())}function Wr(o,r){if(o&1&&(O(0,"section",17)(1,"section",19),J(2,"img",20),w(),O(3,"section",21)(4,"span",22),B(5),w(),O(6,"span",23),B(7),w(),L(8,Hr,2,0,"small",24),w()()),o&2){f();let e=ct(0),t=e.type===f().overviewDataTypeEnum.Contractor;y(2),Y("src",e==null?null:e.thumbnail,Wt),y(3),G(e==null?null:e.name),y(2),G(e==null?null:e.title),y(),R(t?8:-1)}}function qr(o,r){if(o&1&&(O(0,"section",18)(1,"section",25),J(2,"app-icon",26),w(),O(3,"section",27)(4,"span",28),B(5),w(),O(6,"span",29),B(7),w()()()),o&2){let e=f().node,t=ct(0);y(5),G(t==null?null:t.name),y(2),Xt(" ",e==null?null:e.descendantsCount," Members ")}}function jr(o,r){if(o&1&&(Ut(0),L(1,Wr,9,4,"section",17)(2,qr,8,2,"section",18)),o&2){let e,t=r.node,n=f(),a=$t(t==null?null:t.data);y(),R((e=!0)==(a.type===n.overviewDataTypeEnum.Employee||a.type===n.overviewDataTypeEnum.Contractor)?1:e===(a.type===n.overviewDataTypeEnum.Department)?2:-1)}}var to=class o{orgChart=ge(Ue);toolbar=ge("toolbar");data=V(null);showLeftShadow=V(!1);showRightShadow=V(!1);setData=Fe(()=>{this.data.set(this.mapDataToOrgChartNode(eo))});constructor(){Ae(()=>{this.checkScrollState(),this.observeToolbarResize()})}overviewDataTypeEnum=st;themeOptions={node:{background:"var(--bg-primary)",outlineColor:"transparent",activeOutlineColor:"transparent",shadow:"0 0 0.125rem var(--node-shadow-color)",dragOverOutlineColor:"var(--text-primary)"},collapseButton:{color:"var(--text-secondary)",background:"var(--bg-primary)",borderColor:"var(--border-3)",hoverColor:"var(--text-primary)",hoverBackground:"var(--bg-secondary)",focusOutline:"0.0625rem solid var(--text-primary)"},connector:{activeColor:"var(--text-primary)",color:"var(--border-3)"}};orgChartLayout=V("vertical");draggableEnabled=V(!1);toolbarButtons=ue(()=>{let r=this.orgChartLayout()==="vertical";return[{title:"Zoom Out",icon:"zoom-out",onClick:()=>this.orgChart()?.zoomOut()},{title:"Zoom Level",isText:!0,label:`${this.orgChart()?.getScale()??0}%`},{title:"Zoom In",icon:"zoom-in",onClick:()=>this.orgChart()?.zoomIn()},{title:"Collapse All Nodes",icon:"collapse",onClick:()=>{this.orgChart()?.toggleCollapseAll(!0),setTimeout(()=>this.reset(),300)}},{title:"Expand All Nodes",icon:"expand",onClick:()=>{this.orgChart()?.toggleCollapseAll(!1),setTimeout(()=>this.reset(),300)}},{title:"Reset Zoom and Pan",icon:"center-h-v",onClick:()=>this.reset()},{label:this.draggableEnabled()?"Disable Drag & Drop":"Enable Drag & Drop",icon:"drag-drop",onClick:()=>this.draggableEnabled.update(e=>!e)},{label:r?"Switch to Horizontal":"Switch to Vertical",icon:r?"logo-horizontal":"logo",onClick:()=>{this.orgChartLayout.set(r?"horizontal":"vertical")}},{title:"Highlight Engineering Department",label:"Highlight Engineering Department",icon:"target",onClick:()=>this.orgChart()?.highlightNode(2)}]});onNodeDrop(r){let e=this.data();if(!e)return;let t=$n(e,r.draggedNode.id,r.targetNode.id);this.data.set(t)}onToolbarScroll(r){let e=r.target;this.updateScrollShadows(e)}checkScrollState(){let r=this.toolbar()?.nativeElement;r&&this.updateScrollShadows(r)}observeToolbarResize(){let r=this.toolbar()?.nativeElement;if(!r)return;new ResizeObserver(()=>{this.updateScrollShadows(r)}).observe(r)}updateScrollShadows(r){let e=r.scrollLeft,t=r.scrollWidth-r.clientWidth;this.showLeftShadow.set(e>1),this.showRightShadow.set(e<t-1)}reset(){this.orgChart()?.resetPanAndZoom()}mapDataToOrgChartNode(t){var n=t,{children:r}=n,e=Ft(n,["children"]);return{id:e.id.toString(),name:e.name,data:E({},e),children:r?.map(a=>this.mapDataToOrgChartNode(a))||[]}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=ke({type:o,selectors:[["app-overview"]],viewQuery:function(e,t){e&1&&(de(t.orgChart,Ue,5),de(t.toolbar,Lr,5)),e&2&&Re(2)},decls:16,vars:9,consts:[["toolbar",""],["nodeTemplate",""],[1,"overview"],[1,"overview__title"],[1,"overview__description"],[1,"overview__toolbar-wrapper"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--left"],[1,"overview__toolbar",3,"scroll"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--right"],[1,"overview__demo"],[3,"nodeDrop","data","themeOptions","layout","draggable"],[1,"overview__toolbar-text"],["severity","inverted","variant","icon",3,"title"],["severity","inverted","variant","icon",3,"click","title"],[1,"overview__toolbar-button"],["size","small",3,"name"],[1,"overview__toolbar-button-label"],[1,"overview__employee"],[1,"overview__department"],[1,"overview__employee-thumbnail"],[3,"src"],[1,"overview__employee-details"],[1,"overview__employee-details-name"],[1,"overview__employee-details-position"],[1,"overview__employee-details-type"],[1,"overview__department-thumbnail"],["name","department","size","large",1,"overview__department-thumbnail-icon"],[1,"overview__department-details"],[1,"overview__department-details-name"],[1,"overview__department-details-description"]],template:function(e,t){if(e&1){let n=ee();O(0,"article",2)(1,"h1",3),B(2,"Overview"),w(),O(3,"p",4),B(4," This section provides a brief overview of the application, highlighting its main features and functionalities. "),w(),O(5,"section",5),J(6,"div",6),O(7,"section",7,0),$("scroll",function(i){return D(n),S(t.onToolbarScroll(i))}),ze(9,Yr,2,1,null,null,qt),w(),J(11,"div",8),w(),O(12,"section",9)(13,"ngx-interactive-org-chart",10),$("nodeDrop",function(i){return D(n),S(t.onNodeDrop(i))}),Ze(14,jr,3,2,"ng-template",null,1,Be),w()()()}e&2&&(y(6),te("overview__toolbar-shadow--visible",t.showLeftShadow()),y(3),Le(t.toolbarButtons()),y(2),te("overview__toolbar-shadow--visible",t.showRightShadow()),y(2),Y("data",t.data()??Gt(8,Rr))("themeOptions",t.themeOptions)("layout",t.orgChartLayout())("draggable",t.draggableEnabled()))},dependencies:[Ue,tn,nn],styles:[".overview[_ngcontent-%COMP%]{height:100%;padding:1rem 1.5rem 1.5rem;display:flex;flex-direction:column}.overview__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-block-end:1rem}.overview__description[_ngcontent-%COMP%]{font-size:1rem;margin:0;margin-block-end:1rem}.overview__demo[_ngcontent-%COMP%]{flex:1;background-color:var(--bg-secondary);border-radius:1rem;position:relative;overflow:hidden}.overview__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;gap:1rem;width:100%;scrollbar-width:none;-ms-overflow-style:none}.overview__toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.overview__toolbar-wrapper[_ngcontent-%COMP%]{position:relative;margin-block-end:.5rem;overflow:hidden}.overview__toolbar-shadow[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:4rem;pointer-events:none;opacity:0;transition:opacity .3s ease;z-index:2}.overview__toolbar-shadow--left[_ngcontent-%COMP%]{inset-inline-start:0;background:linear-gradient(to right,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset 8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--right[_ngcontent-%COMP%]{inset-inline-end:0;background:linear-gradient(to left,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset -8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--visible[_ngcontent-%COMP%]{opacity:1}.overview__toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.overview__toolbar-button-label[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}.overview__toolbar-text[_ngcontent-%COMP%]{min-width:3rem;display:flex;align-items:center;justify-content:center}.overview__employee[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__employee-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:3rem;height:3rem;object-fit:cover;box-shadow:0 0 .25rem #0000004d}.overview__employee-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__employee-details-name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:.875rem}.overview__employee-details-position[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__employee-details-type[_ngcontent-%COMP%]{font-size:.5rem;background-color:var(--surface-muted);padding:.125rem .25rem;border-radius:.25rem;color:var(--text-primary)}.overview__department[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__department-thumbnail-icon[_ngcontent-%COMP%]{background-color:var(--surface-muted);padding:.5rem;border-radius:50%}.overview__department-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__department-details-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--text-primary)}.overview__department-details-description[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__department-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}@media screen and (max-width: 768px){.overview[_ngcontent-%COMP%]{padding-inline:1rem}.overview__title[_ngcontent-%COMP%]{font-size:1.5rem}.overview__description[_ngcontent-%COMP%]{font-size:.875rem}}"]})};export{to as OverviewComponent};
