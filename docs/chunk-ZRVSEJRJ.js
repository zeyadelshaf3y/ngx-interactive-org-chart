import{f as Kt,g as Qt,h as Jt,l as en,m as tn,q as lt}from"./chunk-NEEBIQZB.js";import{c as st,d as Ve,f as he,g as Ye}from"./chunk-PT2JM3JA.js";import{$a as J,Bb as ue,Cb as Be,Ea as ke,Eb as Fe,Fb as T,Gb as ge,Ha as Ze,La as Ht,Qa as ce,S as Bt,Ta as L,Ua as R,Va as Wt,Wa as Ae,X as D,Xa as ze,Y as S,Ya as Y,Z as Ft,Za as O,_a as M,a as E,ab as be,b as U,bb as ee,c as Rt,cb as $,d as q,db as f,e as No,ea as V,gb as nt,hb as ot,ib as rt,jb as de,ka as Vt,kb as Le,lb as at,mb as qt,nb as te,ob as B,pb as G,qb as Xt,rb as jt,sa as Yt,sb as Ut,tb as it,ua as y,ub as $t,vb as Gt,wb as ye,xb as Re}from"./chunk-FO5CYAWX.js";var on=q((Xr,He)=>{"use strict";He.exports=nn;He.exports.addWheelListener=nn;He.exports.removeWheelListener=Io;function nn(o,r,e){o.addEventListener("wheel",r,e)}function Io(o,r,e){o.removeEventListener("wheel",r,e)}});var dn=q((jr,cn)=>{"use strict";var ko=4,Zo=.001,Ao=1e-7,zo=10,Oe=11,We=1/(Oe-1),Lo=typeof Float32Array=="function";function rn(o,r){return 1-3*r+3*o}function an(o,r){return 3*r-6*o}function ln(o){return 3*o}function qe(o,r,e){return((rn(r,e)*o+an(r,e))*o+ln(r))*o}function sn(o,r,e){return 3*rn(r,e)*o*o+2*an(r,e)*o+ln(r)}function Ro(o,r,e,t,n){var a,i,s=0;do i=r+(e-r)/2,a=qe(i,t,n)-o,a>0?e=i:r=i;while(Math.abs(a)>Ao&&++s<zo);return i}function Bo(o,r,e,t){for(var n=0;n<ko;++n){var a=sn(r,e,t);if(a===0)return r;var i=qe(r,e,t)-o;r-=i/a}return r}function Fo(o){return o}cn.exports=function(r,e,t,n){if(!(0<=r&&r<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(r===e&&t===n)return Fo;for(var a=Lo?new Float32Array(Oe):new Array(Oe),i=0;i<Oe;++i)a[i]=qe(i*We,r,t);function s(u){for(var g=0,m=1,p=Oe-1;m!==p&&a[m]<=u;++m)g+=We;--m;var v=(u-a[m])/(a[m+1]-a[m]),C=g+v*We,P=sn(C,r,t);return P>=Zo?Bo(u,C,r,t):P===0?C:Ro(u,g,g+We,r,t)}return function(g){return g===0?0:g===1?1:qe(s(g),e,n)}}});var mn=q((Ur,Xe)=>{"use strict";var we=dn(),un={ease:we(.25,.1,.25,1),easeIn:we(.42,0,1,1),easeOut:we(0,0,.58,1),easeInOut:we(.42,0,.58,1),linear:we(0,0,1,1)};Xe.exports=Vo;Xe.exports.makeAggregateRaf=hn;Xe.exports.sharedScheduler=hn();function Vo(o,r,e){var t=Object.create(null),n=Object.create(null);e=e||{};var a=typeof e.easing=="function"?e.easing:un[e.easing];a||(e.easing&&console.warn("Unknown easing function in amator: "+e.easing),a=un.ease);var i=typeof e.step=="function"?e.step:gn,s=typeof e.done=="function"?e.done:gn,u=Yo(e.scheduler),g=Object.keys(r);g.forEach(function(b){t[b]=o[b],n[b]=r[b]-o[b]});var m=typeof e.duration=="number"?e.duration:400,p=Math.max(1,m*.06),v,C=0;return v=u.next(I),{cancel:P};function P(){u.cancel(v),v=0}function I(){var b=a(C/p);C+=1,k(b),C<=p?(v=u.next(I),i(o)):(v=0,setTimeout(function(){s(o)},0))}function k(b){g.forEach(function(X){o[X]=n[X]*b+t[X]})}}function gn(){}function Yo(o){if(!o){var r=typeof window<"u"&&window.requestAnimationFrame;return r?Ho():Wo()}if(typeof o.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof o.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return o}function Ho(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Wo(){return{next:function(o){return setTimeout(o,1e3/60)},cancel:function(o){return clearTimeout(o)}}}function hn(){var o=new Set,r=new Set,e=0;return{next:n,cancel:n,clearAll:t};function t(){o.clear(),r.clear(),cancelAnimationFrame(e),e=0}function n(u){r.add(u),a()}function a(){e||(e=requestAnimationFrame(i))}function i(){e=0;var u=r;r=o,o=u,o.forEach(function(g){g()}),o.clear()}function s(u){r.delete(u)}}});var fn=q(($r,pn)=>{"use strict";pn.exports=function(r){Xo(r);var e=qo(r);return r.on=e.on,r.off=e.off,r.fire=e.fire,r};function qo(o){var r=Object.create(null);return{on:function(e,t,n){if(typeof t!="function")throw new Error("callback is expected to be a function");var a=r[e];return a||(a=r[e]=[]),a.push({callback:t,ctx:n}),o},off:function(e,t){var n=typeof e>"u";if(n)return r=Object.create(null),o;if(r[e]){var a=typeof t!="function";if(a)delete r[e];else for(var i=r[e],s=0;s<i.length;++s)i[s].callback===t&&i.splice(s,1)}return o},fire:function(e){var t=r[e];if(!t)return o;var n;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var a=0;a<t.length;++a){var i=t[a];i.callback.apply(i.ctx,n)}return o}}}function Xo(o){if(!o)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],e=0;e<r.length;++e)if(o.hasOwnProperty(r[e]))throw new Error("Subject cannot be eventified, since it already has property '"+r[e]+"'")}});var _n=q((Gr,vn)=>{"use strict";vn.exports=jo;function jo(o,r,e){typeof e!="object"&&(e={});var t=typeof e.minVelocity=="number"?e.minVelocity:5,n=typeof e.amplitude=="number"?e.amplitude:.25,a=typeof e.cancelAnimationFrame=="function"?e.cancelAnimationFrame:Uo(),i=typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame:$o(),s,u,g=342,m,p,v,C,P,I,k,b;return{start:ne,stop:xe,cancel:X};function X(){a(m),a(b)}function ne(){s=o(),C=k=p=P=0,u=new Date,a(m),a(b),m=i(fe)}function fe(){var H=Date.now(),Q=H-u;u=H;var A=o(),z=A.x-s.x,oe=A.y-s.y;s=A;var Z=1e3/(1+Q);p=.8*z*Z+.2*p,P=.8*oe*Z+.2*P,m=i(fe)}function xe(){a(m),a(b);var H=o();v=H.x,I=H.y,u=Date.now(),(p<-t||p>t)&&(C=n*p,v+=C),(P<-t||P>t)&&(k=n*P,I+=k),b=i(K)}function K(){var H=Date.now()-u,Q=!1,A=0,z=0;C&&(A=-C*Math.exp(-H/g),A>.5||A<-.5?Q=!0:A=C=0),k&&(z=-k*Math.exp(-H/g),z>.5||z<-.5?Q=!0:z=k=0),Q&&(r(v+A,I+z),b=i(K))}}function Uo(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function $o(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(o){return setTimeout(o,16)}}});var On=q((Kr,yn)=>{"use strict";yn.exports=Go;function Go(o){if(o)return{capture:bn,release:bn};var r,e,t,n=!1;return{capture:a,release:i};function a(s){n=!0,e=window.document.onselectstart,t=window.document.ondragstart,window.document.onselectstart=Cn,r=s,r.ondragstart=Cn}function i(){n&&(n=!1,window.document.onselectstart=e,r&&(r.ondragstart=t))}}function Cn(o){return o.stopPropagation(),!1}function bn(){}});var xn=q((Qr,wn)=>{"use strict";wn.exports=Ko;function Ko(){this.x=0,this.y=0,this.scale=1}});var Pn=q((Jr,ct)=>{"use strict";ct.exports=Qo;ct.exports.canAttach=Mn;function Qo(o,r){if(!Mn(o))throw new Error("svg element is required for svg.panzoom to work");var e=o.ownerSVGElement;if(!e)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");r.disableKeyboardInteraction||e.setAttribute("tabindex",0);var t={getBBox:a,getScreenCTM:i,getOwner:n,applyTransform:u,initTransform:s};return t;function n(){return e}function a(){var g=o.getBBox();return{left:g.x,top:g.y,width:g.width,height:g.height}}function i(){var g=e.getCTM();return g||e.getScreenCTM()}function s(g){var m=o.getCTM();m===null&&(m=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),g.x=m.e,g.y=m.f,g.scale=m.a,e.removeAttributeNS(null,"viewBox")}function u(g){o.setAttribute("transform","matrix("+g.scale+" 0 0 "+g.scale+" "+g.x+" "+g.y+")")}}function Mn(o){return o&&o.ownerSVGElement&&o.getCTM}});var Dn=q((ea,dt)=>{"use strict";dt.exports=Jo;dt.exports.canAttach=Tn;function Jo(o,r){var e=Tn(o);if(!e)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var t=o.parentElement;o.scrollTop=0,r.disableKeyboardInteraction||t.setAttribute("tabindex",0);var n={getBBox:i,getOwner:a,applyTransform:s};return n;function a(){return t}function i(){return{left:0,top:0,width:o.clientWidth,height:o.clientHeight}}function s(u){o.style.transformOrigin="0 0 0",o.style.transform="matrix("+u.scale+", 0, 0, "+u.scale+", "+u.x+", "+u.y+")"}}function Tn(o){return o&&o.parentElement&&o.style}});var Bn=q((ta,Rn)=>{"use strict";var Sn=on(),ut=mn(),er=fn(),tr=_n(),zn=On(),nr=zn(),or=zn(!0),rr=xn(),En=Pn(),Nn=Dn(),ar=1,ir=1.75,In=300,kn=200;Rn.exports=Ln;function Ln(o,r){r=r||{};var e=r.controller;if(e||(En.canAttach(o)?e=En(o,r):Nn.canAttach(o)&&(e=Nn(o,r))),!e)throw new Error("Cannot create panzoom for the current type of dom element");var t=e.getOwner(),n={x:0,y:0},a=!1,i=new rr;e.initTransform&&e.initTransform(i);var s=typeof r.filterKey=="function"?r.filterKey:pe,u=typeof r.pinchSpeed=="number"?r.pinchSpeed:1,g=r.bounds,m=typeof r.maxZoom=="number"?r.maxZoom:Number.POSITIVE_INFINITY,p=typeof r.minZoom=="number"?r.minZoom:0,v=typeof r.boundsPadding=="number"?r.boundsPadding:.05,C=typeof r.zoomDoubleClickSpeed=="number"?r.zoomDoubleClickSpeed:ir,P=r.beforeWheel||pe,I=r.beforeMouseDown||pe,k=typeof r.zoomSpeed=="number"?r.zoomSpeed:ar,b=Zn(r.transformOrigin),X=r.enableTextSelection?or:nr;lr(g),r.autocenter&&ao();var ne,fe=0,xe=0,K=0,H=null,Q=new Date,A,z=!1,oe=!1,Z,F,Ue,$e,Ge,W;"smoothScroll"in r&&!r.smoothScroll?W=sr():W=tr(fo,yo,r.smoothScroll);var Ke,ve,Me,Pe=!1;Ct();var Te={dispose:Oo,moveBy:ie,moveTo:Qe,smoothMoveTo:bo,centerOn:Co,zoomTo:Ne,zoomAbs:De,smoothZoom:Ee,smoothZoomAbs:So,showRectangle:ro,pause:to,resume:no,isPaused:oo,getTransform:io,getMinZoom:lo,setMinZoom:so,getMaxZoom:co,setMaxZoom:uo,getTransformOrigin:go,setTransformOrigin:ho,getZoomSpeed:mo,setZoomSpeed:po};er(Te);var ht=typeof r.initialX=="number"?r.initialX:i.x,mt=typeof r.initialY=="number"?r.initialY:i.y,pt=typeof r.initialZoom=="number"?r.initialZoom:i.scale;return(ht!=i.x||mt!=i.y||pt!=i.scale)&&De(ht,mt,pt),Te;function to(){bt(),Pe=!0}function no(){Pe&&(Ct(),Pe=!1)}function oo(){return Pe}function ro(l){var c=t.getBoundingClientRect(),d=re(c.width,c.height),h=l.right-l.left,_=l.bottom-l.top;if(!Number.isFinite(h)||!Number.isFinite(_))throw new Error("Invalid rectangle");var w=d.x/h,x=d.y/_,N=Math.min(w,x);i.x=-(l.left+h/2)*N+d.x/2,i.y=-(l.top+_/2)*N+d.y/2,i.scale=N}function re(l,c){if(e.getScreenCTM){var d=e.getScreenCTM(),h=d.a,_=d.d,w=d.e,x=d.f;n.x=l*h-w,n.y=c*_-x}else n.x=l,n.y=c;return n}function ao(){var l,c,d=0,h=0,_=vt();if(_)d=_.left,h=_.top,l=_.right-_.left,c=_.bottom-_.top;else{var w=t.getBoundingClientRect();l=w.width,c=w.height}var x=e.getBBox();if(!(x.width===0||x.height===0)){var N=c/x.height,se=l/x.width,ae=Math.min(se,N);i.x=-(x.left+x.width/2)*ae+l/2+d,i.y=-(x.top+x.height/2)*ae+c/2+h,i.scale=ae}}function io(){return i}function lo(){return p}function so(l){p=l}function co(){return m}function uo(l){m=l}function go(){return b}function ho(l){b=Zn(l)}function mo(){return k}function po(l){if(!Number.isFinite(l))throw new Error("Zoom speed should be a number");k=l}function fo(){return{x:i.x,y:i.y}}function Qe(l,c){i.x=l,i.y=c,Je(),le("pan"),et()}function ft(l,c){Qe(i.x+l,i.y+c)}function Je(){var l=vt();if(l){var c=!1,d=vo(),h=l.left-d.right;return h>0&&(i.x+=h,c=!0),h=l.right-d.left,h<0&&(i.x+=h,c=!0),h=l.top-d.bottom,h>0&&(i.y+=h,c=!0),h=l.bottom-d.top,h<0&&(i.y+=h,c=!0),c}}function vt(){if(g){if(typeof g=="boolean"){var l=t.getBoundingClientRect(),c=l.width,d=l.height;return{left:c*v,top:d*v,right:c*(1-v),bottom:d*(1-v)}}return g}}function vo(){var l=e.getBBox(),c=_o(l.left,l.top);return{left:c.x,top:c.y,right:l.width*i.scale+c.x,bottom:l.height*i.scale+c.y}}function _o(l,c){return{x:l*i.scale+i.x,y:c*i.scale+i.y}}function et(){a=!0,ne=window.requestAnimationFrame(wo)}function _t(l,c,d){if(gt(l)||gt(c)||gt(d))throw new Error("zoom requires valid numbers");var h=i.scale*d;if(h<p){if(i.scale===p)return;d=p/i.scale}if(h>m){if(i.scale===m)return;d=m/i.scale}var _=re(l,c);if(i.x=_.x-d*(_.x-i.x),i.y=_.y-d*(_.y-i.y),g&&v===1&&p===1)i.scale*=d,Je();else{var w=Je();w||(i.scale*=d)}le("zoom"),et()}function De(l,c,d){var h=d/i.scale;_t(l,c,h)}function Co(l){var c=l.ownerSVGElement;if(!c)throw new Error("ui element is required to be within the scene");var d=l.getBoundingClientRect(),h=d.left+d.width/2,_=d.top+d.height/2,w=c.getBoundingClientRect(),x=w.width/2-h,N=w.height/2-_;ie(x,N,!0)}function bo(l,c){ie(l-i.x,c-i.y,!0)}function ie(l,c,d){if(!d)return ft(l,c);Ke&&Ke.cancel();var h={x:0,y:0},_={x:l,y:c},w=0,x=0;Ke=ut(h,_,{step:function(N){ft(N.x-w,N.y-x),w=N.x,x=N.y}})}function yo(l,c){Ie(),Qe(l,c)}function Oo(){bt()}function Ct(){t.addEventListener("mousedown",Dt,{passive:!1}),t.addEventListener("dblclick",Tt,{passive:!1}),t.addEventListener("touchstart",Ot,{passive:!1}),t.addEventListener("keydown",yt,{passive:!1}),Sn.addWheelListener(t,kt,{passive:!1}),et()}function bt(){Sn.removeWheelListener(t,kt),t.removeEventListener("mousedown",Dt),t.removeEventListener("keydown",yt),t.removeEventListener("dblclick",Tt),t.removeEventListener("touchstart",Ot),ne&&(window.cancelAnimationFrame(ne),ne=0),W.cancel(),Nt(),It(),X.release(),tt()}function wo(){a&&xo()}function xo(){a=!1,e.applyTransform(i),le("transform"),ne=0}function yt(l){var c=0,d=0,h=0;if(l.keyCode===38?d=1:l.keyCode===40?d=-1:l.keyCode===37?c=1:l.keyCode===39?c=-1:l.keyCode===189||l.keyCode===109?h=1:(l.keyCode===187||l.keyCode===107)&&(h=-1),!s(l,c,d,h)){if(c||d){l.preventDefault(),l.stopPropagation();var _=t.getBoundingClientRect(),w=Math.min(_.width,_.height),x=.05,N=w*x*c,se=w*x*d;ie(N,se)}if(h){var ae=Zt(h*100),w=b?Ce():Mo();Ne(w.x,w.y,ae)}}}function Mo(){var l=t.getBoundingClientRect();return{x:l.width/2,y:l.height/2}}function Ot(l){if(Po(l),_e(),l.touches.length===1)return Do(l,l.touches[0]);l.touches.length===2&&(Ge=Pt(l.touches[0],l.touches[1]),Me=!0,wt())}function Po(l){r.onTouch&&!r.onTouch(l)||(l.stopPropagation(),l.preventDefault())}function To(l){_e(),!(r.onDoubleClick&&!r.onDoubleClick(l))&&(l.preventDefault(),l.stopPropagation())}function Do(l){xe=new Date;var c=l.touches[0],d=j(c);A=d;var h=re(d.x,d.y);Z=h.x,F=h.y,Ue=Z,$e=F,W.cancel(),wt()}function wt(){z||(z=!0,document.addEventListener("touchmove",xt),document.addEventListener("touchend",Se),document.addEventListener("touchcancel",Se))}function xt(l){if(l.touches.length===1){l.stopPropagation();var c=l.touches[0],d=j(c),h=re(d.x,d.y),_=h.x-Z,w=h.y-F;_!==0&&w!==0&&At(),Z=h.x,F=h.y,ie(_,w)}else if(l.touches.length===2){Me=!0;var x=l.touches[0],N=l.touches[1],se=Pt(x,N),ae=1+(se/Ge-1)*u,zt=j(x),Lt=j(N);if(Z=(zt.x+Lt.x)/2,F=(zt.y+Lt.y)/2,b){var d=Ce();Z=d.x,F=d.y}Ne(Z,F,ae),Ge=se,l.stopPropagation(),l.preventDefault()}}function _e(){K&&(clearTimeout(K),K=0)}function Mt(l){if(r.onClick){_e();var c=Z-Ue,d=F-$e,h=Math.sqrt(c*c+d*d);h>5||(K=setTimeout(function(){K=0,r.onClick(l)},In))}}function Se(l){if(_e(),l.touches.length>0){var c=j(l.touches[0]),d=re(c.x,c.y);Z=d.x,F=d.y}else{var h=new Date;if(h-fe<In)if(b){var c=Ce();Ee(c.x,c.y,C)}else Ee(A.x,A.y,C);else h-xe<kn&&Mt(l);fe=h,tt(),It()}}function Pt(l,c){var d=l.clientX-c.clientX,h=l.clientY-c.clientY;return Math.sqrt(d*d+h*h)}function Tt(l){To(l);var c=j(l);b&&(c=Ce()),Ee(c.x,c.y,C)}function Dt(l){if(_e(),!I(l)){if(H=l,Q=new Date,z)return l.stopPropagation(),!1;var c=l.button===1&&window.event!==null||l.button===0;if(c){W.cancel();var d=j(l),h=re(d.x,d.y);return Ue=Z=h.x,$e=F=h.y,document.addEventListener("mousemove",St),document.addEventListener("mouseup",Et),X.capture(l.target||l.srcElement),!1}}}function St(l){if(!z){At();var c=j(l),d=re(c.x,c.y),h=d.x-Z,_=d.y-F;Z=d.x,F=d.y,ie(h,_)}}function Et(){var l=new Date;l-Q<kn&&Mt(H),X.release(),tt(),Nt()}function Nt(){document.removeEventListener("mousemove",St),document.removeEventListener("mouseup",Et),oe=!1}function It(){document.removeEventListener("touchmove",xt),document.removeEventListener("touchend",Se),document.removeEventListener("touchcancel",Se),oe=!1,Me=!1,z=!1}function kt(l){if(!P(l)){W.cancel();var c=l.deltaY;l.deltaMode>0&&(c*=100);var d=Zt(c);if(d!==1){var h=b?Ce():j(l);Ne(h.x,h.y,d),l.preventDefault()}}}function j(l){var c,d,h=t.getBoundingClientRect();return c=l.clientX-h.left,d=l.clientY-h.top,{x:c,y:d}}function Ee(l,c,d){var h=i.scale,_={scale:h},w={scale:d*h};W.cancel(),Ie(),ve=ut(_,w,{step:function(x){De(l,c,x.scale)},done:Eo})}function So(l,c,d){var h=i.scale,_={scale:h},w={scale:d};W.cancel(),Ie(),ve=ut(_,w,{step:function(x){De(l,c,x.scale)}})}function Ce(){var l=t.getBoundingClientRect();return{x:l.width*b.x,y:l.height*b.y}}function Ne(l,c,d){return W.cancel(),Ie(),_t(l,c,d)}function Ie(){ve&&(ve.cancel(),ve=null)}function Zt(l){var c=Math.sign(l),d=Math.min(.25,Math.abs(k*l/128));return 1-c*d}function At(){oe||(le("panstart"),oe=!0,W.start())}function tt(){oe&&(Me||W.stop(),le("panend"))}function Eo(){le("zoomend")}function le(l){Te.fire(l,Te)}}function Zn(o){if(o){if(typeof o=="object")return(!me(o.x)||!me(o.y))&&An(o),o;An()}}function An(o){throw console.error(o),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function pe(){}function lr(o){var r=typeof o;if(!(r==="undefined"||r==="boolean")){var e=me(o.left)&&me(o.top)&&me(o.bottom)&&me(o.right);if(!e)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function me(o){return Number.isFinite(o)}function gt(o){return Number.isNaN?Number.isNaN(o):o!==o}function sr(){return{start:pe,stop:pe,cancel:pe}}function cr(){if(typeof document>"u")return;var o=document.getElementsByTagName("script");if(!o)return;for(var r,e=0;e<o.length;++e){var t=o[e];if(t.src&&t.src.match(/\bpanzoom(\.min)?\.js/)){r=t;break}}if(!r)return;var n=r.getAttribute("query");if(!n)return;var a=r.getAttribute("name")||"pz",i=Date.now();s();function s(){var m=document.querySelector(n);if(!m){var p=Date.now(),v=p-i;if(v<2e3){setTimeout(s,100);return}console.error("Cannot find the panzoom element",a);return}var C=u(r);console.log(C),window[a]=Ln(m,C)}function u(m){for(var p=m.attributes,v={},C=0;C<p.length;++C){var P=p[C],I=g(P);I&&(v[I.name]=I.value)}return v}function g(m){if(m.name){var p=m.name[0]==="p"&&m.name[1]==="z"&&m.name[2]==="-";if(p){var v=m.name.substr(3),C=JSON.parse(m.value);return{name:v,value:C}}}}}cr()});var Yn=No(Bn(),1);var ur=["nodeTemplate"],gr=["dragHandleTemplate"],hr=["panZoomContainer"],mr=["orgChartContainer"],pr=o=>({node:o}),fr=(o,r)=>[o,r,"node-content"],Hn=(o,r)=>({$implicit:o,node:r}),vr=(o,r)=>({node:o,nodeTemplate:r}),_r=(o,r)=>r.id;function Cr(o,r){if(o&1&&(O(0,"ul",5),be(1,6),M()),o&2){let e=f(),t=at(5);y(),Y("ngTemplateOutlet",t)("ngTemplateOutletContext",Gt(2,pr,e.nodes()))}}function br(o,r){if(o&1&&be(0,6),o&2){let e=f().node,t=f();Y("ngTemplateOutlet",t.customNodeTemplate)("ngTemplateOutletContext",ye(2,Hn,e,e))}}function yr(o,r){if(o&1&&(O(0,"span"),B(1),M()),o&2){let e=f().node;y(),G(e.name)}}function Or(o,r){if(o&1){let e=ee();O(0,"span",12),$("dragstart",function(n){D(e);let a=f().node,i=f();return S(i.onDragStart(n,a))})("dragend",function(n){D(e);let a=f().node,i=f();return S(i.onDragEnd(n,a))})("touchstart",function(n){D(e);let a=f().node,i=f();return S(i.onTouchStart(n,a))}),be(1,6),M()}if(o&2){let e=f().node,t=f();ce("draggable",!0),y(),Y("ngTemplateOutlet",t.customDragHandleTemplate)("ngTemplateOutletContext",ye(3,Hn,e,e))}}function wr(o,r){if(o&1&&(O(0,"small",14),B(1),M()),o&2){let e=f(2).node;y(),G(e.descendantsCount)}}function xr(o,r){if(o&1){let e=ee();O(0,"button",13),$("click",function(){D(e);let n=f().node,a=f();return S(a.onToggleCollapse({node:n,highlightNode:a.focusOnCollapseOrExpand()}))})("mouseenter",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("mousewheel",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("mouseleave",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())})("pointerenter",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.pause())})("pointerleave",function(){D(e);let n=f(2);return S(n.panZoomInstance==null?null:n.panZoomInstance.resume())}),L(1,wr,2,1,"small",14),Ft(),O(2,"svg",15),J(3,"path",16),M()()}if(o&2){let e=f().node,t=f();te("collapsed",e.collapsed),ce("aria-label",(e.collapsed?"Expand":"Collapse")+" "+e.name),y(),R(t.displayChildrenCount()?1:-1)}}function Mr(o,r){if(o&1&&be(0,6),o&2){let e=f().$implicit;f(3);let t=at(5);Y("ngTemplateOutlet",t)("ngTemplateOutletContext",ye(2,vr,e,t))}}function Pr(o,r){if(o&1&&L(0,Mr,1,5,"ng-container",6),o&2){let e=r.$implicit;R(e.hidden?-1:0)}}function Tr(o,r){if(o&1&&(O(0,"ul",17),Ae(1,Pr,1,1,null,null,_r),M()),o&2){let e=f().node,t=f();te("collapsed",e.collapsed)("instant-animation",!0),Y("id",t.getNodeChildrenId(e.id))("@toggleNode",void 0),ce("aria-hidden",e.collapsed),y(),ze(e.children)}}function Dr(o,r){if(o&1){let e=ee();O(0,"li",7,2)(2,"a",8),$("dragstart",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onDragStart(n,a))})("dragend",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onDragEnd(n,a))})("dragover",function(n){let a=D(e).node,i=f();return S(i.onDragOver(n,a))})("dragenter",function(n){let a=D(e).node,i=f();return S(i.onDragEnter(n,a))})("dragleave",function(n){D(e);let a=f();return S(a.onDragLeave(n))})("drop",function(n){let a=D(e).node,i=f();return S(i.onDrop(n,a))})("touchstart",function(n){let a=D(e).node,i=f();return S(i.customDragHandleTemplate?null:i.onTouchStart(n,a))}),L(3,br,1,5,"ng-container",6)(4,yr,2,1,"span"),L(5,Or,2,6,"span",9),L(6,xr,4,4,"button",10),M(),L(7,Tr,3,7,"ul",11),M()}if(o&2){let e=r.node,t=f();te("collapsed",e.collapsed),y(2),Y("ngClass",ye(12,fr,(e==null?null:e.nodeClass)??"",t.nodeClass()??""))("ngStyle",e.style)("id",t.getNodeId(e.id)),ce("aria-expanded",e.children!=null&&e.children.length?!e.collapsed:null)("aria-label",e.name+(e.children!=null&&e.children.length?e.collapsed?" (collapsed)":" (expanded)":""))("draggable",t.draggable()&&!t.customDragHandleTemplate?!0:null),y(),R(t.customNodeTemplate?3:4),y(2),R(t.customDragHandleTemplate&&t.draggable()?5:-1),y(),R(t.collapsible()&&(e.children!=null&&e.children.length)?6:-1),y(),R(e.children!=null&&e.children.length&&!e.hidden&&!e.collapsed?7:-1)}}function Wn({node:o,targetNode:r,collapse:e}){if(o.id===r){let t=e??!o.collapsed;return U(E({},o),{collapsed:t,children:o.children?.map(n=>qn(n,t))})}return o.children?.length?U(E({},o),{children:o.children.map(t=>Wn({node:t,targetNode:r,collapse:e}))}):o}function qn(o,r){return U(E({},o),{collapsed:r,children:o.children?.map(e=>qn(e,r))})}function Xn(o,r){let e=o.children?.map(n=>Xn(n,r))||[],t=e.reduce((n,a)=>n+1+(a.descendantsCount??0),0);return U(E({},o),{id:o.id??crypto.randomUUID(),collapsed:r??o.collapsed??!1,hidden:o.hidden??!1,children:e,descendantsCount:t})}var Fn=["background","background-color","background-image","background-size","background-position","background-repeat","color","font-family","font-size","font-weight","line-height","text-align","border","border-radius","border-color","border-width","border-style","padding","box-sizing","display","flex-direction","align-items","justify-content","gap","outline","outline-color","outline-width"];function jn(o){let r=o.cloneNode(!0);r.removeAttribute("id"),r.removeAttribute("draggable");let e=r.querySelector(".collapse-btn");e&&e.remove();let t=r.querySelector(".drag-handle");t&&t.remove();let n=window.getComputedStyle(o);Fn.forEach(s=>{let u=n.getPropertyValue(s);u&&r.style.setProperty(s,u,"important")});let a=o.querySelectorAll("*"),i=r.querySelectorAll("*");return a.forEach((s,u)=>{if(i[u]){let g=window.getComputedStyle(s),m=i[u];Fn.forEach(p=>{let v=g.getPropertyValue(p);v&&m.style.setProperty(p,v,"important")})}}),r}function Sr(o){let{nodeElement:r,currentScale:e,touchX:t,touchY:n}=o,a=r.offsetWidth,i=r.offsetHeight,s=jn(r),u=e*1.05,g=a*u,m=i*u,p=document.createElement("div");return p.className="touch-drag-ghost-wrapper",p.style.position="fixed",p.style.pointerEvents="none",p.style.zIndex="10000",p.style.left=t-g/2+"px",p.style.top=n-m/2+"px",s.style.setProperty("position","relative","important"),s.style.setProperty("width",a+"px","important"),s.style.setProperty("height",i+"px","important"),s.style.setProperty("margin","0","important"),s.style.setProperty("opacity","0.9","important"),s.style.setProperty("transform-origin","top left","important"),s.style.setProperty("transform",`scale(${u})`,"important"),s.style.setProperty("box-shadow","0 15px 40px rgba(0, 0, 0, 0.4)","important"),s.style.setProperty("cursor","grabbing","important"),p.appendChild(s),document.body.appendChild(p),{wrapper:p,scaledWidth:g,scaledHeight:m}}function Er(o,r,e,t,n){o.style.left=r-t/2+"px",o.style.top=e-n/2+"px"}function Nr(o,r){if(!o.dataTransfer)return;let e=jn(r);e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0.8",document.body.appendChild(e);let t=r.getBoundingClientRect(),n=o.clientX-t.left,a=o.clientY-t.top;o.dataTransfer.setDragImage(e,n,a),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},0)}var Ir={node:{background:"#ffffff",color:"#4a4a4a",activeOutlineColor:"#3b82f6",outlineWidth:"2px",shadow:"0 2px 10px rgba(0, 0, 0, 0.1)",outlineColor:"#d1d5db",highlightShadowColor:"rgba(121, 59, 246, 0)",padding:"12px 16px",borderRadius:"8px",containerSpacing:"20px",activeColor:"#3b82f6",maxWidth:"auto",minWidth:"auto",maxHeight:"auto",minHeight:"auto",dragOverOutlineColor:"#3b82f6"},connector:{color:"#d1d5db",activeColor:"#3b82f6",borderRadius:"10px",width:"1.5px"},collapseButton:{size:"20px",borderColor:"#d1d5db",borderRadius:"0.25rem",color:"#4a4a4a",background:"#ffffff",hoverColor:"#3b82f6",hoverBackground:"#f3f4f6",hoverShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",hoverTransformScale:"1.05",focusOutline:"2px solid #3b82f6",countFontSize:"0.75rem"},container:{background:"transparent",border:"none"}},kr=300,Vn=10,Zr=.1,Ar=15,je=(()=>{class o{#e=Bt(Vt);customNodeTemplate;customDragHandleTemplate;panZoomContainer=ge.required("panZoomContainer");orgChartContainer=ge.required("orgChartContainer");data=T.required();initialZoom=T();minZoom=T(.1);maxZoom=T(5);zoomSpeed=T(1);zoomDoubleClickSpeed=T(2);collapsible=T(!0);nodeClass=T();initialCollapsed=T();isRtl=T();layout=T("vertical");focusOnCollapseOrExpand=T(!1);displayChildrenCount=T(!0);highlightZoomNodeWidthRatio=T(.3);highlightZoomNodeHeightRatio=T(.4);draggable=T(!1);canDragNode=T();canDropNode=T();dragEdgeThreshold=T(Zr);dragAutoPanSpeed=T(Ar);highlightZoomMinimum=T(.8);themeOptions=T();nodeDrop=Fe();nodeDragStart=Fe();nodeDragEnd=Fe();defaultThemeOptions=Ir;finalThemeOptions=ue(()=>{let e=this.themeOptions();return{node:E(E({},this.defaultThemeOptions.node),e?.node),connector:E(E({},this.defaultThemeOptions.connector),e?.connector),collapseButton:E(E({},this.defaultThemeOptions.collapseButton),e?.collapseButton),container:E(E({},this.defaultThemeOptions.container),e?.container)}});nodes=V(null);scale=V(0);draggedNode=V(null);dragOverNode=V(null);currentDragOverElement=V(null);autoPanInterval=null;keyboardListener=null;touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Vn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0};panZoomInstance=null;getScale=ue(()=>this.scale());flattenedNodes=ue(()=>{let e=this.nodes();if(!e)return[];let t=n=>{let a=n.children?.flatMap(t)||[];return[n,...a]};return e?t(e):[]});setNodes=Be(()=>{let e=this.data(),t=this.initialCollapsed();e&&this.nodes.set(Xn(e,t))});ngAfterViewInit(){this.initiatePanZoom()}initiatePanZoom(){this.panZoomInstance&&this.panZoomInstance.dispose();let e=this.panZoomContainer()?.nativeElement;this.panZoomInstance=(0,Yn.default)(e,{initialZoom:this.getFitScale(),initialX:e.offsetWidth/2,initialY:e.offsetHeight/2,enableTextSelection:!1,minZoom:this.minZoom(),maxZoom:this.maxZoom(),zoomSpeed:this.zoomSpeed(),smoothScroll:!0,zoomDoubleClickSpeed:this.zoomDoubleClickSpeed()}),this.calculateScale(),this.panZoomInstance?.on("zoom",t=>{this.calculateScale()})}zoomIn({by:e,relative:t}={relative:!0}){this.zoom({type:"in",by:e,relative:t})}zoomOut({by:e,relative:t}={relative:!0}){this.zoom({type:"out",by:e,relative:t})}highlightNode(e){this.toggleCollapseAll(!1),setTimeout(()=>{let t=this.#e?.nativeElement.querySelector(`#${this.getNodeId(e)}`);this.panZoomToNode({nodeElement:t})},200)}pan(e,t,n){let a=this.orgChartContainer()?.nativeElement;if(!a||!this.panZoomInstance)return;let i=a.getBoundingClientRect(),s=this.panZoomContainer()?.nativeElement.getBoundingClientRect(),u=e-i.x+s.x,g=t-i.y+s.y;n?this.panZoomInstance.smoothMoveTo(u,g):this.panZoomInstance.moveTo(u,g)}resetPan(){let e=this.panZoomContainer()?.nativeElement;if(!e||!this.panZoomInstance)return;let t=e.getBoundingClientRect(),n=this.#e.nativeElement,a=n.getBoundingClientRect().width,i=n.getBoundingClientRect().height,s=-1*t.width/2+a/2;this.layout()==="horizontal"&&(this.isRtl()?s=a-t.width:s=0);let u=-1*t.height/2+i/2;this.panZoomInstance?.smoothMoveTo(s,u)}resetZoom(e=20){!this.panZoomInstance||!this.panZoomContainer()?.nativeElement||this.zoomOut({by:this.getFitScale(e)})}resetPanAndZoom(e=20){this.resetPan(),setTimeout(()=>{this.resetZoom(e)},kr)}toggleCollapseAll(e){let t=this.nodes();t?.children?.length&&this.collapsible()&&this.onToggleCollapse({node:t,collapse:e})}onToggleCollapse({node:e,collapse:t,highlightNode:n=!1,playAnimation:a=!1}){if(!this.collapsible())return;let i=e.id,s=e.collapsed,u=Wn({node:this.nodes(),targetNode:i,collapse:t});this.nodes.set(u),this.panZoomInstance?.resume(),n&&setTimeout(()=>{let g=this.#e?.nativeElement.querySelector(`#${s?this.getNodeChildrenId(i):this.getNodeId(i)}`);this.panZoomToNode({nodeElement:g,skipZoom:!0,playAnimation:a})},200)}zoom({type:e,by:t=10,relative:n}){let i=(this.panZoomContainer()?.nativeElement).getBoundingClientRect(),u=(this.#e?.nativeElement).getBoundingClientRect(),{scale:g}=this.panZoomInstance?.getTransform()??{scale:1},m=i.width/2+i.x-u.x,p=i.height/2+i.y-u.y;this.layout()==="horizontal"&&(this.isRtl()?m=i.width+i.x-u.x:m=0);let v=n?e==="in"?g*(1+t/100):g/(1+t/100):t;this.panZoomInstance?.smoothZoomAbs(m,p,v)}panZoomToNode({nodeElement:e,skipZoom:t,playAnimation:n=!0}){let a=this.panZoomContainer()?.nativeElement;if(!a||!e||!this.panZoomInstance)return;a.querySelectorAll(".highlighted").forEach(s=>{s.classList.remove("highlighted")}),this.panZoomInstance?.pause(),this.panZoomInstance?.resume(),setTimeout(()=>{let s=this.#e.nativeElement.getBoundingClientRect(),u=e.getBoundingClientRect(),g=u.x-u.width/2-s.x,m=u.y-u.height/2-s.y;if(!t){let p=this.calculateOptimalZoom(e);this.panZoomInstance?.smoothZoomAbs(g,m,p)}},10),setTimeout(()=>{let s=a.getBoundingClientRect(),u=e.getBoundingClientRect(),g=this.#e.nativeElement,m=g.getBoundingClientRect().width,p=g.getBoundingClientRect().height,v=-1*(u.x-s.x),C=-1*(u.y-s.y),P=m/2,I=p/2,k=v+P-u.width/2,b=C+I-u.height/2;this.panZoomInstance?.smoothMoveTo(k,b),n&&(e.classList.add("highlighted"),setTimeout(()=>{e.classList.remove("highlighted")},2300))},200)}getNodeId(e){return`node-${e}`}getNodeChildrenId(e){return`node-children-${e}`}onDragStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t)){e.preventDefault();return}this.draggedNode.set(t),this.nodeDragStart.emit(t),this.panZoomInstance?.pause();let i=e.target.closest(".node-content");e.dataTransfer&&i&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id?.toString()||""),Nr(e,i)),i&&setTimeout(()=>{i.classList.add("dragging")},0),this.setupKeyboardListener()}setupKeyboardListener(){this.removeKeyboardListener(),this.keyboardListener=e=>{e.key==="Escape"&&this.draggedNode()&&this.cancelDrag()},document.addEventListener("keydown",this.keyboardListener)}removeKeyboardListener(){this.keyboardListener&&(document.removeEventListener("keydown",this.keyboardListener),this.keyboardListener=null)}cancelDrag(){if(!this.draggedNode())return;this.stopAutoPan(),this.panZoomInstance?.resume(),this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("dragging"),t.classList.remove("drag-not-allowed")}),this.draggedNode.set(null),this.dragOverNode.set(null),this.removeKeyboardListener(),this.touchDragState.active&&(this.removeTouchGhostElement(),this.removeTouchListeners(),this.resetTouchDragState())}onDragEnd(e,t){if(!this.draggable())return;this.nodeDragEnd.emit(t),this.draggedNode.set(null),this.dragOverNode.set(null),this.currentDragOverElement.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume();let a=e.target.closest(".node-content");a&&a.classList.remove("dragging"),this.#e.nativeElement.querySelectorAll(".node-content").forEach(s=>s.classList.remove("drag-over"))}onDragOver(e,t){if(!this.draggable()||!this.draggedNode())return;e.preventDefault();let n=this.draggedNode();if(!n)return;if(this.isNodeDescendant(t,n)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}let a=this.canDropNode();if(a&&!a(n,t)){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.dragOverNode.set(t)}onContainerDragOver(e){!this.draggable()||!this.draggedNode()||(e.preventDefault(),this.handleAutoPan(e))}onDragEnter(e,t){if(!this.draggable()||!this.draggedNode())return;let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let a=this.canDropNode();if(a&&!a(n,t))return;let s=e.target.closest(".node-content");s&&(this.currentDragOverElement()&&this.currentDragOverElement()!==s&&this.currentDragOverElement()?.classList.remove("drag-over"),s.classList.add("drag-over"),this.currentDragOverElement.set(s))}onDragLeave(e){if(!this.draggable())return;let n=e.target.closest(".node-content");if(n&&this.currentDragOverElement()===n){let a=n.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&(n.classList.remove("drag-over"),this.currentDragOverElement.set(null))}}onDrop(e,t){if(!this.draggable())return;e.preventDefault(),e.stopPropagation();let n=this.draggedNode();if(!n||this.isNodeDescendant(t,n))return;let a=this.canDropNode();if(a&&!a(n,t))return;this.nodeDrop.emit({draggedNode:n,targetNode:t});let s=e.target.closest(".node-content");s&&s.classList.remove("drag-over"),this.currentDragOverElement.set(null),this.dragOverNode.set(null),this.stopAutoPan(),this.panZoomInstance?.resume()}isNodeDescendant(e,t){return e.id===t.id?!0:t.children?.length?t.children.some(n=>this.isNodeDescendant(e,n)):!1}onTouchStart(e,t){if(!this.draggable())return;let n=this.canDragNode();if(n&&!n(t))return;let a=e.touches[0];a&&(this.touchDragState.node=t,this.touchDragState.startX=a.clientX,this.touchDragState.startY=a.clientY,this.touchDragState.currentX=a.clientX,this.touchDragState.currentY=a.clientY,this.touchDragState.active=!1,document.addEventListener("touchmove",this.onTouchMoveDocument,{passive:!1}),document.addEventListener("touchend",this.onTouchEndDocument),document.addEventListener("touchcancel",this.onTouchEndDocument))}onTouchMoveDocument=e=>{if(!this.touchDragState.node)return;let t=e.touches[0];if(t){if(this.touchDragState.currentX=t.clientX,this.touchDragState.currentY=t.clientY,!this.touchDragState.active){let n=Math.abs(t.clientX-this.touchDragState.startX),a=Math.abs(t.clientY-this.touchDragState.startY);if(Math.sqrt(n*n+a*a)>=this.touchDragState.dragThreshold){this.touchDragState.active=!0,this.draggedNode.set(this.touchDragState.node),this.nodeDragStart.emit(this.touchDragState.node),this.setupKeyboardListener(),this.panZoomInstance?.pause(),this.createTouchGhostElement(this.touchDragState.node);let s=this.getNodeElement(this.touchDragState.node);s&&s.classList.add("dragging")}}if(this.touchDragState.active){e.preventDefault(),this.updateTouchGhostPosition(t.clientX,t.clientY),this.handleTouchAutoPan(t.clientX,t.clientY);let n=this.getElementUnderTouch(t.clientX,t.clientY);if(n){let a=n.closest(".node-content");if(a&&a.id){let i=this.getNodeIdFromElement(a),s=this.findNodeById(i);s?this.handleTouchDragOver(s):this.clearDragOverState()}else this.clearDragOverState()}else this.clearDragOverState()}}};onTouchEndDocument=e=>{if(this.touchDragState.node){if(this.touchDragState.active){let t=null,n=e.changedTouches[0]||(e.touches.length>0?e.touches[0]:null);if(n){let s=this.getElementUnderTouch(n.clientX,n.clientY);if(s){let u=s.closest(".node-content");if(u&&u.id){let g=this.getNodeIdFromElement(u);t=this.findNodeById(g)}}}let a=this.draggedNode();if(t&&a&&t.id!==a.id){let s=this.isNodeDescendant(t,a),u=this.canDropNode();!s&&(!u||u(a,t))&&this.nodeDrop.emit({draggedNode:a,targetNode:t})}this.removeTouchGhostElement(),this.nodeDragEnd.emit(this.touchDragState.node);let i=this.getNodeElement(this.touchDragState.node);i&&i.classList.remove("dragging"),this.clearDragOverState(),this.draggedNode.set(null),this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.resume()}this.resetTouchDragState(),this.removeTouchListeners()}};resetTouchDragState(){this.touchDragState={active:!1,node:null,startX:0,startY:0,currentX:0,currentY:0,dragThreshold:Vn,ghostElement:null,ghostScaledWidth:0,ghostScaledHeight:0}}removeTouchListeners(){document.removeEventListener("touchmove",this.onTouchMoveDocument),document.removeEventListener("touchend",this.onTouchEndDocument),document.removeEventListener("touchcancel",this.onTouchEndDocument)}createTouchGhostElement(e){let t=this.getNodeElement(e);if(!t)return;let n=this.panZoomInstance?.getTransform()?.scale??1,a=Sr({nodeElement:t,currentScale:n,touchX:this.touchDragState.currentX,touchY:this.touchDragState.currentY});this.touchDragState.ghostElement=a.wrapper,this.touchDragState.ghostScaledWidth=a.scaledWidth,this.touchDragState.ghostScaledHeight=a.scaledHeight}updateTouchGhostPosition(e,t){this.touchDragState.ghostElement&&Er(this.touchDragState.ghostElement,e,t,this.touchDragState.ghostScaledWidth,this.touchDragState.ghostScaledHeight)}removeTouchGhostElement(){this.touchDragState.ghostElement&&(this.touchDragState.ghostElement.remove(),this.touchDragState.ghostElement=null)}getElementUnderTouch(e,t){let n=this.touchDragState.ghostElement,a=n?n.style.display:"";n&&(n.style.display="none");let i=document.elementFromPoint(e,t);return n&&(n.style.display=a),i}handleTouchDragOver(e){let t=this.draggedNode();if(!t)return;if(e.id===t.id){this.clearDragOverState();return}if(this.isNodeDescendant(e,t)){this.clearDragOverState();let a=this.getNodeElement(e);a&&a.classList.add("drag-not-allowed");return}let n=this.canDropNode();if(n&&!n(t,e)){this.clearDragOverState();let a=this.getNodeElement(e);a&&a.classList.add("drag-not-allowed");return}if(this.dragOverNode()!==e){this.clearDragOverState(),this.dragOverNode.set(e);let a=this.getNodeElement(e);a&&a.classList.add("drag-over")}}clearDragOverState(){this.#e.nativeElement.querySelectorAll(".node-content").forEach(t=>{t.classList.remove("drag-over"),t.classList.remove("drag-not-allowed")}),this.dragOverNode.set(null)}getNodeElement(e){if(!e.id)return null;let t=this.getNodeId(e.id);return this.#e.nativeElement.querySelector(`#${t}`)}getNodeIdFromElement(e){let t=e.id.replace("node-",""),n=parseInt(t,10);return isNaN(n)?t:n}findNodeById(e){let t=this.nodes();if(!t)return null;let n=a=>{if(a.id===e||a.id?.toString()===e.toString())return a;if(a.children)for(let i of a.children){let s=n(i);if(s)return s}return null};return n(t)}handleTouchAutoPan(e,t){let a=this.#e.nativeElement.getBoundingClientRect(),i=e-a.left,s=t-a.top,u=a.width*this.dragEdgeThreshold(),g=a.height*this.dragEdgeThreshold(),m=0,p=0;i<u?m=this.dragAutoPanSpeed():i>a.width-u&&(m=-this.dragAutoPanSpeed()),s<g?p=this.dragAutoPanSpeed():s>a.height-g&&(p=-this.dragAutoPanSpeed()),m!==0||p!==0?this.startAutoPan(m,p):this.stopAutoPan()}handleAutoPan(e){let n=this.#e.nativeElement.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,s=n.width*this.dragEdgeThreshold(),u=n.height*this.dragEdgeThreshold(),g=0,m=0;a<s?g=this.dragAutoPanSpeed():a>n.width-s&&(g=-this.dragAutoPanSpeed()),i<u?m=this.dragAutoPanSpeed():i>n.height-u&&(m=-this.dragAutoPanSpeed()),g!==0||m!==0?this.startAutoPan(g,m):this.stopAutoPan()}startAutoPan(e,t){this.stopAutoPan(),this.autoPanInterval=window.setInterval(()=>{if(!this.panZoomInstance)return;let n=this.panZoomInstance.getTransform(),a=n.x+e,i=n.y+t;this.panZoomInstance.moveTo(a,i)},16)}stopAutoPan(){this.autoPanInterval!==null&&(clearInterval(this.autoPanInterval),this.autoPanInterval=null)}calculateScale(){let t=this.panZoomInstance?.getTransform()?.scale??0,n=this.minZoom(),a=this.maxZoom();if(n===a){this.scale.set(0);return}let i=(t-n)/(a-n),s=Math.round(i*1e4)/100;this.scale.set(s)}getFitScale(e=20){let t=this.#e?.nativeElement,n=this.orgChartContainer()?.nativeElement;if(!t||!n)return 1;let a=t.getBoundingClientRect(),i=a.width,s=a.height,u=n.clientWidth,g=n.clientHeight,m=i-e*2,p=s-e*2,v=m/u,C=p/g;return Math.min(v,C,1)}calculateOptimalZoom(e){let t=this.#e?.nativeElement;if(!t||!e)return 1.5;let n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=this.panZoomInstance?.getTransform()?.scale||1,u=a.width/s,g=a.height/s,m=this.highlightZoomNodeWidthRatio(),p=this.highlightZoomNodeHeightRatio(),v=n.width*m/u,C=n.height*p/g,P=Math.min(v,C),I=this.minZoom(),k=this.maxZoom();P=Math.max(I,Math.min(k,P));let b=this.highlightZoomMinimum();return P=Math.max(b,P),P}ngOnDestroy(){this.stopAutoPan(),this.removeKeyboardListener(),this.panZoomInstance?.dispose()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=ke({type:o,selectors:[["ngx-interactive-org-chart"]],contentQueries:function(t,n,a){if(t&1&&(nt(a,ur,5),nt(a,gr,5)),t&2){let i;ot(i=rt())&&(n.customNodeTemplate=i.first),ot(i=rt())&&(n.customDragHandleTemplate=i.first)}},viewQuery:function(t,n){t&1&&(de(n.panZoomContainer,hr,5),de(n.orgChartContainer,mr,5)),t&2&&Le(2)},hostVars:67,hostBindings:function(t,n){t&2&&(ce("data-layout",n.layout()),qt("--node-background",n.finalThemeOptions().node.background)("--node-color",n.finalThemeOptions().node.color)("--node-shadow",n.finalThemeOptions().node.shadow)("--node-outline-color",n.finalThemeOptions().node.outlineColor)("--node-outline-width",n.finalThemeOptions().node.outlineWidth)("--node-active-outline-color",n.finalThemeOptions().node.activeOutlineColor)("--node-highlight-shadow-color",n.finalThemeOptions().node.highlightShadowColor)("--node-padding",n.finalThemeOptions().node.padding)("--node-border-radius",n.finalThemeOptions().node.borderRadius)("--node-active-color",n.finalThemeOptions().node.activeColor)("--node-max-width",n.finalThemeOptions().node.maxWidth)("--node-min-width",n.finalThemeOptions().node.minWidth)("--node-max-height",n.finalThemeOptions().node.maxHeight)("--node-min-height",n.finalThemeOptions().node.minHeight)("--node-drag-over-outline-color",n.finalThemeOptions().node.dragOverOutlineColor)("--connector-color",n.finalThemeOptions().connector.color)("--connector-active-color",n.finalThemeOptions().connector.activeColor)("--connector-border-radius",n.finalThemeOptions().connector.borderRadius)("--node-container-spacing",n.finalThemeOptions().node.containerSpacing)("--connector-width",n.finalThemeOptions().connector.width)("--collapse-button-size",n.finalThemeOptions().collapseButton.size)("--collapse-button-border-color",n.finalThemeOptions().collapseButton.borderColor)("--collapse-button-border-radius",n.finalThemeOptions().collapseButton.borderRadius)("--collapse-button-color",n.finalThemeOptions().collapseButton.color)("--collapse-button-background",n.finalThemeOptions().collapseButton.background)("--collapse-button-hover-color",n.finalThemeOptions().collapseButton.hoverColor)("--collapse-button-hover-background",n.finalThemeOptions().collapseButton.hoverBackground)("--collapse-button-hover-shadow",n.finalThemeOptions().collapseButton.hoverShadow)("--collapse-button-hover-transform-scale",n.finalThemeOptions().collapseButton.hoverTransformScale)("--collapse-button-focus-outline",n.finalThemeOptions().collapseButton.focusOutline)("--collapse-button-count-font-size",n.finalThemeOptions().collapseButton.countFontSize)("--container-background",n.finalThemeOptions().container.background)("--container-border",n.finalThemeOptions().container.border))},inputs:{data:[1,"data"],initialZoom:[1,"initialZoom"],minZoom:[1,"minZoom"],maxZoom:[1,"maxZoom"],zoomSpeed:[1,"zoomSpeed"],zoomDoubleClickSpeed:[1,"zoomDoubleClickSpeed"],collapsible:[1,"collapsible"],nodeClass:[1,"nodeClass"],initialCollapsed:[1,"initialCollapsed"],isRtl:[1,"isRtl"],layout:[1,"layout"],focusOnCollapseOrExpand:[1,"focusOnCollapseOrExpand"],displayChildrenCount:[1,"displayChildrenCount"],highlightZoomNodeWidthRatio:[1,"highlightZoomNodeWidthRatio"],highlightZoomNodeHeightRatio:[1,"highlightZoomNodeHeightRatio"],draggable:[1,"draggable"],canDragNode:[1,"canDragNode"],canDropNode:[1,"canDropNode"],dragEdgeThreshold:[1,"dragEdgeThreshold"],dragAutoPanSpeed:[1,"dragAutoPanSpeed"],highlightZoomMinimum:[1,"highlightZoomMinimum"],themeOptions:[1,"themeOptions"]},outputs:{nodeDrop:"nodeDrop",nodeDragStart:"nodeDragStart",nodeDragEnd:"nodeDragEnd"},decls:6,vars:3,consts:[["panZoomContainer",""],["nodeTemplate",""],["orgChartContainer",""],[1,"org-chart-container",3,"dragover"],[1,"org-chart"],[1,"node-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"org-node"],[3,"dragstart","dragend","dragover","dragenter","dragleave","drop","touchstart","ngClass","ngStyle","id"],[1,"drag-handle"],["type","button",1,"collapse-btn",3,"collapsed"],[1,"node-container",3,"id","collapsed","instant-animation"],[1,"drag-handle",3,"dragstart","dragend","touchstart"],["type","button",1,"collapse-btn",3,"click","mouseenter","mousewheel","mouseleave","pointerenter","pointerleave"],[1,"children-count"],["fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z","fill","currentColor"],[1,"node-container",3,"id"]],template:function(t,n){if(t&1){let a=ee();O(0,"section",3),$("dragover",function(s){return D(a),S(n.onContainerDragOver(s))}),O(1,"section",4,0),L(3,Cr,2,4,"ul",5),M()(),Ze(4,Dr,8,15,"ng-template",null,1,Re)}if(t&2){let a;te("rtl",n.isRtl()),y(3),R((a=n.nodes())!=null&&a.id?3:-1)}},dependencies:[Jt,Kt,Qt],styles:['[_nghost-%COMP%]{--collapse-duration: .3s;--base-delay: .1s;--animation-duration: .5s;cursor:grab}[_nghost-%COMP%]:active{cursor:grabbing}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]{min-width:100%}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child{display:flex}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .node-content[_ngcontent-%COMP%]{align-self:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]:first-child   .org-node[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{padding-inline-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-block-start:0;min-width:auto;margin:0;display:flex;flex-direction:column}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;margin:0;min-width:auto}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{inset-inline-start:0;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color);height:0;width:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{justify-content:flex-start;overflow:visible}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-start:0;inset-block-end:50%;border-inline-start:var(--connector-width) solid var(--connector-color);border-inline-end:0;height:50%;width:var(--node-container-spacing);animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-block-end:auto;inset-block-start:50%;border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before{border-block-start:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-inline-start:.125rem;padding-block-start:var(--node-container-spacing)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, [data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-end-start-radius:0;border-start-start-radius:var(--connector-border-radius);border-block-start:var(--connector-width) solid var(--connector-color)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-block-end:var(--connector-width) solid var(--connector-color);border-block-start:none;border-end-start-radius:var(--connector-border-radius);border-start-end-radius:0}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{white-space:nowrap}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-end:calc(-1 * var(--collapse-button-size) / 2);inset-block-end:unset;inset-block-start:50%;inset-inline-start:unset;transform:translateY(-50%);flex-direction:column-reverse;justify-content:center}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;transform:rotate(-90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(90deg)}[data-layout=horizontal][_nghost-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:0}[data-layout=horizontal][_nghost-%COMP%]   .rtl[_ngcontent-%COMP%]   .org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{inset-inline-start:calc(-1 * var(--collapse-button-size) / 2);inset-inline-end:unset}.org-chart[_ngcontent-%COMP%]{text-align:center;min-width:100%;width:max-content;scroll-behavior:smooth;border:var(--container-border);background:var(--container-background);cursor:grab}.org-chart[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart-container[_ngcontent-%COMP%]{display:flex;min-height:100%;max-height:100%;width:100%;overflow:hidden}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:center;padding-block-start:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2);padding-inline-start:0;position:relative;opacity:1;transition:max-height var(--collapse-duration) ease,opacity var(--collapse-duration) ease,padding var(--collapse-duration) ease,width var(--collapse-duration) ease;box-sizing:border-box;margin:0 auto;min-width:0}.org-chart[_ngcontent-%COMP%]   .node-container.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;padding-block-start:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:first-child{padding-block-start:.5rem;margin-block:0}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset-block-start:0;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color);width:0;height:calc(var(--node-container-spacing) + var(--collapse-button-size) / 2 + var(--connector-width));opacity:0;animation:_ngcontent-%COMP%_lineAppearY var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .3s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{display:inline-table;text-align:center;list-style-type:none;position:relative;padding:var(--node-container-spacing);transition:.5s;flex-shrink:0;overflow:hidden}.org-chart[_ngcontent-%COMP%]   .org-node.removing[_ngcontent-%COMP%]{opacity:0;transform:translateY(1.25rem) scale(.95);transition:.5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{content:"";position:absolute;inset-block-start:0;inset-inline-end:50%;border-block-start:var(--connector-width) solid var(--connector-color);width:51%;height:var(--node-container-spacing);opacity:0;animation:_ngcontent-%COMP%_lineAppearX var(--animation-duration) ease-out forwards;animation-delay:calc(var(--base-delay) + .2s);transition:border-color .5s}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{inset-inline-end:auto;inset-inline-start:50%;border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child{padding-block-start:.125rem}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:only-child:after{display:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:before{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:first-child:after{border-start-start-radius:var(--connector-border-radius);border-inline-start:var(--connector-width) solid var(--connector-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:after{border:0 none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:last-child:before{border-inline-end:var(--connector-width) solid var(--connector-color);border-start-end-radius:var(--connector-border-radius)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{max-width:var(--node-max-width);max-height:var(--node-max-height);min-width:var(--node-min-width);min-height:var(--node-min-height);background:var(--node-background);color:var(--node-color);box-shadow:var(--node-shadow);padding:var(--node-padding);position:relative;display:inline-grid;border-radius:var(--node-border-radius);text-decoration:none;transition:.5s;outline:var(--node-outline-width) solid var(--node-outline-color);z-index:1;box-sizing:content-box}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.highlighted[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.dragging[_ngcontent-%COMP%]{opacity:.5;cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-over[_ngcontent-%COMP%]{outline:2px dashed var(--node-drag-over-outline-color);background-color:color-mix(in srgb,var(--node-drag-over-outline-color) 10%,var(--node-background))}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content.drag-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[draggable=true][_ngcontent-%COMP%]{cursor:move}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move;display:inline-flex;align-items:center;justify-content:center}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]{outline:var(--node-outline-width) solid var(--node-active-outline-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]   .node-content[_ngcontent-%COMP%]:hover + .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{border-color:var(--connector-active-color)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{all:unset;direction:ltr;display:flex;align-items:center;justify-content:center;color:var(--collapse-button-color);background:var(--collapse-button-background);border:.0625rem solid var(--collapse-button-border-color);border-radius:var(--collapse-button-border-radius);position:absolute;inset-block-end:calc(-1 * var(--collapse-button-size) / 2);inset-inline-start:50%;transform:translate(-50%);z-index:2;cursor:pointer;transition:transform var(--collapse-duration) ease,box-shadow var(--collapse-duration) ease}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--collapse-duration) ease;width:var(--collapse-button-size);height:var(--collapse-button-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   .children-count[_ngcontent-%COMP%]{padding-inline-start:.25rem;font-size:var(--collapse-button-count-font-size)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(var(--collapse-button-hover-transform-scale));box-shadow:var(--collapse-button-hover-shadow);color:var(--collapse-button-hover-color);background:var(--collapse-button-hover-background)}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]:focus-visible{outline:var(--collapse-button-focus-outline);outline-offset:.0625rem}@keyframes _ngcontent-%COMP%_lineAppearX{0%{opacity:0;transform:scaleX(0)}to{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_lineAppearY{0%{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@media (prefers-reduced-motion: reduce){.org-chart[_ngcontent-%COMP%]{--base-delay: 0ms;--animation-duration: 0ms;--collapse-duration: 0ms}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]:before{opacity:1;animation:none}.org-chart[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   exc-icon[_ngcontent-%COMP%]{transition:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]{opacity:1;transform:none;animation:none}.org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:before, .org-chart[_ngcontent-%COMP%]   .org-node[_ngcontent-%COMP%]:after{opacity:1;animation:none}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0}70%{box-shadow:0 0 0 10px var(--node-highlight-shadow-color)}to{box-shadow:0 0 0 0 var(--node-highlight-shadow-color)}}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]{transition:none!important;animation:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none!important;-webkit-user-select:none!important;user-select:none!important}[_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .touch-drag-ghost-wrapper[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{display:none!important}'],data:{animation:[st("toggleNode",[Ye(":enter",[he({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}),Ve("300ms ease-out",he({width:"*",height:"*",opacity:1,transform:"scale(1)"}))]),Ye(":leave",[he({width:"*",height:"*"}),Ve("300ms ease-out",he({width:"0",height:"0",opacity:0,transform:"scale(0.8)"}))])])]}})}return o})();function Un(o,r,e){let t=$n(o,r);if(!t||Gn(t,e))return null;let n=Kn(o,r);return n?Qn(n,e,t):null}function $n(o,r){if(o.id===r)return o;if(o.children)for(let e of o.children){let t=$n(e,r);if(t)return t}return null}function Gn(o,r){return o.id===r?!0:o.children?.length?o.children.some(e=>Gn(e,r)):!1}function Kn(o,r){if(o.id===r)return null;let e=U(E({},o),{children:o.children?[...o.children]:void 0});if(!e.children)return e;let t=e.children.filter(n=>n.id!==r).map(n=>Kn(n,r)).filter(n=>n!==null);return U(E({},e),{children:t.length>0?t:void 0})}function Qn(o,r,e){if(o.id===r){let t=o.children||[];return U(E({},o),{children:[...t,E({},e)]})}if(o.children){let t=o.children.map(n=>Qn(n,r,e)).filter(n=>n!==null);return U(E({},o),{children:t})}return o}var Jn={id:1,name:"Alice Johnson",title:"Chief Executive Officer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/21.jpg",children:[{id:2,name:"Engineering Department",type:"department",children:[{id:3,name:"Bob Smith",title:"CTO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/50.jpg",children:[{id:4,name:"Carol White",title:"Frontend Lead",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/3.jpg",children:[{id:9,name:"Emily Brown",title:"Senior Frontend Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/22.jpg"},{id:10,name:"Jake Hall",title:"Junior Frontend Developer",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/23.jpg"}]},{id:5,name:"David Kim",title:"Backend Lead",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/4.jpg",children:[{id:11,name:"Megan Lee",title:"DevOps Engineer",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/33.jpg"},{id:8,name:"Chris Johnson",title:"Database Administrator",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/men/80.jpg"}]}]}]},{id:6,name:"Finance Department",type:"department",children:[{id:7,name:"Eva Green",title:"CFO",type:"employee",thumbnail:"https://randomuser.me/api/portraits/women/5.jpg",children:[{id:12,name:"Grace White",title:"Financial Analyst",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/34.jpg",children:[{id:14,name:"Liam Brown",title:"Junior Financial Analyst",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/36.jpg"},{id:15,name:"Olivia Green",title:"Intern",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/36.jpg"}]},{id:13,name:"Henry Black",title:"Payroll Specialist",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/35.jpg",children:[{id:16,name:"Sophia Blue",title:"Payroll Assistant",type:"contractor",thumbnail:"https://randomuser.me/api/portraits/women/37.jpg"},{id:17,name:"James White",title:"Payroll Intern",type:"employee",thumbnail:"https://randomuser.me/api/portraits/men/38.jpg"}]}]}]}]};var zr=["toolbar"],Lr=()=>({});function Rr(o,r){if(o&1&&(O(0,"small",11),B(1),M()),o&2){let e=f().$implicit;y(),G(e==null?null:e.label)}}function Br(o,r){if(o&1&&(O(0,"span",16),B(1),M()),o&2){let e=f(2).$implicit;y(),G(e==null?null:e.label)}}function Fr(o,r){if(o&1){let e=ee();O(0,"app-button",13),$("click",function(){D(e);let n=f().$implicit;return S(n==null?null:n.onClick())}),O(1,"div",14),J(2,"app-icon",15),L(3,Br,2,1,"span",16),M()()}if(o&2){let e=f().$implicit;Y("title",(e==null?null:e.title)??""),y(2),Y("name",e==null?null:e.icon),y(),R(e!=null&&e.label?3:-1)}}function Vr(o,r){if(o&1&&L(0,Rr,2,1,"small",11)(1,Fr,4,3,"app-button",12),o&2){let e=r.$implicit;R(e!=null&&e.isText?0:1)}}function Yr(o,r){o&1&&(O(0,"small",24),B(1,"Contractor"),M())}function Hr(o,r){if(o&1&&(O(0,"section",17)(1,"section",19),J(2,"img",20),M(),O(3,"section",21)(4,"span",22),B(5),M(),O(6,"span",23),B(7),M(),L(8,Yr,2,0,"small",24),M()()),o&2){f();let e=it(0),t=e.type===f().overviewDataTypeEnum.Contractor;y(2),Y("src",e==null?null:e.thumbnail,Yt),y(3),G(e==null?null:e.name),y(2),G(e==null?null:e.title),y(),R(t?8:-1)}}function Wr(o,r){if(o&1&&(O(0,"section",18)(1,"section",25),J(2,"app-icon",26),M(),O(3,"section",27)(4,"span",28),B(5),M(),O(6,"span",29),B(7),M()()()),o&2){let e=f().node,t=it(0);y(5),G(t==null?null:t.name),y(2),Xt(" ",e==null?null:e.descendantsCount," Members ")}}function qr(o,r){if(o&1&&(jt(0),L(1,Hr,9,4,"section",17)(2,Wr,8,2,"section",18)),o&2){let e,t=r.node,n=f(),a=Ut(t==null?null:t.data);y(),R((e=!0)==(a.type===n.overviewDataTypeEnum.Employee||a.type===n.overviewDataTypeEnum.Contractor)?1:e===(a.type===n.overviewDataTypeEnum.Department)?2:-1)}}var eo=class o{orgChart=ge(je);toolbar=ge("toolbar");data=V(null);showLeftShadow=V(!1);showRightShadow=V(!1);setData=Be(()=>{this.data.set(this.mapDataToOrgChartNode(Jn))});constructor(){Ht(()=>{this.checkScrollState(),this.observeToolbarResize()})}overviewDataTypeEnum=lt;themeOptions={node:{background:"var(--bg-primary)",outlineColor:"transparent",activeOutlineColor:"transparent",shadow:"0 0 0.125rem var(--node-shadow-color)",dragOverOutlineColor:"var(--text-primary)"},collapseButton:{color:"var(--text-secondary)",background:"var(--bg-primary)",borderColor:"var(--border-3)",hoverColor:"var(--text-primary)",hoverBackground:"var(--bg-secondary)",focusOutline:"0.0625rem solid var(--text-primary)"},connector:{activeColor:"var(--text-primary)",color:"var(--border-3)"}};orgChartLayout=V("vertical");draggableEnabled=V(!1);toolbarButtons=ue(()=>{let r=this.orgChartLayout()==="vertical";return[{title:"Zoom Out",icon:"zoom-out",onClick:()=>this.orgChart()?.zoomOut()},{title:"Zoom Level",isText:!0,label:`${this.orgChart()?.getScale()??0}%`},{title:"Zoom In",icon:"zoom-in",onClick:()=>this.orgChart()?.zoomIn()},{title:"Collapse All Nodes",icon:"collapse",onClick:()=>{this.orgChart()?.toggleCollapseAll(!0),setTimeout(()=>this.reset(),300)}},{title:"Expand All Nodes",icon:"expand",onClick:()=>{this.orgChart()?.toggleCollapseAll(!1),setTimeout(()=>this.reset(),300)}},{title:"Reset Zoom and Pan",icon:"center-h-v",onClick:()=>this.reset()},{label:this.draggableEnabled()?"Disable Drag & Drop":"Enable Drag & Drop",icon:"drag-drop",onClick:()=>this.draggableEnabled.update(e=>!e)},{label:r?"Switch to Horizontal":"Switch to Vertical",icon:r?"logo-horizontal":"logo",onClick:()=>{this.orgChartLayout.set(r?"horizontal":"vertical")}},{title:"Highlight Engineering Department",label:"Highlight Engineering Department",icon:"target",onClick:()=>this.orgChart()?.highlightNode(2)}]});onNodeDrop(r){let e=this.data();if(!e)return;let t=Un(e,r.draggedNode.id,r.targetNode.id);this.data.set(t)}onToolbarScroll(r){let e=r.target;this.updateScrollShadows(e)}checkScrollState(){let r=this.toolbar()?.nativeElement;r&&this.updateScrollShadows(r)}observeToolbarResize(){let r=this.toolbar()?.nativeElement;if(!r)return;new ResizeObserver(()=>{this.updateScrollShadows(r)}).observe(r)}updateScrollShadows(r){let e=r.scrollLeft,t=r.scrollWidth-r.clientWidth;this.showLeftShadow.set(e>1),this.showRightShadow.set(e<t-1)}reset(){this.orgChart()?.resetPanAndZoom()}mapDataToOrgChartNode(t){var n=t,{children:r}=n,e=Rt(n,["children"]);return{id:e.id.toString(),name:e.name,data:E({},e),children:r?.map(a=>this.mapDataToOrgChartNode(a))||[]}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=ke({type:o,selectors:[["app-overview"]],viewQuery:function(e,t){e&1&&(de(t.orgChart,je,5),de(t.toolbar,zr,5)),e&2&&Le(2)},decls:16,vars:9,consts:[["toolbar",""],["nodeTemplate",""],[1,"overview"],[1,"overview__title"],[1,"overview__description"],[1,"overview__toolbar-wrapper"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--left"],[1,"overview__toolbar",3,"scroll"],[1,"overview__toolbar-shadow","overview__toolbar-shadow--right"],[1,"overview__demo"],[3,"nodeDrop","data","themeOptions","layout","draggable"],[1,"overview__toolbar-text"],["severity","inverted","variant","icon",3,"title"],["severity","inverted","variant","icon",3,"click","title"],[1,"overview__toolbar-button"],["size","small",3,"name"],[1,"overview__toolbar-button-label"],[1,"overview__employee"],[1,"overview__department"],[1,"overview__employee-thumbnail"],[3,"src"],[1,"overview__employee-details"],[1,"overview__employee-details-name"],[1,"overview__employee-details-position"],[1,"overview__employee-details-type"],[1,"overview__department-thumbnail"],["name","department","size","large",1,"overview__department-thumbnail-icon"],[1,"overview__department-details"],[1,"overview__department-details-name"],[1,"overview__department-details-description"]],template:function(e,t){if(e&1){let n=ee();O(0,"article",2)(1,"h1",3),B(2,"Overview"),M(),O(3,"p",4),B(4," This section provides a brief overview of the application, highlighting its main features and functionalities. "),M(),O(5,"section",5),J(6,"div",6),O(7,"section",7,0),$("scroll",function(i){return D(n),S(t.onToolbarScroll(i))}),Ae(9,Vr,2,1,null,null,Wt),M(),J(11,"div",8),M(),O(12,"section",9)(13,"ngx-interactive-org-chart",10),$("nodeDrop",function(i){return D(n),S(t.onNodeDrop(i))}),Ze(14,qr,3,2,"ng-template",null,1,Re),M()()()}e&2&&(y(6),te("overview__toolbar-shadow--visible",t.showLeftShadow()),y(3),ze(t.toolbarButtons()),y(2),te("overview__toolbar-shadow--visible",t.showRightShadow()),y(2),Y("data",t.data()??$t(8,Lr))("themeOptions",t.themeOptions)("layout",t.orgChartLayout())("draggable",t.draggableEnabled()))},dependencies:[je,en,tn],styles:[".overview[_ngcontent-%COMP%]{height:100%;padding:1rem 1.5rem 1.5rem;display:flex;flex-direction:column}.overview__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-block-end:1rem}.overview__description[_ngcontent-%COMP%]{font-size:1rem;margin:0;margin-block-end:1rem}.overview__demo[_ngcontent-%COMP%]{flex:1;background-color:var(--bg-secondary);border-radius:1rem;position:relative;overflow:hidden}.overview__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;gap:1rem;width:100%;scrollbar-width:none;-ms-overflow-style:none}.overview__toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.overview__toolbar-wrapper[_ngcontent-%COMP%]{position:relative;margin-block-end:.5rem;overflow:hidden}.overview__toolbar-shadow[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:4rem;pointer-events:none;opacity:0;transition:opacity .3s ease;z-index:10}.overview__toolbar-shadow--left[_ngcontent-%COMP%]{inset-inline-start:0;background:linear-gradient(to right,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset 8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--right[_ngcontent-%COMP%]{inset-inline-end:0;background:linear-gradient(to left,var(--bg-primary) 0%,var(--bg-primary) 10%,transparent 100%);box-shadow:inset -8px 0 12px -4px var(--shadow-color, rgba(0, 0, 0, .15))}.overview__toolbar-shadow--visible[_ngcontent-%COMP%]{opacity:1}.overview__toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.overview__toolbar-button-label[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}.overview__toolbar-text[_ngcontent-%COMP%]{min-width:3rem;display:flex;align-items:center;justify-content:center}.overview__employee[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__employee-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:3rem;height:3rem;object-fit:cover;box-shadow:0 0 .25rem #0000004d}.overview__employee-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__employee-details-name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:.875rem}.overview__employee-details-position[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__employee-details-type[_ngcontent-%COMP%]{font-size:.5rem;background-color:var(--surface-muted);padding:.125rem .25rem;border-radius:.25rem;color:var(--text-primary)}.overview__department[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.overview__department-thumbnail-icon[_ngcontent-%COMP%]{background-color:var(--surface-muted);padding:.5rem;border-radius:50%}.overview__department-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;align-items:flex-start}.overview__department-details-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--text-primary)}.overview__department-details-description[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.overview__department-name[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}@media screen and (max-width: 768px){.overview[_ngcontent-%COMP%]{padding-inline:1rem}.overview__title[_ngcontent-%COMP%]{font-size:1.5rem}.overview__description[_ngcontent-%COMP%]{font-size:.875rem}}"]})};export{eo as OverviewComponent};
